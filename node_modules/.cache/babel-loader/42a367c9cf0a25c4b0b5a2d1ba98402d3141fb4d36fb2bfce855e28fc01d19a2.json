{"ast":null,"code":"import _objectSpread from\"C:/Users/skank/Videos/Cards/Milchcards/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useRef,useState}from\"react\";import{LAYOUT}from\"../ui/layout\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const typeColor={government:\"#4ade80\",public:\"#60a5fa\",dauerhaft:\"#f59e0b\",sofort:\"#f472b6\",hand:\"#a78bfa\",other:\"#a78bfa\"};const uid=()=>Math.random().toString(36).slice(2,9);// Convert current LAYOUT to editor format\nconst convertLayoutToEditorFormat=()=>{const slots=[];LAYOUT.zones.forEach(zone=>{var _zone$layout,_zone$layout2;if(((_zone$layout=zone.layout)===null||_zone$layout===void 0?void 0:_zone$layout.type)==='fixedSlots'){var _lay$direction;const[x,y,w,h]=zone.rectPx;const lay=zone.layout;const slotCount=lay.slots;const slotSize=lay.slotSize;const gap=lay.gap;const direction=(_lay$direction=lay.direction)!==null&&_lay$direction!==void 0?_lay$direction:'row';for(let i=0;i<slotCount;i++){let slotX=x;let slotY=y;if(direction==='horizontal'){slotX=x+i*(slotSize[0]+gap);}else if(direction==='vertical'){slotY=y+i*(slotSize[1]+gap);}else if(direction==='vertical-reverse'){slotY=y+(slotCount-1-i)*(slotSize[1]+gap);}const slotId=\"\".concat(zone.id,\"-\").concat(i);const slotType=getSlotType(zone.id);slots.push({id:slotId,name:slotId,type:slotType,x:slotX,y:slotY,width:slotSize[0],height:slotSize[1],color:typeColor[slotType],locked:false,clickZone:{x:slotX,y:slotY,width:slotSize[0],height:slotSize[1]}});}}else if(((_zone$layout2=zone.layout)===null||_zone$layout2===void 0?void 0:_zone$layout2.type)==='singleSlot'){const[x,y,w,h]=zone.rectPx;const slotType=getSlotType(zone.id);slots.push({id:zone.id,name:zone.id,type:slotType,x:x,y:y,width:w,height:h,color:typeColor[slotType],locked:false,clickZone:{x:x,y:y,width:w,height:h}});}});return{canvas:{width:1920,height:1080,grid:13},slots};};const getSlotType=zoneId=>{if(zoneId.includes('government'))return'government';if(zoneId.includes('public'))return'public';if(zoneId.includes('permanent'))return'dauerhaft';if(zoneId.includes('instant'))return'sofort';if(zoneId.includes('interventions'))return'sofort';if(zoneId.includes('hand'))return'hand';return'other';};const getTypeColor=type=>{return typeColor[type]||typeColor.other;};const defaultLayout=convertLayoutToEditorFormat();const UILayoutEditor=()=>{const[layout,setLayout]=useState(defaultLayout);const[selected,setSelected]=useState(null);const[showClickZone,setShowClickZone]=useState(false);const[showGrid,setShowGrid]=useState(true);const[editMode,setEditMode]=useState('position');const[zoom,setZoom]=useState(0.5);const canvasRef=useRef(null);const isDragging=useRef(false);const dragStart=useRef({x:0,y:0});const addSlot=type=>{const newSlot={id:uid(),name:\"New \".concat(type),type,x:100,y:100,width:256,height:256,color:typeColor[type],locked:false,clickZone:{x:100,y:100,width:256,height:256}};setLayout(prev=>_objectSpread(_objectSpread({},prev),{},{slots:[...prev.slots,newSlot]}));};const deleteSlot=id=>{setLayout(prev=>_objectSpread(_objectSpread({},prev),{},{slots:prev.slots.filter(s=>s.id!==id)}));if((selected===null||selected===void 0?void 0:selected.id)===id)setSelected(null);};const updateSlot=(id,updates)=>{setLayout(prev=>_objectSpread(_objectSpread({},prev),{},{slots:prev.slots.map(s=>s.id===id?_objectSpread(_objectSpread({},s),updates):s)}));};const exportGameFormat=()=>{const zones=[];const slotGroups={};// Group slots by their base ID\nlayout.slots.forEach(slot=>{const baseId=slot.id.split('-')[0];if(!slotGroups[baseId])slotGroups[baseId]=[];slotGroups[baseId].push(slot);});// Convert groups to zones\nObject.entries(slotGroups).forEach(_ref=>{let[baseId,slots]=_ref;if(slots.length===1){// Single slot\nconst slot=slots[0];zones.push({id:baseId,rectPx:[slot.x,slot.y,slot.width,slot.height],layout:{type:\"singleSlot\",slotSize:[slot.width,slot.height]},z:10});}else{// Multiple slots - determine layout type\nconst firstSlot=slots[0];const isHorizontal=slots.every(s=>s.y===firstSlot.y);const isVertical=slots.every(s=>s.x===firstSlot.x);if(isHorizontal){const minX=Math.min(...slots.map(s=>s.x));const maxX=Math.max(...slots.map(s=>s.x+s.width));const y=firstSlot.y;const width=maxX-minX;const height=firstSlot.height;zones.push({id:baseId,rectPx:[minX,y,width,height],layout:{type:\"fixedSlots\",slots:slots.length,slotSize:[firstSlot.width,firstSlot.height],gap:slots.length>1?slots[1].x-(slots[0].x+slots[0].width):8,alignment:\"left\",direction:\"horizontal\"},z:10});}else if(isVertical){const minY=Math.min(...slots.map(s=>s.y));const maxY=Math.max(...slots.map(s=>s.y+s.height));const x=firstSlot.x;const width=firstSlot.width;const height=maxY-minY;zones.push({id:baseId,rectPx:[x,minY,width,height],layout:{type:\"fixedSlots\",slots:slots.length,slotSize:[firstSlot.width,firstSlot.height],gap:slots.length>1?slots[1].y-(slots[0].y+slots[0].height):8,alignment:\"left\",direction:\"vertical\"},z:10});}}});const exportData={version:4,canvas:{width:layout.canvas.width,height:layout.canvas.height,aspect:\"16:9\"},scaling:{mode:\"fit\",letterbox:true},zones};const dataStr=JSON.stringify(exportData,null,2);const dataBlob=new Blob([dataStr],{type:'application/json'});const url=URL.createObjectURL(dataBlob);const link=document.createElement('a');link.href=url;link.download='ui_layout_1920x1080.json';link.click();URL.revokeObjectURL(url);};const exportPNG=()=>{const canvas=canvasRef.current;if(!canvas)return;// Create a temporary canvas for export\nconst exportCanvas=document.createElement('canvas');const ctx=exportCanvas.getContext('2d');if(!ctx)return;exportCanvas.width=layout.canvas.width;exportCanvas.height=layout.canvas.height;// Draw background\nctx.fillStyle='#ffffff';ctx.fillRect(0,0,exportCanvas.width,exportCanvas.height);// Draw grid\nif(showGrid){ctx.strokeStyle='#e5e7eb';ctx.lineWidth=1;for(let x=0;x<=exportCanvas.width;x+=layout.canvas.grid){ctx.beginPath();ctx.moveTo(x,0);ctx.lineTo(x,exportCanvas.height);ctx.stroke();}for(let y=0;y<=exportCanvas.height;y+=layout.canvas.grid){ctx.beginPath();ctx.moveTo(0,y);ctx.lineTo(exportCanvas.width,y);ctx.stroke();}}// Draw slots\nlayout.slots.forEach(slot=>{// Draw slot rectangle\nctx.fillStyle=slot.color+'40';// Add transparency\nctx.fillRect(slot.x,slot.y,slot.width,slot.height);ctx.strokeStyle=slot.color;ctx.lineWidth=2;ctx.strokeRect(slot.x,slot.y,slot.width,slot.height);// Draw slot name\nctx.fillStyle='#000000';ctx.font='12px Arial';ctx.textAlign='center';ctx.fillText(slot.name,slot.x+slot.width/2,slot.y+slot.height/2);// Draw click zone if different from slot\nif(slot.clickZone&&(slot.clickZone.x!==slot.x||slot.clickZone.y!==slot.y||slot.clickZone.width!==slot.width||slot.clickZone.height!==slot.height)){ctx.strokeStyle='#ff0000';ctx.lineWidth=1;ctx.setLineDash([5,5]);ctx.strokeRect(slot.clickZone.x,slot.clickZone.y,slot.clickZone.width,slot.clickZone.height);ctx.setLineDash([]);}});// Export as PNG\nconst dataURL=exportCanvas.toDataURL('image/png');const link=document.createElement('a');link.href=dataURL;link.download='ui_layout_export.png';link.click();};const importBackground=()=>{const input=document.createElement('input');input.type='file';input.accept='image/*';input.onchange=e=>{var _files;const file=(_files=e.target.files)===null||_files===void 0?void 0:_files[0];if(file){const reader=new FileReader();reader.onload=e=>{var _e$target;const src=(_e$target=e.target)===null||_e$target===void 0?void 0:_e$target.result;setLayout(prev=>_objectSpread(_objectSpread({},prev),{},{background:{src}}));};reader.readAsDataURL(file);}};input.click();};const exportJSON=()=>{const dataStr=JSON.stringify(layout,null,2);const dataBlob=new Blob([dataStr],{type:'application/json'});const url=URL.createObjectURL(dataBlob);const link=document.createElement('a');link.href=url;link.download='ui_layout_editor.json';link.click();URL.revokeObjectURL(url);};const importJSON=()=>{const input=document.createElement('input');input.type='file';input.accept='.json';input.onchange=e=>{var _files2;const file=(_files2=e.target.files)===null||_files2===void 0?void 0:_files2[0];if(file){const reader=new FileReader();reader.onload=e=>{try{var _e$target2;const importedLayout=JSON.parse((_e$target2=e.target)===null||_e$target2===void 0?void 0:_e$target2.result);setLayout(importedLayout);}catch(error){alert('Error importing JSON file: '+error);}};reader.readAsText(file);}};input.click();};const handleMouseDown=e=>{const canvas=canvasRef.current;if(!canvas)return;const rect=canvas.getBoundingClientRect();const x=(e.clientX-rect.left)/zoom;const y=(e.clientY-rect.top)/zoom;const clickedSlot=layout.slots.find(slot=>x>=slot.x&&x<=slot.x+slot.width&&y>=slot.y&&y<=slot.y+slot.height);if(clickedSlot){setSelected(clickedSlot);isDragging.current=true;dragStart.current={x:x-clickedSlot.x,y:y-clickedSlot.y};}else{setSelected(null);}};const handleMouseMove=e=>{if(!isDragging.current||!selected)return;const canvas=canvasRef.current;if(!canvas)return;const rect=canvas.getBoundingClientRect();const x=(e.clientX-rect.left)/zoom;const y=(e.clientY-rect.top)/zoom;const newX=Math.round((x-dragStart.current.x)/layout.canvas.grid)*layout.canvas.grid;const newY=Math.round((y-dragStart.current.y)/layout.canvas.grid)*layout.canvas.grid;if(editMode==='position'){updateSlot(selected.id,{x:newX,y:newY});if(selected.clickZone){updateSlot(selected.id,{clickZone:_objectSpread(_objectSpread({},selected.clickZone),{},{x:newX,y:newY})});}}else if(editMode==='clickzone'&&selected.clickZone){updateSlot(selected.id,{clickZone:_objectSpread(_objectSpread({},selected.clickZone),{},{x:newX,y:newY})});}};const handleMouseUp=()=>{isDragging.current=false;};const drawCanvas=()=>{var _layout$background;const canvas=canvasRef.current;if(!canvas)return;const ctx=canvas.getContext('2d');if(!ctx)return;ctx.clearRect(0,0,canvas.width,canvas.height);ctx.save();ctx.scale(zoom,zoom);// Draw background image if available\nif((_layout$background=layout.background)!==null&&_layout$background!==void 0&&_layout$background.src){const img=new Image();img.onload=()=>{ctx.drawImage(img,0,0,layout.canvas.width,layout.canvas.height);// Continue drawing on top of background\ndrawGridAndSlots(ctx);};img.src=layout.background.src;return;// Exit early, will continue in onload\n}// If no background, draw directly\ndrawGridAndSlots(ctx);};const drawGridAndSlots=ctx=>{// Draw grid if enabled\nif(showGrid){ctx.strokeStyle='#e5e7eb';ctx.lineWidth=1;for(let x=0;x<layout.canvas.width;x+=layout.canvas.grid){ctx.beginPath();ctx.moveTo(x,0);ctx.lineTo(x,layout.canvas.height);ctx.stroke();}for(let y=0;y<layout.canvas.height;y+=layout.canvas.grid){ctx.beginPath();ctx.moveTo(0,y);ctx.lineTo(layout.canvas.width,y);ctx.stroke();}}// Draw slots\nlayout.slots.forEach(slot=>{const isSelected=(selected===null||selected===void 0?void 0:selected.id)===slot.id;// Draw main slot\nctx.fillStyle=slot.color+'40';ctx.fillRect(slot.x,slot.y,slot.width,slot.height);ctx.strokeStyle=isSelected?'#ef4444':slot.color;ctx.lineWidth=isSelected?3:2;ctx.strokeRect(slot.x,slot.y,slot.width,slot.height);// Draw click zone if enabled\nif(showClickZone&&slot.clickZone){ctx.fillStyle='rgba(255, 0, 0, 0.2)';ctx.fillRect(slot.clickZone.x,slot.clickZone.y,slot.clickZone.width,slot.clickZone.height);ctx.strokeStyle='#ef4444';ctx.lineWidth=1;ctx.setLineDash([5,5]);ctx.strokeRect(slot.clickZone.x,slot.clickZone.y,slot.clickZone.width,slot.clickZone.height);ctx.setLineDash([]);}// Draw label\nctx.fillStyle='#000';ctx.font='12px sans-serif';ctx.textAlign='center';ctx.fillText(slot.name,slot.x+slot.width/2,slot.y+slot.height/2);});ctx.restore();};useEffect(()=>{drawCanvas();},[layout,selected,showClickZone,showGrid,zoom]);return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',fontFamily:'sans-serif'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"UI Layout Editor\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px',display:'flex',gap:'10px',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"button\",{style:{border:\"1px solid #d1d5db\",padding:\"4px 12px\",borderRadius:\"4px\",background:\"white\",cursor:\"pointer\"},onMouseOver:e=>e.currentTarget.style.background=\"#f9fafb\",onMouseOut:e=>e.currentTarget.style.background=\"white\",onClick:()=>addSlot(\"government\"),children:\"+ Government\"}),/*#__PURE__*/_jsx(\"button\",{style:{border:\"1px solid #d1d5db\",padding:\"4px 12px\",borderRadius:\"4px\",background:\"white\",cursor:\"pointer\"},onMouseOver:e=>e.currentTarget.style.background=\"#f9fafb\",onMouseOut:e=>e.currentTarget.style.background=\"white\",onClick:()=>addSlot(\"public\"),children:\"+ Public\"}),/*#__PURE__*/_jsx(\"button\",{style:{border:\"1px solid #d1d5db\",padding:\"4px 12px\",borderRadius:\"4px\",background:\"white\",cursor:\"pointer\"},onMouseOver:e=>e.currentTarget.style.background=\"#f9fafb\",onMouseOut:e=>e.currentTarget.style.background=\"white\",onClick:()=>addSlot(\"dauerhaft\"),children:\"+ Dauerhaft\"}),/*#__PURE__*/_jsx(\"button\",{style:{border:\"1px solid #d1d5db\",padding:\"4px 12px\",borderRadius:\"4px\",background:\"white\",cursor:\"pointer\"},onMouseOver:e=>e.currentTarget.style.background=\"#f9fafb\",onMouseOut:e=>e.currentTarget.style.background=\"white\",onClick:()=>addSlot(\"sofort\"),children:\"+ Sofort\"}),/*#__PURE__*/_jsx(\"button\",{style:{border:\"1px solid #d1d5db\",padding:\"4px 12px\",borderRadius:\"4px\",background:\"white\",cursor:\"pointer\"},onMouseOver:e=>e.currentTarget.style.background=\"#f9fafb\",onMouseOut:e=>e.currentTarget.style.background=\"white\",onClick:()=>addSlot(\"hand\"),children:\"+ Hand\"}),/*#__PURE__*/_jsx(\"button\",{style:{border:\"1px solid #d1d5db\",padding:\"4px 12px\",borderRadius:\"4px\",background:\"white\",cursor:\"pointer\"},onMouseOver:e=>e.currentTarget.style.background=\"#f9fafb\",onMouseOut:e=>e.currentTarget.style.background=\"white\",onClick:()=>addSlot(\"other\"),children:\"+ Other\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:'20px'},children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:showClickZone,onChange:e=>setShowClickZone(e.target.checked),style:{marginRight:'5px'}}),\"Show Click Zones\"]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:'20px'},children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:showGrid,onChange:e=>setShowGrid(e.target.checked),style:{marginRight:'5px'}}),\"Show Grid\"]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:'20px'},children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Edit Mode:\",/*#__PURE__*/_jsxs(\"select\",{value:editMode,onChange:e=>setEditMode(e.target.value),style:{marginLeft:'5px',border:\"1px solid #d1d5db\",padding:\"2px 4px\",borderRadius:\"4px\"},children:[/*#__PURE__*/_jsx(\"option\",{value:\"position\",children:\"Position\"}),/*#__PURE__*/_jsx(\"option\",{value:\"clickzone\",children:\"Click Zone\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:'20px'},children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Zoom:\",/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"0.1\",max:\"2\",step:\"0.1\",value:zoom,onChange:e=>setZoom(parseFloat(e.target.value)),style:{marginLeft:'5px',width:'100px'}}),Math.round(zoom*100),\"%\"]})}),/*#__PURE__*/_jsx(\"button\",{style:{marginLeft:'20px',border:\"1px solid #10b981\",padding:\"4px 12px\",borderRadius:\"4px\",background:\"#10b981\",color:\"white\",cursor:\"pointer\"},onMouseOver:e=>e.currentTarget.style.background=\"#059669\",onMouseOut:e=>e.currentTarget.style.background=\"#10b981\",onClick:exportGameFormat,children:\"Export Game Format\"}),/*#__PURE__*/_jsx(\"button\",{style:{marginLeft:'10px',border:\"1px solid #3b82f6\",padding:\"4px 12px\",borderRadius:\"4px\",background:\"#3b82f6\",color:\"white\",cursor:\"pointer\"},onMouseOver:e=>e.currentTarget.style.background=\"#2563eb\",onMouseOut:e=>e.currentTarget.style.background=\"#3b82f6\",onClick:exportPNG,children:\"Export PNG\"}),/*#__PURE__*/_jsx(\"button\",{style:{marginLeft:'10px',border:\"1px solid #8b5cf6\",padding:\"4px 12px\",borderRadius:\"4px\",background:\"#8b5cf6\",color:\"white\",cursor:\"pointer\"},onMouseOver:e=>e.currentTarget.style.background=\"#7c3aed\",onMouseOut:e=>e.currentTarget.style.background=\"#8b5cf6\",onClick:exportJSON,children:\"Export JSON\"}),/*#__PURE__*/_jsx(\"button\",{style:{marginLeft:'10px',border:\"1px solid #f59e0b\",padding:\"4px 12px\",borderRadius:\"4px\",background:\"#f59e0b\",color:\"white\",cursor:\"pointer\"},onMouseOver:e=>e.currentTarget.style.background=\"#d97706\",onMouseOut:e=>e.currentTarget.style.background=\"#f59e0b\",onClick:importJSON,children:\"Import JSON\"}),/*#__PURE__*/_jsx(\"button\",{style:{marginLeft:'10px',border:\"1px solid #06b6d4\",padding:\"4px 12px\",borderRadius:\"4px\",background:\"#06b6d4\",color:\"white\",cursor:\"pointer\"},onMouseOver:e=>e.currentTarget.style.background=\"#0891b2\",onMouseOut:e=>e.currentTarget.style.background=\"#06b6d4\",onClick:importBackground,children:\"Import Background\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'20px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,width:layout.canvas.width*zoom,height:layout.canvas.height*zoom,style:{border:'1px solid #d1d5db',cursor:'move'},onMouseDown:handleMouseDown,onMouseMove:handleMouseMove,onMouseUp:handleMouseUp,onMouseLeave:handleMouseUp})}),selected&&/*#__PURE__*/_jsxs(\"div\",{style:{width:'300px',padding:'20px',border:'1px solid #d1d5db',borderRadius:'4px'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Selected Slot\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'10px'},children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:selected.name,onChange:e=>updateSlot(selected.id,{name:e.target.value}),style:{width:'100%',border:\"1px solid #d1d5db\",padding:\"4px 8px\",borderRadius:\"4px\",marginTop:\"4px\"}})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'10px'},children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Type:\",/*#__PURE__*/_jsxs(\"select\",{style:{width:\"100%\",border:\"1px solid #d1d5db\",padding:\"4px 8px\",borderRadius:\"4px\",marginTop:\"4px\"},value:selected.type,onChange:e=>updateSlot(selected.id,{type:e.target.value,color:typeColor[e.target.value]}),children:[/*#__PURE__*/_jsx(\"option\",{value:\"government\",children:\"government\"}),/*#__PURE__*/_jsx(\"option\",{value:\"public\",children:\"public\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dauerhaft\",children:\"dauerhaft\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sofort\",children:\"sofort\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hand\",children:\"hand\"}),/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"other\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'10px'},children:/*#__PURE__*/_jsxs(\"label\",{children:[\"X:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:selected.x,onChange:e=>updateSlot(selected.id,{x:parseInt(e.target.value)}),style:{width:'100%',border:\"1px solid #d1d5db\",padding:\"4px 8px\",borderRadius:\"4px\",marginTop:\"4px\"}})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'10px'},children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Y:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:selected.y,onChange:e=>updateSlot(selected.id,{y:parseInt(e.target.value)}),style:{width:'100%',border:\"1px solid #d1d5db\",padding:\"4px 8px\",borderRadius:\"4px\",marginTop:\"4px\"}})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'10px'},children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Width:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:selected.width,onChange:e=>updateSlot(selected.id,{width:parseInt(e.target.value)}),style:{width:'100%',border:\"1px solid #d1d5db\",padding:\"4px 8px\",borderRadius:\"4px\",marginTop:\"4px\"}})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'10px'},children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Height:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:selected.height,onChange:e=>updateSlot(selected.id,{height:parseInt(e.target.value)}),style:{width:'100%',border:\"1px solid #d1d5db\",padding:\"4px 8px\",borderRadius:\"4px\",marginTop:\"4px\"}})]})}),selected.clickZone&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Click Zone\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'10px'},children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Click X:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:selected.clickZone.x,onChange:e=>updateSlot(selected.id,{clickZone:_objectSpread(_objectSpread({},selected.clickZone),{},{x:parseInt(e.target.value)})}),style:{width:'100%',border:\"1px solid #d1d5db\",padding:\"4px 8px\",borderRadius:\"4px\",marginTop:\"4px\"}})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'10px'},children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Click Y:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:selected.clickZone.y,onChange:e=>updateSlot(selected.id,{clickZone:_objectSpread(_objectSpread({},selected.clickZone),{},{y:parseInt(e.target.value)})}),style:{width:'100%',border:\"1px solid #d1d5db\",padding:\"4px 8px\",borderRadius:\"4px\",marginTop:\"4px\"}})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'10px'},children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Click Width:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:selected.clickZone.width,onChange:e=>updateSlot(selected.id,{clickZone:_objectSpread(_objectSpread({},selected.clickZone),{},{width:parseInt(e.target.value)})}),style:{width:'100%',border:\"1px solid #d1d5db\",padding:\"4px 8px\",borderRadius:\"4px\",marginTop:\"4px\"}})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'10px'},children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Click Height:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:selected.clickZone.height,onChange:e=>updateSlot(selected.id,{clickZone:_objectSpread(_objectSpread({},selected.clickZone),{},{height:parseInt(e.target.value)})}),style:{width:'100%',border:\"1px solid #d1d5db\",padding:\"4px 8px\",borderRadius:\"4px\",marginTop:\"4px\"}})]})})]}),/*#__PURE__*/_jsx(\"button\",{style:{border:\"1px solid #ef4444\",padding:\"4px 12px\",borderRadius:\"4px\",background:\"#ef4444\",color:\"white\",cursor:\"pointer\"},onMouseOver:e=>e.currentTarget.style.background=\"#dc2626\",onMouseOut:e=>e.currentTarget.style.background=\"#ef4444\",onClick:()=>deleteSlot(selected.id),children:\"Delete Slot\"})]})]})]});};export default UILayoutEditor;","map":{"version":3,"names":["React","useEffect","useRef","useState","LAYOUT","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","typeColor","government","public","dauerhaft","sofort","hand","other","uid","Math","random","toString","slice","convertLayoutToEditorFormat","slots","zones","forEach","zone","_zone$layout","_zone$layout2","layout","type","_lay$direction","x","y","w","h","rectPx","lay","slotCount","slotSize","gap","direction","i","slotX","slotY","slotId","concat","id","slotType","getSlotType","push","name","width","height","color","locked","clickZone","canvas","grid","zoneId","includes","getTypeColor","defaultLayout","UILayoutEditor","setLayout","selected","setSelected","showClickZone","setShowClickZone","showGrid","setShowGrid","editMode","setEditMode","zoom","setZoom","canvasRef","isDragging","dragStart","addSlot","newSlot","prev","_objectSpread","deleteSlot","filter","s","updateSlot","updates","map","exportGameFormat","slotGroups","slot","baseId","split","Object","entries","_ref","length","z","firstSlot","isHorizontal","every","isVertical","minX","min","maxX","max","alignment","minY","maxY","exportData","version","aspect","scaling","mode","letterbox","dataStr","JSON","stringify","dataBlob","Blob","url","URL","createObjectURL","link","document","createElement","href","download","click","revokeObjectURL","exportPNG","current","exportCanvas","ctx","getContext","fillStyle","fillRect","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","strokeRect","font","textAlign","fillText","setLineDash","dataURL","toDataURL","importBackground","input","accept","onchange","e","_files","file","target","files","reader","FileReader","onload","_e$target","src","result","background","readAsDataURL","exportJSON","importJSON","_files2","_e$target2","importedLayout","parse","error","alert","readAsText","handleMouseDown","rect","getBoundingClientRect","clientX","left","clientY","top","clickedSlot","find","handleMouseMove","newX","round","newY","handleMouseUp","drawCanvas","_layout$background","clearRect","save","scale","img","Image","drawImage","drawGridAndSlots","isSelected","restore","style","padding","fontFamily","children","marginBottom","display","alignItems","border","borderRadius","cursor","onMouseOver","currentTarget","onMouseOut","onClick","marginLeft","checked","onChange","marginRight","value","step","parseFloat","flex","ref","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","marginTop","parseInt"],"sources":["C:/Users/skank/Videos/Cards/Milchcards/src/components/UILayoutEditor.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { LAYOUT } from \"../ui/layout\";\r\n\r\ninterface Slot {\r\n  id: string;\r\n  name: string;\r\n  type: string;\r\n  x: number;\r\n  y: number;\r\n  width: number;\r\n  height: number;\r\n  color: string;\r\n  locked: boolean;\r\n  clickZone?: {\r\n    x: number;\r\n    y: number;\r\n    width: number;\r\n    height: number;\r\n  };\r\n}\r\n\r\ninterface CanvasConfig {\r\n  width: number;\r\n  height: number;\r\n  grid: number;\r\n}\r\n\r\ninterface LayoutData {\r\n  canvas: CanvasConfig;\r\n  background?: { src: string };\r\n  slots: Slot[];\r\n}\r\n\r\nconst typeColor: Record<string, string> = {\r\n  government: \"#4ade80\",\r\n  public: \"#60a5fa\",\r\n  dauerhaft: \"#f59e0b\",\r\n  sofort: \"#f472b6\",\r\n  hand: \"#a78bfa\",\r\n  other: \"#a78bfa\",\r\n};\r\n\r\nconst uid = () => Math.random().toString(36).slice(2, 9);\r\n\r\n// Convert current LAYOUT to editor format\r\nconst convertLayoutToEditorFormat = (): LayoutData => {\r\n  const slots: Slot[] = [];\r\n\r\n  LAYOUT.zones.forEach(zone => {\r\n    if (zone.layout?.type === 'fixedSlots') {\r\n      const [x, y, w, h] = zone.rectPx;\r\n      const lay = zone.layout as any;\r\n      const slotCount = lay.slots;\r\n      const slotSize = lay.slotSize;\r\n      const gap = lay.gap;\r\n      const direction = lay.direction ?? 'row';\r\n\r\n      for (let i = 0; i < slotCount; i++) {\r\n        let slotX = x;\r\n        let slotY = y;\r\n\r\n        if (direction === 'horizontal') {\r\n          slotX = x + i * (slotSize[0] + gap);\r\n        } else if (direction === 'vertical') {\r\n          slotY = y + i * (slotSize[1] + gap);\r\n        } else if (direction === 'vertical-reverse') {\r\n          slotY = y + (slotCount - 1 - i) * (slotSize[1] + gap);\r\n        }\r\n\r\n        const slotId = `${zone.id}-${i}`;\r\n        const slotType = getSlotType(zone.id);\r\n\r\n        slots.push({\r\n          id: slotId,\r\n          name: slotId,\r\n          type: slotType,\r\n          x: slotX,\r\n          y: slotY,\r\n          width: slotSize[0],\r\n          height: slotSize[1],\r\n          color: typeColor[slotType],\r\n          locked: false,\r\n          clickZone: {\r\n            x: slotX,\r\n            y: slotY,\r\n            width: slotSize[0],\r\n            height: slotSize[1]\r\n          }\r\n        });\r\n      }\r\n    } else if (zone.layout?.type === 'singleSlot') {\r\n      const [x, y, w, h] = zone.rectPx;\r\n      const slotType = getSlotType(zone.id);\r\n\r\n      slots.push({\r\n        id: zone.id,\r\n        name: zone.id,\r\n        type: slotType,\r\n        x: x,\r\n        y: y,\r\n        width: w,\r\n        height: h,\r\n        color: typeColor[slotType],\r\n        locked: false,\r\n        clickZone: {\r\n          x: x,\r\n          y: y,\r\n          width: w,\r\n          height: h\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  return {\r\n    canvas: {\r\n      width: 1920,\r\n      height: 1080,\r\n      grid: 13\r\n    },\r\n    slots\r\n  };\r\n};\r\n\r\nconst getSlotType = (zoneId: string): string => {\r\n  if (zoneId.includes('government')) return 'government';\r\n  if (zoneId.includes('public')) return 'public';\r\n  if (zoneId.includes('permanent')) return 'dauerhaft';\r\n  if (zoneId.includes('instant')) return 'sofort';\r\n  if (zoneId.includes('interventions')) return 'sofort';\r\n  if (zoneId.includes('hand')) return 'hand';\r\n  return 'other';\r\n};\r\n\r\nconst getTypeColor = (type: string): string => {\r\n  return typeColor[type] || typeColor.other;\r\n};\r\n\r\nconst defaultLayout: LayoutData = convertLayoutToEditorFormat();\r\n\r\nconst UILayoutEditor: React.FC = () => {\r\n  const [layout, setLayout] = useState<LayoutData>(defaultLayout);\r\n  const [selected, setSelected] = useState<Slot | null>(null);\r\n  const [showClickZone, setShowClickZone] = useState(false);\r\n  const [showGrid, setShowGrid] = useState(true);\r\n  const [editMode, setEditMode] = useState<'position' | 'clickzone'>('position');\r\n  const [zoom, setZoom] = useState(0.5);\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const isDragging = useRef(false);\r\n  const dragStart = useRef({ x: 0, y: 0 });\r\n\r\n  const addSlot = (type: string) => {\r\n    const newSlot: Slot = {\r\n      id: uid(),\r\n      name: `New ${type}`,\r\n      type,\r\n      x: 100,\r\n      y: 100,\r\n      width: 256,\r\n      height: 256,\r\n      color: typeColor[type],\r\n      locked: false,\r\n      clickZone: {\r\n        x: 100,\r\n        y: 100,\r\n        width: 256,\r\n        height: 256\r\n      }\r\n    };\r\n    setLayout(prev => ({ ...prev, slots: [...prev.slots, newSlot] }));\r\n  };\r\n\r\n  const deleteSlot = (id: string) => {\r\n    setLayout(prev => ({ ...prev, slots: prev.slots.filter(s => s.id !== id) }));\r\n    if (selected?.id === id) setSelected(null);\r\n  };\r\n\r\n  const updateSlot = (id: string, updates: Partial<Slot>) => {\r\n    setLayout(prev => ({\r\n      ...prev,\r\n      slots: prev.slots.map(s => s.id === id ? { ...s, ...updates } : s)\r\n    }));\r\n  };\r\n\r\n  const exportGameFormat = () => {\r\n    const zones: any[] = [];\r\n    const slotGroups: Record<string, Slot[]> = {};\r\n\r\n    // Group slots by their base ID\r\n    layout.slots.forEach(slot => {\r\n      const baseId = slot.id.split('-')[0];\r\n      if (!slotGroups[baseId]) slotGroups[baseId] = [];\r\n      slotGroups[baseId].push(slot);\r\n    });\r\n\r\n    // Convert groups to zones\r\n    Object.entries(slotGroups).forEach(([baseId, slots]) => {\r\n      if (slots.length === 1) {\r\n        // Single slot\r\n        const slot = slots[0];\r\n        zones.push({\r\n          id: baseId,\r\n          rectPx: [slot.x, slot.y, slot.width, slot.height],\r\n          layout: {\r\n            type: \"singleSlot\",\r\n            slotSize: [slot.width, slot.height]\r\n          },\r\n          z: 10\r\n        });\r\n      } else {\r\n        // Multiple slots - determine layout type\r\n        const firstSlot = slots[0];\r\n        const isHorizontal = slots.every(s => s.y === firstSlot.y);\r\n        const isVertical = slots.every(s => s.x === firstSlot.x);\r\n\r\n        if (isHorizontal) {\r\n          const minX = Math.min(...slots.map(s => s.x));\r\n          const maxX = Math.max(...slots.map(s => s.x + s.width));\r\n          const y = firstSlot.y;\r\n          const width = maxX - minX;\r\n          const height = firstSlot.height;\r\n\r\n          zones.push({\r\n            id: baseId,\r\n            rectPx: [minX, y, width, height],\r\n            layout: {\r\n              type: \"fixedSlots\",\r\n              slots: slots.length,\r\n              slotSize: [firstSlot.width, firstSlot.height],\r\n              gap: slots.length > 1 ? slots[1].x - (slots[0].x + slots[0].width) : 8,\r\n              alignment: \"left\",\r\n              direction: \"horizontal\"\r\n            },\r\n            z: 10\r\n          });\r\n        } else if (isVertical) {\r\n          const minY = Math.min(...slots.map(s => s.y));\r\n          const maxY = Math.max(...slots.map(s => s.y + s.height));\r\n          const x = firstSlot.x;\r\n          const width = firstSlot.width;\r\n          const height = maxY - minY;\r\n\r\n          zones.push({\r\n            id: baseId,\r\n            rectPx: [x, minY, width, height],\r\n            layout: {\r\n              type: \"fixedSlots\",\r\n              slots: slots.length,\r\n              slotSize: [firstSlot.width, firstSlot.height],\r\n              gap: slots.length > 1 ? slots[1].y - (slots[0].y + slots[0].height) : 8,\r\n              alignment: \"left\",\r\n              direction: \"vertical\"\r\n            },\r\n            z: 10\r\n          });\r\n        }\r\n      }\r\n    });\r\n\r\n    const exportData = {\r\n      version: 4,\r\n      canvas: {\r\n        width: layout.canvas.width,\r\n        height: layout.canvas.height,\r\n        aspect: \"16:9\"\r\n      },\r\n      scaling: {\r\n        mode: \"fit\",\r\n        letterbox: true\r\n      },\r\n      zones\r\n    };\r\n\r\n    const dataStr = JSON.stringify(exportData, null, 2);\r\n    const dataBlob = new Blob([dataStr], { type: 'application/json' });\r\n    const url = URL.createObjectURL(dataBlob);\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = 'ui_layout_1920x1080.json';\r\n    link.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  const exportPNG = () => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n\r\n    // Create a temporary canvas for export\r\n    const exportCanvas = document.createElement('canvas');\r\n    const ctx = exportCanvas.getContext('2d');\r\n    if (!ctx) return;\r\n\r\n    exportCanvas.width = layout.canvas.width;\r\n    exportCanvas.height = layout.canvas.height;\r\n\r\n    // Draw background\r\n    ctx.fillStyle = '#ffffff';\r\n    ctx.fillRect(0, 0, exportCanvas.width, exportCanvas.height);\r\n\r\n    // Draw grid\r\n    if (showGrid) {\r\n      ctx.strokeStyle = '#e5e7eb';\r\n      ctx.lineWidth = 1;\r\n      for (let x = 0; x <= exportCanvas.width; x += layout.canvas.grid) {\r\n        ctx.beginPath();\r\n        ctx.moveTo(x, 0);\r\n        ctx.lineTo(x, exportCanvas.height);\r\n        ctx.stroke();\r\n      }\r\n      for (let y = 0; y <= exportCanvas.height; y += layout.canvas.grid) {\r\n        ctx.beginPath();\r\n        ctx.moveTo(0, y);\r\n        ctx.lineTo(exportCanvas.width, y);\r\n        ctx.stroke();\r\n      }\r\n    }\r\n\r\n    // Draw slots\r\n    layout.slots.forEach(slot => {\r\n      // Draw slot rectangle\r\n      ctx.fillStyle = slot.color + '40'; // Add transparency\r\n      ctx.fillRect(slot.x, slot.y, slot.width, slot.height);\r\n      ctx.strokeStyle = slot.color;\r\n      ctx.lineWidth = 2;\r\n      ctx.strokeRect(slot.x, slot.y, slot.width, slot.height);\r\n\r\n      // Draw slot name\r\n      ctx.fillStyle = '#000000';\r\n      ctx.font = '12px Arial';\r\n      ctx.textAlign = 'center';\r\n      ctx.fillText(slot.name, slot.x + slot.width / 2, slot.y + slot.height / 2);\r\n\r\n      // Draw click zone if different from slot\r\n      if (slot.clickZone && (slot.clickZone.x !== slot.x || slot.clickZone.y !== slot.y ||\r\n          slot.clickZone.width !== slot.width || slot.clickZone.height !== slot.height)) {\r\n        ctx.strokeStyle = '#ff0000';\r\n        ctx.lineWidth = 1;\r\n        ctx.setLineDash([5, 5]);\r\n        ctx.strokeRect(slot.clickZone.x, slot.clickZone.y, slot.clickZone.width, slot.clickZone.height);\r\n        ctx.setLineDash([]);\r\n      }\r\n    });\r\n\r\n    // Export as PNG\r\n    const dataURL = exportCanvas.toDataURL('image/png');\r\n    const link = document.createElement('a');\r\n    link.href = dataURL;\r\n    link.download = 'ui_layout_export.png';\r\n    link.click();\r\n  };\r\n\r\n  const importBackground = () => {\r\n    const input = document.createElement('input');\r\n    input.type = 'file';\r\n    input.accept = 'image/*';\r\n    input.onchange = (e) => {\r\n      const file = (e.target as HTMLInputElement).files?.[0];\r\n      if (file) {\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          const src = e.target?.result as string;\r\n          setLayout(prev => ({\r\n            ...prev,\r\n            background: { src }\r\n          }));\r\n        };\r\n        reader.readAsDataURL(file);\r\n      }\r\n    };\r\n    input.click();\r\n  };\r\n\r\n  const exportJSON = () => {\r\n    const dataStr = JSON.stringify(layout, null, 2);\r\n    const dataBlob = new Blob([dataStr], { type: 'application/json' });\r\n    const url = URL.createObjectURL(dataBlob);\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = 'ui_layout_editor.json';\r\n    link.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  const importJSON = () => {\r\n    const input = document.createElement('input');\r\n    input.type = 'file';\r\n    input.accept = '.json';\r\n    input.onchange = (e) => {\r\n      const file = (e.target as HTMLInputElement).files?.[0];\r\n      if (file) {\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          try {\r\n            const importedLayout = JSON.parse(e.target?.result as string);\r\n            setLayout(importedLayout);\r\n          } catch (error) {\r\n            alert('Error importing JSON file: ' + error);\r\n          }\r\n        };\r\n        reader.readAsText(file);\r\n      }\r\n    };\r\n    input.click();\r\n  };\r\n\r\n  const handleMouseDown = (e: React.MouseEvent) => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = (e.clientX - rect.left) / zoom;\r\n    const y = (e.clientY - rect.top) / zoom;\r\n\r\n    const clickedSlot = layout.slots.find(slot =>\r\n      x >= slot.x && x <= slot.x + slot.width &&\r\n      y >= slot.y && y <= slot.y + slot.height\r\n    );\r\n\r\n    if (clickedSlot) {\r\n      setSelected(clickedSlot);\r\n      isDragging.current = true;\r\n      dragStart.current = { x: x - clickedSlot.x, y: y - clickedSlot.y };\r\n    } else {\r\n      setSelected(null);\r\n    }\r\n  };\r\n\r\n  const handleMouseMove = (e: React.MouseEvent) => {\r\n    if (!isDragging.current || !selected) return;\r\n\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = (e.clientX - rect.left) / zoom;\r\n    const y = (e.clientY - rect.top) / zoom;\r\n\r\n    const newX = Math.round((x - dragStart.current.x) / layout.canvas.grid) * layout.canvas.grid;\r\n    const newY = Math.round((y - dragStart.current.y) / layout.canvas.grid) * layout.canvas.grid;\r\n\r\n    if (editMode === 'position') {\r\n      updateSlot(selected.id, { x: newX, y: newY });\r\n      if (selected.clickZone) {\r\n        updateSlot(selected.id, {\r\n          clickZone: { ...selected.clickZone, x: newX, y: newY }\r\n        });\r\n      }\r\n    } else if (editMode === 'clickzone' && selected.clickZone) {\r\n      updateSlot(selected.id, {\r\n        clickZone: { ...selected.clickZone, x: newX, y: newY }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleMouseUp = () => {\r\n    isDragging.current = false;\r\n  };\r\n\r\n  const drawCanvas = () => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n\r\n    const ctx = canvas.getContext('2d');\r\n    if (!ctx) return;\r\n\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n    ctx.save();\r\n    ctx.scale(zoom, zoom);\r\n\r\n    // Draw background image if available\r\n    if (layout.background?.src) {\r\n      const img = new Image();\r\n      img.onload = () => {\r\n        ctx.drawImage(img, 0, 0, layout.canvas.width, layout.canvas.height);\r\n        // Continue drawing on top of background\r\n        drawGridAndSlots(ctx);\r\n      };\r\n      img.src = layout.background.src;\r\n      return; // Exit early, will continue in onload\r\n    }\r\n\r\n    // If no background, draw directly\r\n    drawGridAndSlots(ctx);\r\n  };\r\n\r\n  const drawGridAndSlots = (ctx: CanvasRenderingContext2D) => {\r\n    // Draw grid if enabled\r\n    if (showGrid) {\r\n      ctx.strokeStyle = '#e5e7eb';\r\n      ctx.lineWidth = 1;\r\n      for (let x = 0; x < layout.canvas.width; x += layout.canvas.grid) {\r\n        ctx.beginPath();\r\n        ctx.moveTo(x, 0);\r\n        ctx.lineTo(x, layout.canvas.height);\r\n        ctx.stroke();\r\n      }\r\n      for (let y = 0; y < layout.canvas.height; y += layout.canvas.grid) {\r\n        ctx.beginPath();\r\n        ctx.moveTo(0, y);\r\n        ctx.lineTo(layout.canvas.width, y);\r\n        ctx.stroke();\r\n      }\r\n    }\r\n\r\n    // Draw slots\r\n    layout.slots.forEach(slot => {\r\n      const isSelected = selected?.id === slot.id;\r\n\r\n      // Draw main slot\r\n      ctx.fillStyle = slot.color + '40';\r\n      ctx.fillRect(slot.x, slot.y, slot.width, slot.height);\r\n      ctx.strokeStyle = isSelected ? '#ef4444' : slot.color;\r\n      ctx.lineWidth = isSelected ? 3 : 2;\r\n      ctx.strokeRect(slot.x, slot.y, slot.width, slot.height);\r\n\r\n      // Draw click zone if enabled\r\n      if (showClickZone && slot.clickZone) {\r\n        ctx.fillStyle = 'rgba(255, 0, 0, 0.2)';\r\n        ctx.fillRect(slot.clickZone.x, slot.clickZone.y, slot.clickZone.width, slot.clickZone.height);\r\n        ctx.strokeStyle = '#ef4444';\r\n        ctx.lineWidth = 1;\r\n        ctx.setLineDash([5, 5]);\r\n        ctx.strokeRect(slot.clickZone.x, slot.clickZone.y, slot.clickZone.width, slot.clickZone.height);\r\n        ctx.setLineDash([]);\r\n      }\r\n\r\n      // Draw label\r\n      ctx.fillStyle = '#000';\r\n      ctx.font = '12px sans-serif';\r\n      ctx.textAlign = 'center';\r\n      ctx.fillText(slot.name, slot.x + slot.width / 2, slot.y + slot.height / 2);\r\n    });\r\n\r\n    ctx.restore();\r\n  };\r\n\r\n  useEffect(() => {\r\n    drawCanvas();\r\n  }, [layout, selected, showClickZone, showGrid, zoom]);\r\n\r\n  return (\r\n    <div style={{ padding: '20px', fontFamily: 'sans-serif' }}>\r\n      <h1>UI Layout Editor</h1>\r\n\r\n      <div style={{ marginBottom: '20px', display: 'flex', gap: '10px', alignItems: 'center' }}>\r\n        <button\r\n          style={{ border: \"1px solid #d1d5db\", padding: \"4px 12px\", borderRadius: \"4px\", background: \"white\", cursor: \"pointer\" }}\r\n          onMouseOver={(e) => e.currentTarget.style.background = \"#f9fafb\"}\r\n          onMouseOut={(e) => e.currentTarget.style.background = \"white\"}\r\n          onClick={() => addSlot(\"government\")}\r\n        >\r\n          + Government\r\n        </button>\r\n        <button\r\n          style={{ border: \"1px solid #d1d5db\", padding: \"4px 12px\", borderRadius: \"4px\", background: \"white\", cursor: \"pointer\" }}\r\n          onMouseOver={(e) => e.currentTarget.style.background = \"#f9fafb\"}\r\n          onMouseOut={(e) => e.currentTarget.style.background = \"white\"}\r\n          onClick={() => addSlot(\"public\")}\r\n        >\r\n          + Public\r\n        </button>\r\n        <button\r\n          style={{ border: \"1px solid #d1d5db\", padding: \"4px 12px\", borderRadius: \"4px\", background: \"white\", cursor: \"pointer\" }}\r\n          onMouseOver={(e) => e.currentTarget.style.background = \"#f9fafb\"}\r\n          onMouseOut={(e) => e.currentTarget.style.background = \"white\"}\r\n          onClick={() => addSlot(\"dauerhaft\")}\r\n        >\r\n          + Dauerhaft\r\n        </button>\r\n        <button\r\n          style={{ border: \"1px solid #d1d5db\", padding: \"4px 12px\", borderRadius: \"4px\", background: \"white\", cursor: \"pointer\" }}\r\n          onMouseOver={(e) => e.currentTarget.style.background = \"#f9fafb\"}\r\n          onMouseOut={(e) => e.currentTarget.style.background = \"white\"}\r\n          onClick={() => addSlot(\"sofort\")}\r\n        >\r\n          + Sofort\r\n        </button>\r\n        <button\r\n          style={{ border: \"1px solid #d1d5db\", padding: \"4px 12px\", borderRadius: \"4px\", background: \"white\", cursor: \"pointer\" }}\r\n          onMouseOver={(e) => e.currentTarget.style.background = \"#f9fafb\"}\r\n          onMouseOut={(e) => e.currentTarget.style.background = \"white\"}\r\n          onClick={() => addSlot(\"hand\")}\r\n        >\r\n          + Hand\r\n        </button>\r\n        <button\r\n          style={{ border: \"1px solid #d1d5db\", padding: \"4px 12px\", borderRadius: \"4px\", background: \"white\", cursor: \"pointer\" }}\r\n          onMouseOver={(e) => e.currentTarget.style.background = \"#f9fafb\"}\r\n          onMouseOut={(e) => e.currentTarget.style.background = \"white\"}\r\n          onClick={() => addSlot(\"other\")}\r\n        >\r\n          + Other\r\n        </button>\r\n\r\n        <div style={{ marginLeft: '20px' }}>\r\n          <label>\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={showClickZone}\r\n              onChange={(e) => setShowClickZone(e.target.checked)}\r\n              style={{ marginRight: '5px' }}\r\n            />\r\n            Show Click Zones\r\n          </label>\r\n        </div>\r\n\r\n        <div style={{ marginLeft: '20px' }}>\r\n          <label>\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={showGrid}\r\n              onChange={(e) => setShowGrid(e.target.checked)}\r\n              style={{ marginRight: '5px' }}\r\n            />\r\n            Show Grid\r\n          </label>\r\n        </div>\r\n\r\n        <div style={{ marginLeft: '20px' }}>\r\n          <label>\r\n            Edit Mode:\r\n            <select\r\n              value={editMode}\r\n              onChange={(e) => setEditMode(e.target.value as 'position' | 'clickzone')}\r\n              style={{ marginLeft: '5px', border: \"1px solid #d1d5db\", padding: \"2px 4px\", borderRadius: \"4px\" }}\r\n            >\r\n              <option value=\"position\">Position</option>\r\n              <option value=\"clickzone\">Click Zone</option>\r\n            </select>\r\n          </label>\r\n        </div>\r\n\r\n        <div style={{ marginLeft: '20px' }}>\r\n          <label>\r\n            Zoom:\r\n            <input\r\n              type=\"range\"\r\n              min=\"0.1\"\r\n              max=\"2\"\r\n              step=\"0.1\"\r\n              value={zoom}\r\n              onChange={(e) => setZoom(parseFloat(e.target.value))}\r\n              style={{ marginLeft: '5px', width: '100px' }}\r\n            />\r\n            {Math.round(zoom * 100)}%\r\n          </label>\r\n        </div>\r\n\r\n        <button\r\n          style={{ marginLeft: '20px', border: \"1px solid #10b981\", padding: \"4px 12px\", borderRadius: \"4px\", background: \"#10b981\", color: \"white\", cursor: \"pointer\" }}\r\n          onMouseOver={(e) => e.currentTarget.style.background = \"#059669\"}\r\n          onMouseOut={(e) => e.currentTarget.style.background = \"#10b981\"}\r\n          onClick={exportGameFormat}\r\n        >\r\n          Export Game Format\r\n        </button>\r\n\r\n        <button\r\n          style={{ marginLeft: '10px', border: \"1px solid #3b82f6\", padding: \"4px 12px\", borderRadius: \"4px\", background: \"#3b82f6\", color: \"white\", cursor: \"pointer\" }}\r\n          onMouseOver={(e) => e.currentTarget.style.background = \"#2563eb\"}\r\n          onMouseOut={(e) => e.currentTarget.style.background = \"#3b82f6\"}\r\n          onClick={exportPNG}\r\n        >\r\n          Export PNG\r\n        </button>\r\n\r\n        <button\r\n          style={{ marginLeft: '10px', border: \"1px solid #8b5cf6\", padding: \"4px 12px\", borderRadius: \"4px\", background: \"#8b5cf6\", color: \"white\", cursor: \"pointer\" }}\r\n          onMouseOver={(e) => e.currentTarget.style.background = \"#7c3aed\"}\r\n          onMouseOut={(e) => e.currentTarget.style.background = \"#8b5cf6\"}\r\n          onClick={exportJSON}\r\n        >\r\n          Export JSON\r\n        </button>\r\n\r\n        <button\r\n          style={{ marginLeft: '10px', border: \"1px solid #f59e0b\", padding: \"4px 12px\", borderRadius: \"4px\", background: \"#f59e0b\", color: \"white\", cursor: \"pointer\" }}\r\n          onMouseOver={(e) => e.currentTarget.style.background = \"#d97706\"}\r\n          onMouseOut={(e) => e.currentTarget.style.background = \"#f59e0b\"}\r\n          onClick={importJSON}\r\n        >\r\n          Import JSON\r\n        </button>\r\n\r\n        <button\r\n          style={{ marginLeft: '10px', border: \"1px solid #06b6d4\", padding: \"4px 12px\", borderRadius: \"4px\", background: \"#06b6d4\", color: \"white\", cursor: \"pointer\" }}\r\n          onMouseOver={(e) => e.currentTarget.style.background = \"#0891b2\"}\r\n          onMouseOut={(e) => e.currentTarget.style.background = \"#06b6d4\"}\r\n          onClick={importBackground}\r\n        >\r\n          Import Background\r\n        </button>\r\n      </div>\r\n\r\n      <div style={{ display: 'flex', gap: '20px' }}>\r\n        <div style={{ flex: 1 }}>\r\n          <canvas\r\n            ref={canvasRef}\r\n            width={layout.canvas.width * zoom}\r\n            height={layout.canvas.height * zoom}\r\n            style={{ border: '1px solid #d1d5db', cursor: 'move' }}\r\n            onMouseDown={handleMouseDown}\r\n            onMouseMove={handleMouseMove}\r\n            onMouseUp={handleMouseUp}\r\n            onMouseLeave={handleMouseUp}\r\n          />\r\n        </div>\r\n\r\n        {selected && (\r\n          <div style={{ width: '300px', padding: '20px', border: '1px solid #d1d5db', borderRadius: '4px' }}>\r\n            <h3>Selected Slot</h3>\r\n            <div style={{ marginBottom: '10px' }}>\r\n              <label>\r\n                Name:\r\n                <input\r\n                  type=\"text\"\r\n                  value={selected.name}\r\n                  onChange={(e) => updateSlot(selected.id, { name: e.target.value })}\r\n                  style={{ width: '100%', border: \"1px solid #d1d5db\", padding: \"4px 8px\", borderRadius: \"4px\", marginTop: \"4px\" }}\r\n                />\r\n              </label>\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '10px' }}>\r\n              <label>\r\n                Type:\r\n                <select\r\n                  style={{ width: \"100%\", border: \"1px solid #d1d5db\", padding: \"4px 8px\", borderRadius: \"4px\", marginTop: \"4px\" }}\r\n                  value={selected.type}\r\n                  onChange={(e) => updateSlot(selected.id, { type: e.target.value, color: typeColor[e.target.value] })}\r\n                >\r\n                  <option value=\"government\">government</option>\r\n                  <option value=\"public\">public</option>\r\n                  <option value=\"dauerhaft\">dauerhaft</option>\r\n                  <option value=\"sofort\">sofort</option>\r\n                  <option value=\"hand\">hand</option>\r\n                  <option value=\"other\">other</option>\r\n                </select>\r\n              </label>\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '10px' }}>\r\n              <label>\r\n                X:\r\n                <input\r\n                  type=\"number\"\r\n                  value={selected.x}\r\n                  onChange={(e) => updateSlot(selected.id, { x: parseInt(e.target.value) })}\r\n                  style={{ width: '100%', border: \"1px solid #d1d5db\", padding: \"4px 8px\", borderRadius: \"4px\", marginTop: \"4px\" }}\r\n                />\r\n              </label>\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '10px' }}>\r\n              <label>\r\n                Y:\r\n                <input\r\n                  type=\"number\"\r\n                  value={selected.y}\r\n                  onChange={(e) => updateSlot(selected.id, { y: parseInt(e.target.value) })}\r\n                  style={{ width: '100%', border: \"1px solid #d1d5db\", padding: \"4px 8px\", borderRadius: \"4px\", marginTop: \"4px\" }}\r\n                />\r\n              </label>\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '10px' }}>\r\n              <label>\r\n                Width:\r\n                <input\r\n                  type=\"number\"\r\n                  value={selected.width}\r\n                  onChange={(e) => updateSlot(selected.id, { width: parseInt(e.target.value) })}\r\n                  style={{ width: '100%', border: \"1px solid #d1d5db\", padding: \"4px 8px\", borderRadius: \"4px\", marginTop: \"4px\" }}\r\n                />\r\n              </label>\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '10px' }}>\r\n              <label>\r\n                Height:\r\n                <input\r\n                  type=\"number\"\r\n                  value={selected.height}\r\n                  onChange={(e) => updateSlot(selected.id, { height: parseInt(e.target.value) })}\r\n                  style={{ width: '100%', border: \"1px solid #d1d5db\", padding: \"4px 8px\", borderRadius: \"4px\", marginTop: \"4px\" }}\r\n                />\r\n              </label>\r\n            </div>\r\n\r\n            {selected.clickZone && (\r\n              <>\r\n                <h4>Click Zone</h4>\r\n                <div style={{ marginBottom: '10px' }}>\r\n                  <label>\r\n                    Click X:\r\n                    <input\r\n                      type=\"number\"\r\n                      value={selected.clickZone.x}\r\n                      onChange={(e) => updateSlot(selected.id, { clickZone: { ...selected.clickZone!, x: parseInt(e.target.value) } })}\r\n                      style={{ width: '100%', border: \"1px solid #d1d5db\", padding: \"4px 8px\", borderRadius: \"4px\", marginTop: \"4px\" }}\r\n                    />\r\n                  </label>\r\n                </div>\r\n\r\n                <div style={{ marginBottom: '10px' }}>\r\n                  <label>\r\n                    Click Y:\r\n                    <input\r\n                      type=\"number\"\r\n                      value={selected.clickZone.y}\r\n                      onChange={(e) => updateSlot(selected.id, { clickZone: { ...selected.clickZone!, y: parseInt(e.target.value) } })}\r\n                      style={{ width: '100%', border: \"1px solid #d1d5db\", padding: \"4px 8px\", borderRadius: \"4px\", marginTop: \"4px\" }}\r\n                    />\r\n                  </label>\r\n                </div>\r\n\r\n                <div style={{ marginBottom: '10px' }}>\r\n                  <label>\r\n                    Click Width:\r\n                    <input\r\n                      type=\"number\"\r\n                      value={selected.clickZone.width}\r\n                      onChange={(e) => updateSlot(selected.id, { clickZone: { ...selected.clickZone!, width: parseInt(e.target.value) } })}\r\n                      style={{ width: '100%', border: \"1px solid #d1d5db\", padding: \"4px 8px\", borderRadius: \"4px\", marginTop: \"4px\" }}\r\n                    />\r\n                  </label>\r\n                </div>\r\n\r\n                <div style={{ marginBottom: '10px' }}>\r\n                  <label>\r\n                    Click Height:\r\n                    <input\r\n                      type=\"number\"\r\n                      value={selected.clickZone.height}\r\n                      onChange={(e) => updateSlot(selected.id, { clickZone: { ...selected.clickZone!, height: parseInt(e.target.value) } })}\r\n                      style={{ width: '100%', border: \"1px solid #d1d5db\", padding: \"4px 8px\", borderRadius: \"4px\", marginTop: \"4px\" }}\r\n                    />\r\n                  </label>\r\n                </div>\r\n              </>\r\n            )}\r\n\r\n            <button\r\n              style={{ border: \"1px solid #ef4444\", padding: \"4px 12px\", borderRadius: \"4px\", background: \"#ef4444\", color: \"white\", cursor: \"pointer\" }}\r\n              onMouseOver={(e) => e.currentTarget.style.background = \"#dc2626\"}\r\n              onMouseOut={(e) => e.currentTarget.style.background = \"#ef4444\"}\r\n              onClick={() => deleteSlot(selected.id)}\r\n            >\r\n              Delete Slot\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UILayoutEditor;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}