{"ast":null,"code":"function other(p){return p===1?2:1;}export function startOfTurn(state,p){var _state$board$p$aussen,_state$board$p;// AP reset\nstate.actionPoints[p]=2;// Flags reset\nconst f=state.effectFlags[p];f.zuckOnceAp=false;f.zuckSpent=false;f.aiWeiweiOnActivate=false;f.auraScience=0;f.auraHealth=0;f.auraMilitaryPenalty=0;// Auren/Boardscan\nconst pubNames=((_state$board$p$aussen=(_state$board$p=state.board[p])===null||_state$board$p===void 0?void 0:_state$board$p.aussen)!==null&&_state$board$p$aussen!==void 0?_state$board$p$aussen:[]).map(c=>c.name);if(pubNames.includes('Jennifer Doudna'))f.auraScience+=1;if(pubNames.includes('Anthony Fauci'))f.auraHealth+=1;if(pubNames.includes('Noam Chomsky'))f.auraMilitaryPenalty+=1;// einmalige Aktivierungsboni\nif(pubNames.includes('Mark Zuckerberg'))f.zuckOnceAp=true;if(pubNames.includes('Ai Weiwei'))f.aiWeiweiOnActivate=true;}// Legacy compatibility\nexport function applyStartOfTurnFlags(state,player,log){startOfTurn(state,player);}export function applyStartOfTurnHooks(state,player,log){applyStartOfTurnFlags(state,player,log);}","map":{"version":3,"names":["other","p","startOfTurn","state","_state$board$p$aussen","_state$board$p","actionPoints","f","effectFlags","zuckOnceAp","zuckSpent","aiWeiweiOnActivate","auraScience","auraHealth","auraMilitaryPenalty","pubNames","board","aussen","map","c","name","includes","applyStartOfTurnFlags","player","log","applyStartOfTurnHooks"],"sources":["C:/Users/skank/Videos/Cards/Milchcards/src/utils/startOfTurnHooks.ts"],"sourcesContent":["import { GameState, Player } from '../types/game';\r\n\r\nfunction other(p: Player): Player { return p === 1 ? 2 : 1; }\r\n\r\nexport function startOfTurn(state: GameState, p: Player) {\r\n  // AP reset\r\n  state.actionPoints[p] = 2;\r\n\r\n  // Flags reset\r\n  const f = state.effectFlags[p];\r\n  f.zuckOnceAp = false;\r\n  f.zuckSpent = false;\r\n  f.aiWeiweiOnActivate = false;\r\n  f.auraScience = 0;\r\n  f.auraHealth = 0;\r\n  f.auraMilitaryPenalty = 0;\r\n\r\n  // Auren/Boardscan\r\n  const pubNames = (state.board[p]?.aussen ?? []).map(c => c.name);\r\n  if (pubNames.includes('Jennifer Doudna')) f.auraScience! += 1;\r\n  if (pubNames.includes('Anthony Fauci')) f.auraHealth! += 1;\r\n  if (pubNames.includes('Noam Chomsky')) f.auraMilitaryPenalty! += 1;\r\n\r\n  // einmalige Aktivierungsboni\r\n  if (pubNames.includes('Mark Zuckerberg')) f.zuckOnceAp = true;\r\n  if (pubNames.includes('Ai Weiwei')) f.aiWeiweiOnActivate = true;\r\n}\r\n\r\n// Legacy compatibility\r\nexport function applyStartOfTurnFlags(state: GameState, player: Player, log: (m: string) => void) {\r\n  startOfTurn(state, player);\r\n}\r\n\r\nexport function applyStartOfTurnHooks(state: GameState, player: Player, log: (m: string) => void) {\r\n  applyStartOfTurnFlags(state, player, log);\r\n}"],"mappings":"AAEA,QAAS,CAAAA,KAAKA,CAACC,CAAS,CAAU,CAAE,MAAO,CAAAA,CAAC,GAAK,CAAC,CAAG,CAAC,CAAG,CAAC,CAAE,CAE5D,MAAO,SAAS,CAAAC,WAAWA,CAACC,KAAgB,CAAEF,CAAS,CAAE,KAAAG,qBAAA,CAAAC,cAAA,CACvD;AACAF,KAAK,CAACG,YAAY,CAACL,CAAC,CAAC,CAAG,CAAC,CAEzB;AACA,KAAM,CAAAM,CAAC,CAAGJ,KAAK,CAACK,WAAW,CAACP,CAAC,CAAC,CAC9BM,CAAC,CAACE,UAAU,CAAG,KAAK,CACpBF,CAAC,CAACG,SAAS,CAAG,KAAK,CACnBH,CAAC,CAACI,kBAAkB,CAAG,KAAK,CAC5BJ,CAAC,CAACK,WAAW,CAAG,CAAC,CACjBL,CAAC,CAACM,UAAU,CAAG,CAAC,CAChBN,CAAC,CAACO,mBAAmB,CAAG,CAAC,CAEzB;AACA,KAAM,CAAAC,QAAQ,CAAG,EAAAX,qBAAA,EAAAC,cAAA,CAACF,KAAK,CAACa,KAAK,CAACf,CAAC,CAAC,UAAAI,cAAA,iBAAdA,cAAA,CAAgBY,MAAM,UAAAb,qBAAA,UAAAA,qBAAA,CAAI,EAAE,EAAEc,GAAG,CAACC,CAAC,EAAIA,CAAC,CAACC,IAAI,CAAC,CAChE,GAAIL,QAAQ,CAACM,QAAQ,CAAC,iBAAiB,CAAC,CAAEd,CAAC,CAACK,WAAW,EAAK,CAAC,CAC7D,GAAIG,QAAQ,CAACM,QAAQ,CAAC,eAAe,CAAC,CAAEd,CAAC,CAACM,UAAU,EAAK,CAAC,CAC1D,GAAIE,QAAQ,CAACM,QAAQ,CAAC,cAAc,CAAC,CAAEd,CAAC,CAACO,mBAAmB,EAAK,CAAC,CAElE;AACA,GAAIC,QAAQ,CAACM,QAAQ,CAAC,iBAAiB,CAAC,CAAEd,CAAC,CAACE,UAAU,CAAG,IAAI,CAC7D,GAAIM,QAAQ,CAACM,QAAQ,CAAC,WAAW,CAAC,CAAEd,CAAC,CAACI,kBAAkB,CAAG,IAAI,CACjE,CAEA;AACA,MAAO,SAAS,CAAAW,qBAAqBA,CAACnB,KAAgB,CAAEoB,MAAc,CAAEC,GAAwB,CAAE,CAChGtB,WAAW,CAACC,KAAK,CAAEoB,MAAM,CAAC,CAC5B,CAEA,MAAO,SAAS,CAAAE,qBAAqBA,CAACtB,KAAgB,CAAEoB,MAAc,CAAEC,GAAwB,CAAE,CAChGF,qBAAqB,CAACnB,KAAK,CAAEoB,MAAM,CAAEC,GAAG,CAAC,CAC3C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}