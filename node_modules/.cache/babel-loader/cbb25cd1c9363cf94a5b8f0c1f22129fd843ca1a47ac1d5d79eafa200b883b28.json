{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\skank\\\\Videos\\\\Cards\\\\Milchcards\\\\src\\\\context\\\\VisualEffectsContext.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { createContext, useContext, useRef, useMemo, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VisualEffectsContext = /*#__PURE__*/createContext(undefined);\nexport function VisualEffectsProvider({\n  children\n}) {\n  _s();\n  const particlesRef = useRef([]);\n  const popsRef = useRef([]);\n  const ripplesRef = useRef([]);\n  const apLabelsRef = useRef([]);\n  const gifOverlaysRef = useRef([]);\n  const spawnedGifIdsRef = useRef(new Set());\n  const playAnimsRef = useRef([]);\n  const reducedMotion = typeof window !== 'undefined' && window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches || !!window.__pc_reduced_motion;\n  const spawnParticles = (cx, cy, count = 12) => {\n    if (reducedMotion) return;\n    const now = performance.now();\n    for (let i = 0; i < count; i++) {\n      particlesRef.current.push({\n        start: now,\n        life: 600 + Math.random() * 500,\n        x: cx + (Math.random() - 0.5) * 48,\n        y: cy + (Math.random() - 0.5) * 48,\n        vx: (Math.random() - 0.5) * 6,\n        vy: -Math.random() * 6,\n        size: 3 + Math.random() * 6,\n        color: ['#ffd166', '#ff6b6b', '#4ade80'][Math.floor(Math.random() * 3)],\n        gravity: 0.12\n      });\n    }\n  };\n  const spawnPop = uid => {\n    popsRef.current.push({\n      uid,\n      started: performance.now(),\n      duration: 420\n    });\n  };\n  const spawnRipple = (cx, cy, opts) => {\n    var _opts$radius;\n    if (reducedMotion) return;\n    ripplesRef.current.push({\n      cx,\n      cy,\n      started: performance.now(),\n      duration: opts !== null && opts !== void 0 && opts.radius ? 700 : 700,\n      radius: (_opts$radius = opts === null || opts === void 0 ? void 0 : opts.radius) !== null && _opts$radius !== void 0 ? _opts$radius : 480,\n      showAp: !!(opts !== null && opts !== void 0 && opts.showAp),\n      apX: opts === null || opts === void 0 ? void 0 : opts.apX,\n      apY: opts === null || opts === void 0 ? void 0 : opts.apY\n    });\n    if (opts !== null && opts !== void 0 && opts.showAp) {\n      var _opts$apX, _opts$apY;\n      apLabelsRef.current.push({\n        x: (_opts$apX = opts.apX) !== null && _opts$apX !== void 0 ? _opts$apX : cx,\n        y: (_opts$apY = opts.apY) !== null && _opts$apY !== void 0 ? _opts$apY : cy,\n        started: performance.now(),\n        duration: 900,\n        text: '+1'\n      });\n    }\n  };\n  const spawnGifOverlay = opts => {\n    if (reducedMotion) return;\n    try {\n      var _opts$id, _opts$duration, _opts$duration2;\n      const id = (_opts$id = opts.id) !== null && _opts$id !== void 0 ? _opts$id : `${opts.src}_${Date.now()}_${Math.random()}`;\n      // If a high-performance Pixi overlay is present, use it instead of DOM img overlays\n      try {\n        const pixi = window.__pc_pixi;\n        if (pixi && typeof pixi.spawnSlotEffect === 'function') {\n          pixi.spawnSlotEffect({\n            id,\n            cx: opts.cx,\n            cy: opts.cy,\n            w: opts.w,\n            h: opts.h,\n            src: opts.src,\n            duration: opts.duration\n          });\n          console.debug('[VisualEffects] spawnGifOverlay delegated to Pixi', {\n            id,\n            cx: opts.cx,\n            cy: opts.cy,\n            src: opts.src\n          });\n          return;\n        }\n      } catch (e) {}\n\n      // Fallback to DOM-overlay system\n      // Dedupe by id to avoid double-spawning the same overlay in quick succession\n      if (spawnedGifIdsRef.current.has(id)) return;\n      spawnedGifIdsRef.current.add(id);\n      gifOverlaysRef.current.push({\n        id,\n        cx: opts.cx,\n        cy: opts.cy,\n        w: opts.w,\n        h: opts.h,\n        src: opts.src,\n        started: performance.now(),\n        duration: (_opts$duration = opts.duration) !== null && _opts$duration !== void 0 ? _opts$duration : 700\n      });\n      console.debug('[VisualEffects] spawnGifOverlay queued', {\n        id,\n        cx: opts.cx,\n        cy: opts.cy,\n        w: opts.w,\n        h: opts.h,\n        src: opts.src,\n        duration: opts.duration\n      });\n      // schedule removal after duration\n      setTimeout(() => {\n        const idx = gifOverlaysRef.current.findIndex(g => g.id === id);\n        if (idx >= 0) gifOverlaysRef.current.splice(idx, 1);\n        spawnedGifIdsRef.current.delete(id);\n        console.debug('[VisualEffects] spawnGifOverlay removed', id);\n      }, (_opts$duration2 = opts.duration) !== null && _opts$duration2 !== void 0 ? _opts$duration2 : 700);\n    } catch (e) {}\n  };\n  const value = useMemo(() => ({\n    particlesRef,\n    popsRef,\n    ripplesRef,\n    apLabelsRef,\n    reducedMotion,\n    spawnParticles,\n    spawnPop,\n    spawnRipple,\n    gifOverlaysRef,\n    playAnimsRef,\n    spawnGifOverlay\n  }), []);\n  // Expose value for non-hook callsites (fallback)\n  React.useEffect(() => {\n    try {\n      window.__pc_visual_effects = value;\n    } catch (e) {}\n    return () => {\n      try {\n        window.__pc_visual_effects = undefined;\n      } catch (e) {}\n    };\n  }, [value]);\n  const [hasPixi, setHasPixi] = useState(() => typeof window !== 'undefined' && !!window.__pc_pixi);\n  useEffect(() => {\n    const handler = () => setHasPixi(!!window.__pc_pixi);\n    // check initially and poll once in a tick in case Pixi mounts after provider\n    handler();\n    const t = setTimeout(handler, 200);\n    return () => clearTimeout(t);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(VisualEffectsContext.Provider, {\n    value: value,\n    children: [children, !hasPixi && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        left: 0,\n        top: 0,\n        pointerEvents: 'none',\n        width: '100%',\n        height: '100%',\n        zIndex: 800\n      },\n      children: gifOverlaysRef.current.map(g => {\n        const age = Math.min(1, Math.max(0, (performance.now() - g.started) / g.duration));\n        const alpha = 1 - age; // fade out\n        const sizeW = g.w;\n        const sizeH = g.h;\n        const style = {\n          position: 'absolute',\n          left: g.cx,\n          top: g.cy,\n          width: sizeW,\n          height: sizeH,\n          opacity: alpha,\n          transform: 'translate(-50%, -50%) translateZ(0)',\n          transition: 'opacity 120ms linear',\n          pointerEvents: 'none'\n        };\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          src: g.src,\n          style: style,\n          alt: \"effect\"\n        }, String(g.id), false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 18\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 10\n  }, this);\n}\n_s(VisualEffectsProvider, \"t23qcP0ADpkMkNm/8pvqHDXYOvs=\");\n_c = VisualEffectsProvider;\nexport function useVisualEffects() {\n  _s2();\n  const ctx = useContext(VisualEffectsContext);\n  if (!ctx) throw new Error('useVisualEffects must be used within VisualEffectsProvider');\n  return ctx;\n}\n\n// Safe variant that returns null when no provider is present. Use this when a caller\n// cannot guarantee being rendered inside the provider (avoids rules-of-hooks errors\n// when attempting to call hooks conditionally).\n_s2(useVisualEffects, \"/dMy7t63NXD4eYACoT93CePwGrg=\");\nexport function useVisualEffectsSafe() {\n  _s3();\n  return useContext(VisualEffectsContext) || null;\n}\n_s3(useVisualEffectsSafe, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport default VisualEffectsContext;\nvar _c;\n$RefreshReg$(_c, \"VisualEffectsProvider\");","map":{"version":3,"names":["React","createContext","useContext","useRef","useMemo","useState","useEffect","jsxDEV","_jsxDEV","VisualEffectsContext","undefined","VisualEffectsProvider","children","_s","particlesRef","popsRef","ripplesRef","apLabelsRef","gifOverlaysRef","spawnedGifIdsRef","Set","playAnimsRef","reducedMotion","window","matchMedia","matches","__pc_reduced_motion","spawnParticles","cx","cy","count","now","performance","i","current","push","start","life","Math","random","x","y","vx","vy","size","color","floor","gravity","spawnPop","uid","started","duration","spawnRipple","opts","_opts$radius","radius","showAp","apX","apY","_opts$apX","_opts$apY","text","spawnGifOverlay","_opts$id","_opts$duration","_opts$duration2","id","src","Date","pixi","__pc_pixi","spawnSlotEffect","w","h","console","debug","e","has","add","setTimeout","idx","findIndex","g","splice","delete","value","__pc_visual_effects","hasPixi","setHasPixi","handler","t","clearTimeout","Provider","style","position","left","top","pointerEvents","width","height","zIndex","map","age","min","max","alpha","sizeW","sizeH","opacity","transform","transition","alt","String","fileName","_jsxFileName","lineNumber","columnNumber","_c","useVisualEffects","_s2","ctx","Error","useVisualEffectsSafe","_s3","$RefreshReg$"],"sources":["C:/Users/skank/Videos/Cards/Milchcards/src/context/VisualEffectsContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useRef, ReactNode, useMemo, useState, useEffect } from 'react';\r\n\r\ntype Particle = { start: number; life: number; x: number; y: number; vx: number; vy: number; size?: number; color?: string; gravity?: number };\r\ntype Pop = { uid: number | string; started: number; duration: number };\r\ntype Ripple = { cx: number; cy: number; started: number; duration: number; radius: number; showAp?: boolean; apX?: number; apY?: number; _apSpawned?: boolean };\r\ntype ApLabel = { x: number; y: number; started: number; duration: number; text: string };\r\n\r\ninterface VisualEffectsContextType {\r\n  particlesRef: React.MutableRefObject<Particle[]>;\r\n  popsRef: React.MutableRefObject<Pop[]>;\r\n  ripplesRef: React.MutableRefObject<Ripple[]>;\r\n  apLabelsRef: React.MutableRefObject<ApLabel[]>;\r\n  reducedMotion: boolean;\r\n  spawnParticles: (cx: number, cy: number, count?: number) => void;\r\n  spawnPop: (uid: number | string) => void;\r\n  spawnRipple: (cx: number, cy: number, opts?: { radius?: number; showAp?: boolean; apX?: number; apY?: number }) => void;\r\n  // New: gif overlays and per-card play animations\r\n  gifOverlaysRef: React.MutableRefObject<Array<{ id: string | number; cx: number; cy: number; w: number; h: number; src: string; started: number; duration: number }>>;\r\n  playAnimsRef: React.MutableRefObject<Array<{ uid: string | number; started: number; duration: number }>>;\r\n  spawnGifOverlay: (opts: { id?: string | number; cx: number; cy: number; w: number; h: number; src: string; duration?: number }) => void;\r\n}\r\n\r\nconst VisualEffectsContext = createContext<VisualEffectsContextType | undefined>(undefined);\r\n\r\nexport function VisualEffectsProvider({ children }: { children: ReactNode }) {\r\n  const particlesRef = useRef<Particle[]>([]);\r\n  const popsRef = useRef<Pop[]>([]);\r\n  const ripplesRef = useRef<Ripple[]>([]);\r\n  const apLabelsRef = useRef<ApLabel[]>([]);\r\n  const gifOverlaysRef = useRef<Array<{ id: string | number; cx: number; cy: number; w: number; h: number; src: string; started: number; duration: number }>>([]);\r\n  const spawnedGifIdsRef = useRef<Set<string|number>>(new Set());\r\n  const playAnimsRef = useRef<Array<{ uid: string | number; started: number; duration: number }>>([]);\r\n\r\n  const reducedMotion = typeof window !== 'undefined' && (window as any).matchMedia && (window as any).matchMedia('(prefers-reduced-motion: reduce)').matches || !!(window as any).__pc_reduced_motion;\r\n\r\n  const spawnParticles = (cx: number, cy: number, count = 12) => {\r\n    if (reducedMotion) return;\r\n    const now = performance.now();\r\n    for (let i = 0; i < count; i++) {\r\n      particlesRef.current.push({ start: now, life: 600 + Math.random() * 500, x: cx + (Math.random() - 0.5) * 48, y: cy + (Math.random() - 0.5) * 48, vx: (Math.random() - 0.5) * 6, vy: -Math.random() * 6, size: 3 + Math.random() * 6, color: ['#ffd166', '#ff6b6b', '#4ade80'][Math.floor(Math.random() * 3)], gravity: 0.12 });\r\n    }\r\n  };\r\n\r\n  const spawnPop = (uid: number | string) => {\r\n    popsRef.current.push({ uid, started: performance.now(), duration: 420 });\r\n  };\r\n\r\n  const spawnRipple = (cx: number, cy: number, opts?: { radius?: number; showAp?: boolean; apX?: number; apY?: number }) => {\r\n    if (reducedMotion) return;\r\n    ripplesRef.current.push({ cx, cy, started: performance.now(), duration: opts?.radius ? 700 : 700, radius: opts?.radius ?? 480, showAp: !!opts?.showAp, apX: opts?.apX, apY: opts?.apY });\r\n    if (opts?.showAp) {\r\n      apLabelsRef.current.push({ x: opts.apX ?? cx, y: opts.apY ?? cy, started: performance.now(), duration: 900, text: '+1' });\r\n    }\r\n  };\r\n\r\n  const spawnGifOverlay = (opts: { id?: string | number; cx: number; cy: number; w: number; h: number; src: string; duration?: number }) => {\r\n    if (reducedMotion) return;\r\n    try {\r\n      const id = opts.id ?? `${opts.src}_${Date.now()}_${Math.random()}`;\r\n      // If a high-performance Pixi overlay is present, use it instead of DOM img overlays\r\n      try {\r\n        const pixi = (window as any).__pc_pixi;\r\n        if (pixi && typeof pixi.spawnSlotEffect === 'function') {\r\n          pixi.spawnSlotEffect({ id, cx: opts.cx, cy: opts.cy, w: opts.w, h: opts.h, src: opts.src, duration: opts.duration });\r\n          console.debug('[VisualEffects] spawnGifOverlay delegated to Pixi', { id, cx: opts.cx, cy: opts.cy, src: opts.src });\r\n          return;\r\n        }\r\n      } catch (e) {}\r\n\r\n      // Fallback to DOM-overlay system\r\n      // Dedupe by id to avoid double-spawning the same overlay in quick succession\r\n      if (spawnedGifIdsRef.current.has(id)) return;\r\n      spawnedGifIdsRef.current.add(id);\r\n      gifOverlaysRef.current.push({ id, cx: opts.cx, cy: opts.cy, w: opts.w, h: opts.h, src: opts.src, started: performance.now(), duration: opts.duration ?? 700 });\r\n      console.debug('[VisualEffects] spawnGifOverlay queued', { id, cx: opts.cx, cy: opts.cy, w: opts.w, h: opts.h, src: opts.src, duration: opts.duration });\r\n      // schedule removal after duration\r\n      setTimeout(() => {\r\n        const idx = gifOverlaysRef.current.findIndex(g => g.id === id);\r\n        if (idx >= 0) gifOverlaysRef.current.splice(idx, 1);\r\n        spawnedGifIdsRef.current.delete(id);\r\n        console.debug('[VisualEffects] spawnGifOverlay removed', id);\r\n      }, opts.duration ?? 700);\r\n    } catch (e) {}\r\n  };\r\n\r\n  const value = useMemo(() => ({ particlesRef, popsRef, ripplesRef, apLabelsRef, reducedMotion, spawnParticles, spawnPop, spawnRipple, gifOverlaysRef, playAnimsRef, spawnGifOverlay }), []);\r\n  // Expose value for non-hook callsites (fallback)\r\n  React.useEffect(() => {\r\n    try {\r\n      (window as any).__pc_visual_effects = value;\r\n    } catch (e) {}\r\n    return () => { try { (window as any).__pc_visual_effects = undefined; } catch (e) {} };\r\n  }, [value]);\r\n\r\n  const [hasPixi, setHasPixi] = useState<boolean>(() => typeof window !== 'undefined' && !!(window as any).__pc_pixi);\r\n  useEffect(() => {\r\n    const handler = () => setHasPixi(!!(window as any).__pc_pixi);\r\n    // check initially and poll once in a tick in case Pixi mounts after provider\r\n    handler();\r\n    const t = setTimeout(handler, 200);\r\n    return () => clearTimeout(t);\r\n  }, []);\r\n\r\n  return <VisualEffectsContext.Provider value={value}>\r\n    {children}\r\n    {/* Render DOM GIF overlays only when Pixi is not available (Pixi will render GPU overlays) */}\r\n    {!hasPixi && (\r\n      <div style={{ position: 'fixed', left: 0, top: 0, pointerEvents: 'none', width: '100%', height: '100%', zIndex: 800 }}>\r\n        {gifOverlaysRef.current.map(g => {\r\n          const age = Math.min(1, Math.max(0, (performance.now() - g.started) / g.duration));\r\n          const alpha = 1 - age; // fade out\r\n          const sizeW = g.w;\r\n          const sizeH = g.h;\r\n          const style: React.CSSProperties = {\r\n            position: 'absolute',\r\n            left: g.cx,\r\n            top: g.cy,\r\n            width: sizeW,\r\n            height: sizeH,\r\n            opacity: alpha,\r\n            transform: 'translate(-50%, -50%) translateZ(0)',\r\n            transition: 'opacity 120ms linear',\r\n            pointerEvents: 'none',\r\n          };\r\n          return <img key={String(g.id)} src={g.src} style={style} alt=\"effect\" />;\r\n        })}\r\n      </div>\r\n    )}\r\n  </VisualEffectsContext.Provider>;\r\n}\r\n\r\nexport function useVisualEffects() {\r\n  const ctx = useContext(VisualEffectsContext);\r\n  if (!ctx) throw new Error('useVisualEffects must be used within VisualEffectsProvider');\r\n  return ctx;\r\n}\r\n\r\n// Safe variant that returns null when no provider is present. Use this when a caller\r\n// cannot guarantee being rendered inside the provider (avoids rules-of-hooks errors\r\n// when attempting to call hooks conditionally).\r\nexport function useVisualEffectsSafe() {\r\n  return useContext(VisualEffectsContext) || null;\r\n}\r\n\r\nexport default VisualEffectsContext;\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}