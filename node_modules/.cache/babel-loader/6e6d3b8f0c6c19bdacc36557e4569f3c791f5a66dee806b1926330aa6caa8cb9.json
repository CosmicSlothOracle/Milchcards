{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\skank\\\\Videos\\\\Cards\\\\Milchcards\\\\src\\\\components\\\\UILayoutEditor.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { LAYOUT } from \"../ui/layout\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst typeColor = {\n  government: \"#4ade80\",\n  public: \"#60a5fa\",\n  dauerhaft: \"#f59e0b\",\n  sofort: \"#f472b6\",\n  hand: \"#a78bfa\",\n  other: \"#a78bfa\"\n};\nconst uid = () => Math.random().toString(36).slice(2, 9);\n\n// Convert current LAYOUT to editor format\nconst convertLayoutToEditorFormat = () => {\n  const slots = [];\n  LAYOUT.zones.forEach(zone => {\n    var _zone$layout, _zone$layout2;\n    if (((_zone$layout = zone.layout) === null || _zone$layout === void 0 ? void 0 : _zone$layout.type) === 'fixedSlots') {\n      var _lay$direction;\n      const [x, y, w, h] = zone.rectPx;\n      const lay = zone.layout;\n      const slotCount = lay.slots;\n      const slotSize = lay.slotSize;\n      const gap = lay.gap;\n      const direction = (_lay$direction = lay.direction) !== null && _lay$direction !== void 0 ? _lay$direction : 'row';\n      for (let i = 0; i < slotCount; i++) {\n        let slotX = x;\n        let slotY = y;\n        if (direction === 'horizontal') {\n          slotX = x + i * (slotSize[0] + gap);\n        } else if (direction === 'vertical') {\n          slotY = y + i * (slotSize[1] + gap);\n        } else if (direction === 'vertical-reverse') {\n          slotY = y + (slotCount - 1 - i) * (slotSize[1] + gap);\n        }\n        const slotId = `${zone.id}-${i}`;\n        const slotType = getSlotType(zone.id);\n        slots.push({\n          id: slotId,\n          name: slotId,\n          type: slotType,\n          x: slotX,\n          y: slotY,\n          width: slotSize[0],\n          height: slotSize[1],\n          color: typeColor[slotType],\n          locked: false,\n          clickZone: {\n            x: slotX,\n            y: slotY,\n            width: slotSize[0],\n            height: slotSize[1]\n          }\n        });\n      }\n    } else if (((_zone$layout2 = zone.layout) === null || _zone$layout2 === void 0 ? void 0 : _zone$layout2.type) === 'singleSlot') {\n      const [x, y, w, h] = zone.rectPx;\n      const slotType = getSlotType(zone.id);\n      slots.push({\n        id: zone.id,\n        name: zone.id,\n        type: slotType,\n        x: x,\n        y: y,\n        width: w,\n        height: h,\n        color: typeColor[slotType],\n        locked: false,\n        clickZone: {\n          x: x,\n          y: y,\n          width: w,\n          height: h\n        }\n      });\n    }\n  });\n  return {\n    canvas: {\n      width: 1920,\n      height: 1080,\n      grid: 13\n    },\n    slots\n  };\n};\nconst getSlotType = zoneId => {\n  if (zoneId.includes('government')) return 'government';\n  if (zoneId.includes('public')) return 'public';\n  if (zoneId.includes('permanent')) return 'dauerhaft';\n  if (zoneId.includes('instant')) return 'sofort';\n  if (zoneId.includes('interventions')) return 'sofort';\n  if (zoneId.includes('hand')) return 'hand';\n  return 'other';\n};\nconst getTypeColor = type => {\n  return typeColor[type] || typeColor.other;\n};\nconst defaultLayout = convertLayoutToEditorFormat();\nconst UILayoutEditor = () => {\n  _s();\n  const [layout, setLayout] = useState(defaultLayout);\n  const [selected, setSelected] = useState(null);\n  const [showClickZone, setShowClickZone] = useState(false);\n  const [showGrid, setShowGrid] = useState(true);\n  const [editMode, setEditMode] = useState('position');\n  const [zoom, setZoom] = useState(0.5);\n  const canvasRef = useRef(null);\n  const isDragging = useRef(false);\n  const dragStart = useRef({\n    x: 0,\n    y: 0\n  });\n  const addSlot = type => {\n    const newSlot = {\n      id: uid(),\n      name: `New ${type}`,\n      type,\n      x: 100,\n      y: 100,\n      width: 256,\n      height: 256,\n      color: typeColor[type],\n      locked: false,\n      clickZone: {\n        x: 100,\n        y: 100,\n        width: 256,\n        height: 256\n      }\n    };\n    setLayout(prev => ({\n      ...prev,\n      slots: [...prev.slots, newSlot]\n    }));\n  };\n  const deleteSlot = id => {\n    setLayout(prev => ({\n      ...prev,\n      slots: prev.slots.filter(s => s.id !== id)\n    }));\n    if ((selected === null || selected === void 0 ? void 0 : selected.id) === id) setSelected(null);\n  };\n  const updateSlot = (id, updates) => {\n    setLayout(prev => ({\n      ...prev,\n      slots: prev.slots.map(s => s.id === id ? {\n        ...s,\n        ...updates\n      } : s)\n    }));\n  };\n  const exportGameFormat = () => {\n    const zones = [];\n    const slotGroups = {};\n\n    // Group slots by their base ID\n    layout.slots.forEach(slot => {\n      const baseId = slot.id.split('-')[0];\n      if (!slotGroups[baseId]) slotGroups[baseId] = [];\n      slotGroups[baseId].push(slot);\n    });\n\n    // Convert groups to zones\n    Object.entries(slotGroups).forEach(([baseId, slots]) => {\n      if (slots.length === 1) {\n        // Single slot\n        const slot = slots[0];\n        zones.push({\n          id: baseId,\n          rectPx: [slot.x, slot.y, slot.width, slot.height],\n          layout: {\n            type: \"singleSlot\",\n            slotSize: [slot.width, slot.height]\n          },\n          z: 10\n        });\n      } else {\n        // Multiple slots - determine layout type\n        const firstSlot = slots[0];\n        const isHorizontal = slots.every(s => s.y === firstSlot.y);\n        const isVertical = slots.every(s => s.x === firstSlot.x);\n        if (isHorizontal) {\n          const minX = Math.min(...slots.map(s => s.x));\n          const maxX = Math.max(...slots.map(s => s.x + s.width));\n          const y = firstSlot.y;\n          const width = maxX - minX;\n          const height = firstSlot.height;\n          zones.push({\n            id: baseId,\n            rectPx: [minX, y, width, height],\n            layout: {\n              type: \"fixedSlots\",\n              slots: slots.length,\n              slotSize: [firstSlot.width, firstSlot.height],\n              gap: slots.length > 1 ? slots[1].x - (slots[0].x + slots[0].width) : 8,\n              alignment: \"left\",\n              direction: \"horizontal\"\n            },\n            z: 10\n          });\n        } else if (isVertical) {\n          const minY = Math.min(...slots.map(s => s.y));\n          const maxY = Math.max(...slots.map(s => s.y + s.height));\n          const x = firstSlot.x;\n          const width = firstSlot.width;\n          const height = maxY - minY;\n          zones.push({\n            id: baseId,\n            rectPx: [x, minY, width, height],\n            layout: {\n              type: \"fixedSlots\",\n              slots: slots.length,\n              slotSize: [firstSlot.width, firstSlot.height],\n              gap: slots.length > 1 ? slots[1].y - (slots[0].y + slots[0].height) : 8,\n              alignment: \"left\",\n              direction: \"vertical\"\n            },\n            z: 10\n          });\n        }\n      }\n    });\n    const exportData = {\n      version: 4,\n      canvas: {\n        width: layout.canvas.width,\n        height: layout.canvas.height,\n        aspect: \"16:9\"\n      },\n      scaling: {\n        mode: \"fit\",\n        letterbox: true\n      },\n      zones\n    };\n    const dataStr = JSON.stringify(exportData, null, 2);\n    const dataBlob = new Blob([dataStr], {\n      type: 'application/json'\n    });\n    const url = URL.createObjectURL(dataBlob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = 'ui_layout_1920x1080.json';\n    link.click();\n    URL.revokeObjectURL(url);\n  };\n  const exportPNG = () => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    // Create a temporary canvas for export\n    const exportCanvas = document.createElement('canvas');\n    const ctx = exportCanvas.getContext('2d');\n    if (!ctx) return;\n    exportCanvas.width = layout.canvas.width;\n    exportCanvas.height = layout.canvas.height;\n\n    // Draw background\n    ctx.fillStyle = '#ffffff';\n    ctx.fillRect(0, 0, exportCanvas.width, exportCanvas.height);\n\n    // Draw grid\n    if (showGrid) {\n      ctx.strokeStyle = '#e5e7eb';\n      ctx.lineWidth = 1;\n      for (let x = 0; x <= exportCanvas.width; x += layout.canvas.grid) {\n        ctx.beginPath();\n        ctx.moveTo(x, 0);\n        ctx.lineTo(x, exportCanvas.height);\n        ctx.stroke();\n      }\n      for (let y = 0; y <= exportCanvas.height; y += layout.canvas.grid) {\n        ctx.beginPath();\n        ctx.moveTo(0, y);\n        ctx.lineTo(exportCanvas.width, y);\n        ctx.stroke();\n      }\n    }\n\n    // Draw slots\n    layout.slots.forEach(slot => {\n      // Draw slot rectangle\n      ctx.fillStyle = slot.color + '40'; // Add transparency\n      ctx.fillRect(slot.x, slot.y, slot.width, slot.height);\n      ctx.strokeStyle = slot.color;\n      ctx.lineWidth = 2;\n      ctx.strokeRect(slot.x, slot.y, slot.width, slot.height);\n\n      // Draw slot name\n      ctx.fillStyle = '#000000';\n      ctx.font = '12px Arial';\n      ctx.textAlign = 'center';\n      ctx.fillText(slot.name, slot.x + slot.width / 2, slot.y + slot.height / 2);\n\n      // Draw click zone if different from slot\n      if (slot.clickZone && (slot.clickZone.x !== slot.x || slot.clickZone.y !== slot.y || slot.clickZone.width !== slot.width || slot.clickZone.height !== slot.height)) {\n        ctx.strokeStyle = '#ff0000';\n        ctx.lineWidth = 1;\n        ctx.setLineDash([5, 5]);\n        ctx.strokeRect(slot.clickZone.x, slot.clickZone.y, slot.clickZone.width, slot.clickZone.height);\n        ctx.setLineDash([]);\n      }\n    });\n\n    // Export as PNG\n    const dataURL = exportCanvas.toDataURL('image/png');\n    const link = document.createElement('a');\n    link.href = dataURL;\n    link.download = 'ui_layout_export.png';\n    link.click();\n  };\n  const importBackground = () => {\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.accept = 'image/*';\n    input.onchange = e => {\n      var _files;\n      const file = (_files = e.target.files) === null || _files === void 0 ? void 0 : _files[0];\n      if (file) {\n        const reader = new FileReader();\n        reader.onload = e => {\n          var _e$target;\n          const src = (_e$target = e.target) === null || _e$target === void 0 ? void 0 : _e$target.result;\n          setLayout(prev => ({\n            ...prev,\n            background: {\n              src\n            }\n          }));\n        };\n        reader.readAsDataURL(file);\n      }\n    };\n    input.click();\n  };\n  const exportJSON = () => {\n    const dataStr = JSON.stringify(layout, null, 2);\n    const dataBlob = new Blob([dataStr], {\n      type: 'application/json'\n    });\n    const url = URL.createObjectURL(dataBlob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = 'ui_layout_editor.json';\n    link.click();\n    URL.revokeObjectURL(url);\n  };\n  const importJSON = () => {\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.accept = '.json';\n    input.onchange = e => {\n      var _files2;\n      const file = (_files2 = e.target.files) === null || _files2 === void 0 ? void 0 : _files2[0];\n      if (file) {\n        const reader = new FileReader();\n        reader.onload = e => {\n          try {\n            var _e$target2;\n            const importedLayout = JSON.parse((_e$target2 = e.target) === null || _e$target2 === void 0 ? void 0 : _e$target2.result);\n            setLayout(importedLayout);\n          } catch (error) {\n            alert('Error importing JSON file: ' + error);\n          }\n        };\n        reader.readAsText(file);\n      }\n    };\n    input.click();\n  };\n  const handleMouseDown = e => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const rect = canvas.getBoundingClientRect();\n    const x = (e.clientX - rect.left) / zoom;\n    const y = (e.clientY - rect.top) / zoom;\n    const clickedSlot = layout.slots.find(slot => x >= slot.x && x <= slot.x + slot.width && y >= slot.y && y <= slot.y + slot.height);\n    if (clickedSlot) {\n      setSelected(clickedSlot);\n      isDragging.current = true;\n      dragStart.current = {\n        x: x - clickedSlot.x,\n        y: y - clickedSlot.y\n      };\n    } else {\n      setSelected(null);\n    }\n  };\n  const handleMouseMove = e => {\n    if (!isDragging.current || !selected) return;\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const rect = canvas.getBoundingClientRect();\n    const x = (e.clientX - rect.left) / zoom;\n    const y = (e.clientY - rect.top) / zoom;\n    const newX = Math.round((x - dragStart.current.x) / layout.canvas.grid) * layout.canvas.grid;\n    const newY = Math.round((y - dragStart.current.y) / layout.canvas.grid) * layout.canvas.grid;\n    if (editMode === 'position') {\n      updateSlot(selected.id, {\n        x: newX,\n        y: newY\n      });\n      if (selected.clickZone) {\n        updateSlot(selected.id, {\n          clickZone: {\n            ...selected.clickZone,\n            x: newX,\n            y: newY\n          }\n        });\n      }\n    } else if (editMode === 'clickzone' && selected.clickZone) {\n      updateSlot(selected.id, {\n        clickZone: {\n          ...selected.clickZone,\n          x: newX,\n          y: newY\n        }\n      });\n    }\n  };\n  const handleMouseUp = () => {\n    isDragging.current = false;\n  };\n  const drawCanvas = () => {\n    var _layout$background;\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    ctx.save();\n    ctx.scale(zoom, zoom);\n\n    // Draw background image if available\n    if ((_layout$background = layout.background) !== null && _layout$background !== void 0 && _layout$background.src) {\n      const img = new Image();\n      img.onload = () => {\n        ctx.drawImage(img, 0, 0, layout.canvas.width, layout.canvas.height);\n        // Continue drawing on top of background\n        drawGridAndSlots(ctx);\n      };\n      img.src = layout.background.src;\n      return; // Exit early, will continue in onload\n    }\n\n    // If no background, draw directly\n    drawGridAndSlots(ctx);\n  };\n  const drawGridAndSlots = ctx => {\n    // Draw grid if enabled\n    if (showGrid) {\n      ctx.strokeStyle = '#e5e7eb';\n      ctx.lineWidth = 1;\n      for (let x = 0; x < layout.canvas.width; x += layout.canvas.grid) {\n        ctx.beginPath();\n        ctx.moveTo(x, 0);\n        ctx.lineTo(x, layout.canvas.height);\n        ctx.stroke();\n      }\n      for (let y = 0; y < layout.canvas.height; y += layout.canvas.grid) {\n        ctx.beginPath();\n        ctx.moveTo(0, y);\n        ctx.lineTo(layout.canvas.width, y);\n        ctx.stroke();\n      }\n    }\n\n    // Draw slots\n    layout.slots.forEach(slot => {\n      const isSelected = (selected === null || selected === void 0 ? void 0 : selected.id) === slot.id;\n\n      // Draw main slot\n      ctx.fillStyle = slot.color + '40';\n      ctx.fillRect(slot.x, slot.y, slot.width, slot.height);\n      ctx.strokeStyle = isSelected ? '#ef4444' : slot.color;\n      ctx.lineWidth = isSelected ? 3 : 2;\n      ctx.strokeRect(slot.x, slot.y, slot.width, slot.height);\n\n      // Draw click zone if enabled\n      if (showClickZone && slot.clickZone) {\n        ctx.fillStyle = 'rgba(255, 0, 0, 0.2)';\n        ctx.fillRect(slot.clickZone.x, slot.clickZone.y, slot.clickZone.width, slot.clickZone.height);\n        ctx.strokeStyle = '#ef4444';\n        ctx.lineWidth = 1;\n        ctx.setLineDash([5, 5]);\n        ctx.strokeRect(slot.clickZone.x, slot.clickZone.y, slot.clickZone.width, slot.clickZone.height);\n        ctx.setLineDash([]);\n      }\n\n      // Draw label\n      ctx.fillStyle = '#000';\n      ctx.font = '12px sans-serif';\n      ctx.textAlign = 'center';\n      ctx.fillText(slot.name, slot.x + slot.width / 2, slot.y + slot.height / 2);\n    });\n    ctx.restore();\n  };\n  useEffect(() => {\n    drawCanvas();\n  }, [layout, selected, showClickZone, showGrid, zoom]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      fontFamily: 'sans-serif'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"UI Layout Editor\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 543,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '20px',\n        display: 'flex',\n        gap: '10px',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          border: \"1px solid #d1d5db\",\n          padding: \"4px 12px\",\n          borderRadius: \"4px\",\n          background: \"white\",\n          cursor: \"pointer\"\n        },\n        onMouseOver: e => e.currentTarget.style.background = \"#f9fafb\",\n        onMouseOut: e => e.currentTarget.style.background = \"white\",\n        onClick: () => addSlot(\"government\"),\n        children: \"+ Government\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          border: \"1px solid #d1d5db\",\n          padding: \"4px 12px\",\n          borderRadius: \"4px\",\n          background: \"white\",\n          cursor: \"pointer\"\n        },\n        onMouseOver: e => e.currentTarget.style.background = \"#f9fafb\",\n        onMouseOut: e => e.currentTarget.style.background = \"white\",\n        onClick: () => addSlot(\"public\"),\n        children: \"+ Public\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 554,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          border: \"1px solid #d1d5db\",\n          padding: \"4px 12px\",\n          borderRadius: \"4px\",\n          background: \"white\",\n          cursor: \"pointer\"\n        },\n        onMouseOver: e => e.currentTarget.style.background = \"#f9fafb\",\n        onMouseOut: e => e.currentTarget.style.background = \"white\",\n        onClick: () => addSlot(\"dauerhaft\"),\n        children: \"+ Dauerhaft\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 562,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          border: \"1px solid #d1d5db\",\n          padding: \"4px 12px\",\n          borderRadius: \"4px\",\n          background: \"white\",\n          cursor: \"pointer\"\n        },\n        onMouseOver: e => e.currentTarget.style.background = \"#f9fafb\",\n        onMouseOut: e => e.currentTarget.style.background = \"white\",\n        onClick: () => addSlot(\"sofort\"),\n        children: \"+ Sofort\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 570,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          border: \"1px solid #d1d5db\",\n          padding: \"4px 12px\",\n          borderRadius: \"4px\",\n          background: \"white\",\n          cursor: \"pointer\"\n        },\n        onMouseOver: e => e.currentTarget.style.background = \"#f9fafb\",\n        onMouseOut: e => e.currentTarget.style.background = \"white\",\n        onClick: () => addSlot(\"hand\"),\n        children: \"+ Hand\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 578,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          border: \"1px solid #d1d5db\",\n          padding: \"4px 12px\",\n          borderRadius: \"4px\",\n          background: \"white\",\n          cursor: \"pointer\"\n        },\n        onMouseOver: e => e.currentTarget.style.background = \"#f9fafb\",\n        onMouseOut: e => e.currentTarget.style.background = \"white\",\n        onClick: () => addSlot(\"other\"),\n        children: \"+ Other\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 586,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginLeft: '20px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: showClickZone,\n            onChange: e => setShowClickZone(e.target.checked),\n            style: {\n              marginRight: '5px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 13\n          }, this), \"Show Click Zones\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 595,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginLeft: '20px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: showGrid,\n            onChange: e => setShowGrid(e.target.checked),\n            style: {\n              marginRight: '5px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 609,\n            columnNumber: 13\n          }, this), \"Show Grid\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 608,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 607,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginLeft: '20px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Edit Mode:\", /*#__PURE__*/_jsxDEV(\"select\", {\n            value: editMode,\n            onChange: e => setEditMode(e.target.value),\n            style: {\n              marginLeft: '5px',\n              border: \"1px solid #d1d5db\",\n              padding: \"2px 4px\",\n              borderRadius: \"4px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"position\",\n              children: \"Position\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 627,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"clickzone\",\n              children: \"Click Zone\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 628,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 622,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 620,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 619,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginLeft: '20px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Zoom:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            min: \"0.1\",\n            max: \"2\",\n            step: \"0.1\",\n            value: zoom,\n            onChange: e => setZoom(parseFloat(e.target.value)),\n            style: {\n              marginLeft: '5px',\n              width: '100px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 636,\n            columnNumber: 13\n          }, this), Math.round(zoom * 100), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 634,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 633,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          marginLeft: '20px',\n          border: \"1px solid #10b981\",\n          padding: \"4px 12px\",\n          borderRadius: \"4px\",\n          background: \"#10b981\",\n          color: \"white\",\n          cursor: \"pointer\"\n        },\n        onMouseOver: e => e.currentTarget.style.background = \"#059669\",\n        onMouseOut: e => e.currentTarget.style.background = \"#10b981\",\n        onClick: exportGameFormat,\n        children: \"Export Game Format\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 649,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          marginLeft: '10px',\n          border: \"1px solid #3b82f6\",\n          padding: \"4px 12px\",\n          borderRadius: \"4px\",\n          background: \"#3b82f6\",\n          color: \"white\",\n          cursor: \"pointer\"\n        },\n        onMouseOver: e => e.currentTarget.style.background = \"#2563eb\",\n        onMouseOut: e => e.currentTarget.style.background = \"#3b82f6\",\n        onClick: exportPNG,\n        children: \"Export PNG\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 658,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          marginLeft: '10px',\n          border: \"1px solid #8b5cf6\",\n          padding: \"4px 12px\",\n          borderRadius: \"4px\",\n          background: \"#8b5cf6\",\n          color: \"white\",\n          cursor: \"pointer\"\n        },\n        onMouseOver: e => e.currentTarget.style.background = \"#7c3aed\",\n        onMouseOut: e => e.currentTarget.style.background = \"#8b5cf6\",\n        onClick: exportJSON,\n        children: \"Export JSON\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 667,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          marginLeft: '10px',\n          border: \"1px solid #f59e0b\",\n          padding: \"4px 12px\",\n          borderRadius: \"4px\",\n          background: \"#f59e0b\",\n          color: \"white\",\n          cursor: \"pointer\"\n        },\n        onMouseOver: e => e.currentTarget.style.background = \"#d97706\",\n        onMouseOut: e => e.currentTarget.style.background = \"#f59e0b\",\n        onClick: importJSON,\n        children: \"Import JSON\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 676,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          marginLeft: '10px',\n          border: \"1px solid #06b6d4\",\n          padding: \"4px 12px\",\n          borderRadius: \"4px\",\n          background: \"#06b6d4\",\n          color: \"white\",\n          cursor: \"pointer\"\n        },\n        onMouseOver: e => e.currentTarget.style.background = \"#0891b2\",\n        onMouseOut: e => e.currentTarget.style.background = \"#06b6d4\",\n        onClick: importBackground,\n        children: \"Import Background\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 685,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 545,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1\n        },\n        children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n          ref: canvasRef,\n          width: layout.canvas.width * zoom,\n          height: layout.canvas.height * zoom,\n          style: {\n            border: '1px solid #d1d5db',\n            cursor: 'move'\n          },\n          onMouseDown: handleMouseDown,\n          onMouseMove: handleMouseMove,\n          onMouseUp: handleMouseUp,\n          onMouseLeave: handleMouseUp\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 697,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 696,\n        columnNumber: 9\n      }, this), selected && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '300px',\n          padding: '20px',\n          border: '1px solid #d1d5db',\n          borderRadius: '4px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Selected Slot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 711,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '10px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: selected.name,\n              onChange: e => updateSlot(selected.id, {\n                name: e.target.value\n              }),\n              style: {\n                width: '100%',\n                border: \"1px solid #d1d5db\",\n                padding: \"4px 8px\",\n                borderRadius: \"4px\",\n                marginTop: \"4px\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 715,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 713,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 712,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '10px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Type:\", /*#__PURE__*/_jsxDEV(\"select\", {\n              style: {\n                width: \"100%\",\n                border: \"1px solid #d1d5db\",\n                padding: \"4px 8px\",\n                borderRadius: \"4px\",\n                marginTop: \"4px\"\n              },\n              value: selected.type,\n              onChange: e => updateSlot(selected.id, {\n                type: e.target.value,\n                color: typeColor[e.target.value]\n              }),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"government\",\n                children: \"government\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 732,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"public\",\n                children: \"public\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 733,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"dauerhaft\",\n                children: \"dauerhaft\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 734,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"sofort\",\n                children: \"sofort\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 735,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"hand\",\n                children: \"hand\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 736,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"other\",\n                children: \"other\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 737,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 727,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 725,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 724,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '10px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"X:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: selected.x,\n              onChange: e => updateSlot(selected.id, {\n                x: parseInt(e.target.value)\n              }),\n              style: {\n                width: '100%',\n                border: \"1px solid #d1d5db\",\n                padding: \"4px 8px\",\n                borderRadius: \"4px\",\n                marginTop: \"4px\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 745,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 743,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 742,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '10px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Y:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: selected.y,\n              onChange: e => updateSlot(selected.id, {\n                y: parseInt(e.target.value)\n              }),\n              style: {\n                width: '100%',\n                border: \"1px solid #d1d5db\",\n                padding: \"4px 8px\",\n                borderRadius: \"4px\",\n                marginTop: \"4px\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 757,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 755,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 754,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '10px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Width:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: selected.width,\n              onChange: e => updateSlot(selected.id, {\n                width: parseInt(e.target.value)\n              }),\n              style: {\n                width: '100%',\n                border: \"1px solid #d1d5db\",\n                padding: \"4px 8px\",\n                borderRadius: \"4px\",\n                marginTop: \"4px\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 769,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 767,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 766,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '10px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Height:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: selected.height,\n              onChange: e => updateSlot(selected.id, {\n                height: parseInt(e.target.value)\n              }),\n              style: {\n                width: '100%',\n                border: \"1px solid #d1d5db\",\n                padding: \"4px 8px\",\n                borderRadius: \"4px\",\n                marginTop: \"4px\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 781,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 779,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 778,\n          columnNumber: 13\n        }, this), selected.clickZone && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Click Zone\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 792,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '10px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Click X:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: selected.clickZone.x,\n                onChange: e => updateSlot(selected.id, {\n                  clickZone: {\n                    ...selected.clickZone,\n                    x: parseInt(e.target.value)\n                  }\n                }),\n                style: {\n                  width: '100%',\n                  border: \"1px solid #d1d5db\",\n                  padding: \"4px 8px\",\n                  borderRadius: \"4px\",\n                  marginTop: \"4px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 796,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 794,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 793,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '10px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Click Y:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: selected.clickZone.y,\n                onChange: e => updateSlot(selected.id, {\n                  clickZone: {\n                    ...selected.clickZone,\n                    y: parseInt(e.target.value)\n                  }\n                }),\n                style: {\n                  width: '100%',\n                  border: \"1px solid #d1d5db\",\n                  padding: \"4px 8px\",\n                  borderRadius: \"4px\",\n                  marginTop: \"4px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 808,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 806,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 805,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '10px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Click Width:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: selected.clickZone.width,\n                onChange: e => updateSlot(selected.id, {\n                  clickZone: {\n                    ...selected.clickZone,\n                    width: parseInt(e.target.value)\n                  }\n                }),\n                style: {\n                  width: '100%',\n                  border: \"1px solid #d1d5db\",\n                  padding: \"4px 8px\",\n                  borderRadius: \"4px\",\n                  marginTop: \"4px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 820,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 818,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 817,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '10px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Click Height:\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: selected.clickZone.height,\n                onChange: e => updateSlot(selected.id, {\n                  clickZone: {\n                    ...selected.clickZone,\n                    height: parseInt(e.target.value)\n                  }\n                }),\n                style: {\n                  width: '100%',\n                  border: \"1px solid #d1d5db\",\n                  padding: \"4px 8px\",\n                  borderRadius: \"4px\",\n                  marginTop: \"4px\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 832,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 830,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 829,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            border: \"1px solid #ef4444\",\n            padding: \"4px 12px\",\n            borderRadius: \"4px\",\n            background: \"#ef4444\",\n            color: \"white\",\n            cursor: \"pointer\"\n          },\n          onMouseOver: e => e.currentTarget.style.background = \"#dc2626\",\n          onMouseOut: e => e.currentTarget.style.background = \"#ef4444\",\n          onClick: () => deleteSlot(selected.id),\n          children: \"Delete Slot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 843,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 710,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 695,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 542,\n    columnNumber: 5\n  }, this);\n};\n_s(UILayoutEditor, \"qKkTM9noRzZI7dyu+cys4tAn8l4=\");\n_c = UILayoutEditor;\nexport default UILayoutEditor;\nvar _c;\n$RefreshReg$(_c, \"UILayoutEditor\");","map":{"version":3,"names":["React","useEffect","useRef","useState","LAYOUT","jsxDEV","_jsxDEV","Fragment","_Fragment","typeColor","government","public","dauerhaft","sofort","hand","other","uid","Math","random","toString","slice","convertLayoutToEditorFormat","slots","zones","forEach","zone","_zone$layout","_zone$layout2","layout","type","_lay$direction","x","y","w","h","rectPx","lay","slotCount","slotSize","gap","direction","i","slotX","slotY","slotId","id","slotType","getSlotType","push","name","width","height","color","locked","clickZone","canvas","grid","zoneId","includes","getTypeColor","defaultLayout","UILayoutEditor","_s","setLayout","selected","setSelected","showClickZone","setShowClickZone","showGrid","setShowGrid","editMode","setEditMode","zoom","setZoom","canvasRef","isDragging","dragStart","addSlot","newSlot","prev","deleteSlot","filter","s","updateSlot","updates","map","exportGameFormat","slotGroups","slot","baseId","split","Object","entries","length","z","firstSlot","isHorizontal","every","isVertical","minX","min","maxX","max","alignment","minY","maxY","exportData","version","aspect","scaling","mode","letterbox","dataStr","JSON","stringify","dataBlob","Blob","url","URL","createObjectURL","link","document","createElement","href","download","click","revokeObjectURL","exportPNG","current","exportCanvas","ctx","getContext","fillStyle","fillRect","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","strokeRect","font","textAlign","fillText","setLineDash","dataURL","toDataURL","importBackground","input","accept","onchange","e","_files","file","target","files","reader","FileReader","onload","_e$target","src","result","background","readAsDataURL","exportJSON","importJSON","_files2","_e$target2","importedLayout","parse","error","alert","readAsText","handleMouseDown","rect","getBoundingClientRect","clientX","left","clientY","top","clickedSlot","find","handleMouseMove","newX","round","newY","handleMouseUp","drawCanvas","_layout$background","clearRect","save","scale","img","Image","drawImage","drawGridAndSlots","isSelected","restore","style","padding","fontFamily","children","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","display","alignItems","border","borderRadius","cursor","onMouseOver","currentTarget","onMouseOut","onClick","marginLeft","checked","onChange","marginRight","value","step","parseFloat","flex","ref","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","marginTop","parseInt","_c","$RefreshReg$"],"sources":["C:/Users/skank/Videos/Cards/Milchcards/src/components/UILayoutEditor.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { LAYOUT } from \"../ui/layout\";\r\n\r\ninterface Slot {\r\n  id: string;\r\n  name: string;\r\n  type: string;\r\n  x: number;\r\n  y: number;\r\n  width: number;\r\n  height: number;\r\n  color: string;\r\n  locked: boolean;\r\n  clickZone?: {\r\n    x: number;\r\n    y: number;\r\n    width: number;\r\n    height: number;\r\n  };\r\n}\r\n\r\ninterface CanvasConfig {\r\n  width: number;\r\n  height: number;\r\n  grid: number;\r\n}\r\n\r\ninterface LayoutData {\r\n  canvas: CanvasConfig;\r\n  background?: { src: string };\r\n  slots: Slot[];\r\n}\r\n\r\nconst typeColor: Record<string, string> = {\r\n  government: \"#4ade80\",\r\n  public: \"#60a5fa\",\r\n  dauerhaft: \"#f59e0b\",\r\n  sofort: \"#f472b6\",\r\n  hand: \"#a78bfa\",\r\n  other: \"#a78bfa\",\r\n};\r\n\r\nconst uid = () => Math.random().toString(36).slice(2, 9);\r\n\r\n// Convert current LAYOUT to editor format\r\nconst convertLayoutToEditorFormat = (): LayoutData => {\r\n  const slots: Slot[] = [];\r\n\r\n  LAYOUT.zones.forEach(zone => {\r\n    if (zone.layout?.type === 'fixedSlots') {\r\n      const [x, y, w, h] = zone.rectPx;\r\n      const lay = zone.layout as any;\r\n      const slotCount = lay.slots;\r\n      const slotSize = lay.slotSize;\r\n      const gap = lay.gap;\r\n      const direction = lay.direction ?? 'row';\r\n\r\n      for (let i = 0; i < slotCount; i++) {\r\n        let slotX = x;\r\n        let slotY = y;\r\n\r\n        if (direction === 'horizontal') {\r\n          slotX = x + i * (slotSize[0] + gap);\r\n        } else if (direction === 'vertical') {\r\n          slotY = y + i * (slotSize[1] + gap);\r\n        } else if (direction === 'vertical-reverse') {\r\n          slotY = y + (slotCount - 1 - i) * (slotSize[1] + gap);\r\n        }\r\n\r\n        const slotId = `${zone.id}-${i}`;\r\n        const slotType = getSlotType(zone.id);\r\n\r\n        slots.push({\r\n          id: slotId,\r\n          name: slotId,\r\n          type: slotType,\r\n          x: slotX,\r\n          y: slotY,\r\n          width: slotSize[0],\r\n          height: slotSize[1],\r\n          color: typeColor[slotType],\r\n          locked: false,\r\n          clickZone: {\r\n            x: slotX,\r\n            y: slotY,\r\n            width: slotSize[0],\r\n            height: slotSize[1]\r\n          }\r\n        });\r\n      }\r\n    } else if (zone.layout?.type === 'singleSlot') {\r\n      const [x, y, w, h] = zone.rectPx;\r\n      const slotType = getSlotType(zone.id);\r\n\r\n      slots.push({\r\n        id: zone.id,\r\n        name: zone.id,\r\n        type: slotType,\r\n        x: x,\r\n        y: y,\r\n        width: w,\r\n        height: h,\r\n        color: typeColor[slotType],\r\n        locked: false,\r\n        clickZone: {\r\n          x: x,\r\n          y: y,\r\n          width: w,\r\n          height: h\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  return {\r\n    canvas: {\r\n      width: 1920,\r\n      height: 1080,\r\n      grid: 13\r\n    },\r\n    slots\r\n  };\r\n};\r\n\r\nconst getSlotType = (zoneId: string): string => {\r\n  if (zoneId.includes('government')) return 'government';\r\n  if (zoneId.includes('public')) return 'public';\r\n  if (zoneId.includes('permanent')) return 'dauerhaft';\r\n  if (zoneId.includes('instant')) return 'sofort';\r\n  if (zoneId.includes('interventions')) return 'sofort';\r\n  if (zoneId.includes('hand')) return 'hand';\r\n  return 'other';\r\n};\r\n\r\nconst getTypeColor = (type: string): string => {\r\n  return typeColor[type] || typeColor.other;\r\n};\r\n\r\nconst defaultLayout: LayoutData = convertLayoutToEditorFormat();\r\n\r\nconst UILayoutEditor: React.FC = () => {\r\n  const [layout, setLayout] = useState<LayoutData>(defaultLayout);\r\n  const [selected, setSelected] = useState<Slot | null>(null);\r\n  const [showClickZone, setShowClickZone] = useState(false);\r\n  const [showGrid, setShowGrid] = useState(true);\r\n  const [editMode, setEditMode] = useState<'position' | 'clickzone'>('position');\r\n  const [zoom, setZoom] = useState(0.5);\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const isDragging = useRef(false);\r\n  const dragStart = useRef({ x: 0, y: 0 });\r\n\r\n  const addSlot = (type: string) => {\r\n    const newSlot: Slot = {\r\n      id: uid(),\r\n      name: `New ${type}`,\r\n      type,\r\n      x: 100,\r\n      y: 100,\r\n      width: 256,\r\n      height: 256,\r\n      color: typeColor[type],\r\n      locked: false,\r\n      clickZone: {\r\n        x: 100,\r\n        y: 100,\r\n        width: 256,\r\n        height: 256\r\n      }\r\n    };\r\n    setLayout(prev => ({ ...prev, slots: [...prev.slots, newSlot] }));\r\n  };\r\n\r\n  const deleteSlot = (id: string) => {\r\n    setLayout(prev => ({ ...prev, slots: prev.slots.filter(s => s.id !== id) }));\r\n    if (selected?.id === id) setSelected(null);\r\n  };\r\n\r\n  const updateSlot = (id: string, updates: Partial<Slot>) => {\r\n    setLayout(prev => ({\r\n      ...prev,\r\n      slots: prev.slots.map(s => s.id === id ? { ...s, ...updates } : s)\r\n    }));\r\n  };\r\n\r\n  const exportGameFormat = () => {\r\n    const zones: any[] = [];\r\n    const slotGroups: Record<string, Slot[]> = {};\r\n\r\n    // Group slots by their base ID\r\n    layout.slots.forEach(slot => {\r\n      const baseId = slot.id.split('-')[0];\r\n      if (!slotGroups[baseId]) slotGroups[baseId] = [];\r\n      slotGroups[baseId].push(slot);\r\n    });\r\n\r\n    // Convert groups to zones\r\n    Object.entries(slotGroups).forEach(([baseId, slots]) => {\r\n      if (slots.length === 1) {\r\n        // Single slot\r\n        const slot = slots[0];\r\n        zones.push({\r\n          id: baseId,\r\n          rectPx: [slot.x, slot.y, slot.width, slot.height],\r\n          layout: {\r\n            type: \"singleSlot\",\r\n            slotSize: [slot.width, slot.height]\r\n          },\r\n          z: 10\r\n        });\r\n      } else {\r\n        // Multiple slots - determine layout type\r\n        const firstSlot = slots[0];\r\n        const isHorizontal = slots.every(s => s.y === firstSlot.y);\r\n        const isVertical = slots.every(s => s.x === firstSlot.x);\r\n\r\n        if (isHorizontal) {\r\n          const minX = Math.min(...slots.map(s => s.x));\r\n          const maxX = Math.max(...slots.map(s => s.x + s.width));\r\n          const y = firstSlot.y;\r\n          const width = maxX - minX;\r\n          const height = firstSlot.height;\r\n\r\n          zones.push({\r\n            id: baseId,\r\n            rectPx: [minX, y, width, height],\r\n            layout: {\r\n              type: \"fixedSlots\",\r\n              slots: slots.length,\r\n              slotSize: [firstSlot.width, firstSlot.height],\r\n              gap: slots.length > 1 ? slots[1].x - (slots[0].x + slots[0].width) : 8,\r\n              alignment: \"left\",\r\n              direction: \"horizontal\"\r\n            },\r\n            z: 10\r\n          });\r\n        } else if (isVertical) {\r\n          const minY = Math.min(...slots.map(s => s.y));\r\n          const maxY = Math.max(...slots.map(s => s.y + s.height));\r\n          const x = firstSlot.x;\r\n          const width = firstSlot.width;\r\n          const height = maxY - minY;\r\n\r\n          zones.push({\r\n            id: baseId,\r\n            rectPx: [x, minY, width, height],\r\n            layout: {\r\n              type: \"fixedSlots\",\r\n              slots: slots.length,\r\n              slotSize: [firstSlot.width, firstSlot.height],\r\n              gap: slots.length > 1 ? slots[1].y - (slots[0].y + slots[0].height) : 8,\r\n              alignment: \"left\",\r\n              direction: \"vertical\"\r\n            },\r\n            z: 10\r\n          });\r\n        }\r\n      }\r\n    });\r\n\r\n    const exportData = {\r\n      version: 4,\r\n      canvas: {\r\n        width: layout.canvas.width,\r\n        height: layout.canvas.height,\r\n        aspect: \"16:9\"\r\n      },\r\n      scaling: {\r\n        mode: \"fit\",\r\n        letterbox: true\r\n      },\r\n      zones\r\n    };\r\n\r\n    const dataStr = JSON.stringify(exportData, null, 2);\r\n    const dataBlob = new Blob([dataStr], { type: 'application/json' });\r\n    const url = URL.createObjectURL(dataBlob);\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = 'ui_layout_1920x1080.json';\r\n    link.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  const exportPNG = () => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n\r\n    // Create a temporary canvas for export\r\n    const exportCanvas = document.createElement('canvas');\r\n    const ctx = exportCanvas.getContext('2d');\r\n    if (!ctx) return;\r\n\r\n    exportCanvas.width = layout.canvas.width;\r\n    exportCanvas.height = layout.canvas.height;\r\n\r\n    // Draw background\r\n    ctx.fillStyle = '#ffffff';\r\n    ctx.fillRect(0, 0, exportCanvas.width, exportCanvas.height);\r\n\r\n    // Draw grid\r\n    if (showGrid) {\r\n      ctx.strokeStyle = '#e5e7eb';\r\n      ctx.lineWidth = 1;\r\n      for (let x = 0; x <= exportCanvas.width; x += layout.canvas.grid) {\r\n        ctx.beginPath();\r\n        ctx.moveTo(x, 0);\r\n        ctx.lineTo(x, exportCanvas.height);\r\n        ctx.stroke();\r\n      }\r\n      for (let y = 0; y <= exportCanvas.height; y += layout.canvas.grid) {\r\n        ctx.beginPath();\r\n        ctx.moveTo(0, y);\r\n        ctx.lineTo(exportCanvas.width, y);\r\n        ctx.stroke();\r\n      }\r\n    }\r\n\r\n    // Draw slots\r\n    layout.slots.forEach(slot => {\r\n      // Draw slot rectangle\r\n      ctx.fillStyle = slot.color + '40'; // Add transparency\r\n      ctx.fillRect(slot.x, slot.y, slot.width, slot.height);\r\n      ctx.strokeStyle = slot.color;\r\n      ctx.lineWidth = 2;\r\n      ctx.strokeRect(slot.x, slot.y, slot.width, slot.height);\r\n\r\n      // Draw slot name\r\n      ctx.fillStyle = '#000000';\r\n      ctx.font = '12px Arial';\r\n      ctx.textAlign = 'center';\r\n      ctx.fillText(slot.name, slot.x + slot.width / 2, slot.y + slot.height / 2);\r\n\r\n      // Draw click zone if different from slot\r\n      if (slot.clickZone && (slot.clickZone.x !== slot.x || slot.clickZone.y !== slot.y ||\r\n          slot.clickZone.width !== slot.width || slot.clickZone.height !== slot.height)) {\r\n        ctx.strokeStyle = '#ff0000';\r\n        ctx.lineWidth = 1;\r\n        ctx.setLineDash([5, 5]);\r\n        ctx.strokeRect(slot.clickZone.x, slot.clickZone.y, slot.clickZone.width, slot.clickZone.height);\r\n        ctx.setLineDash([]);\r\n      }\r\n    });\r\n\r\n    // Export as PNG\r\n    const dataURL = exportCanvas.toDataURL('image/png');\r\n    const link = document.createElement('a');\r\n    link.href = dataURL;\r\n    link.download = 'ui_layout_export.png';\r\n    link.click();\r\n  };\r\n\r\n  const importBackground = () => {\r\n    const input = document.createElement('input');\r\n    input.type = 'file';\r\n    input.accept = 'image/*';\r\n    input.onchange = (e) => {\r\n      const file = (e.target as HTMLInputElement).files?.[0];\r\n      if (file) {\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          const src = e.target?.result as string;\r\n          setLayout(prev => ({\r\n            ...prev,\r\n            background: { src }\r\n          }));\r\n        };\r\n        reader.readAsDataURL(file);\r\n      }\r\n    };\r\n    input.click();\r\n  };\r\n\r\n  const exportJSON = () => {\r\n    const dataStr = JSON.stringify(layout, null, 2);\r\n    const dataBlob = new Blob([dataStr], { type: 'application/json' });\r\n    const url = URL.createObjectURL(dataBlob);\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = 'ui_layout_editor.json';\r\n    link.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  const importJSON = () => {\r\n    const input = document.createElement('input');\r\n    input.type = 'file';\r\n    input.accept = '.json';\r\n    input.onchange = (e) => {\r\n      const file = (e.target as HTMLInputElement).files?.[0];\r\n      if (file) {\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          try {\r\n            const importedLayout = JSON.parse(e.target?.result as string);\r\n            setLayout(importedLayout);\r\n          } catch (error) {\r\n            alert('Error importing JSON file: ' + error);\r\n          }\r\n        };\r\n        reader.readAsText(file);\r\n      }\r\n    };\r\n    input.click();\r\n  };\r\n\r\n  const handleMouseDown = (e: React.MouseEvent) => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = (e.clientX - rect.left) / zoom;\r\n    const y = (e.clientY - rect.top) / zoom;\r\n\r\n    const clickedSlot = layout.slots.find(slot =>\r\n      x >= slot.x && x <= slot.x + slot.width &&\r\n      y >= slot.y && y <= slot.y + slot.height\r\n    );\r\n\r\n    if (clickedSlot) {\r\n      setSelected(clickedSlot);\r\n      isDragging.current = true;\r\n      dragStart.current = { x: x - clickedSlot.x, y: y - clickedSlot.y };\r\n    } else {\r\n      setSelected(null);\r\n    }\r\n  };\r\n\r\n  const handleMouseMove = (e: React.MouseEvent) => {\r\n    if (!isDragging.current || !selected) return;\r\n\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n\r\n    const rect = canvas.getBoundingClientRect();\r\n    const x = (e.clientX - rect.left) / zoom;\r\n    const y = (e.clientY - rect.top) / zoom;\r\n\r\n    const newX = Math.round((x - dragStart.current.x) / layout.canvas.grid) * layout.canvas.grid;\r\n    const newY = Math.round((y - dragStart.current.y) / layout.canvas.grid) * layout.canvas.grid;\r\n\r\n    if (editMode === 'position') {\r\n      updateSlot(selected.id, { x: newX, y: newY });\r\n      if (selected.clickZone) {\r\n        updateSlot(selected.id, {\r\n          clickZone: { ...selected.clickZone, x: newX, y: newY }\r\n        });\r\n      }\r\n    } else if (editMode === 'clickzone' && selected.clickZone) {\r\n      updateSlot(selected.id, {\r\n        clickZone: { ...selected.clickZone, x: newX, y: newY }\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleMouseUp = () => {\r\n    isDragging.current = false;\r\n  };\r\n\r\n  const drawCanvas = () => {\r\n    const canvas = canvasRef.current;\r\n    if (!canvas) return;\r\n\r\n    const ctx = canvas.getContext('2d');\r\n    if (!ctx) return;\r\n\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n    ctx.save();\r\n    ctx.scale(zoom, zoom);\r\n\r\n    // Draw background image if available\r\n    if (layout.background?.src) {\r\n      const img = new Image();\r\n      img.onload = () => {\r\n        ctx.drawImage(img, 0, 0, layout.canvas.width, layout.canvas.height);\r\n        // Continue drawing on top of background\r\n        drawGridAndSlots(ctx);\r\n      };\r\n      img.src = layout.background.src;\r\n      return; // Exit early, will continue in onload\r\n    }\r\n\r\n    // If no background, draw directly\r\n    drawGridAndSlots(ctx);\r\n  };\r\n\r\n  const drawGridAndSlots = (ctx: CanvasRenderingContext2D) => {\r\n    // Draw grid if enabled\r\n    if (showGrid) {\r\n      ctx.strokeStyle = '#e5e7eb';\r\n      ctx.lineWidth = 1;\r\n      for (let x = 0; x < layout.canvas.width; x += layout.canvas.grid) {\r\n        ctx.beginPath();\r\n        ctx.moveTo(x, 0);\r\n        ctx.lineTo(x, layout.canvas.height);\r\n        ctx.stroke();\r\n      }\r\n      for (let y = 0; y < layout.canvas.height; y += layout.canvas.grid) {\r\n        ctx.beginPath();\r\n        ctx.moveTo(0, y);\r\n        ctx.lineTo(layout.canvas.width, y);\r\n        ctx.stroke();\r\n      }\r\n    }\r\n\r\n    // Draw slots\r\n    layout.slots.forEach(slot => {\r\n      const isSelected = selected?.id === slot.id;\r\n\r\n      // Draw main slot\r\n      ctx.fillStyle = slot.color + '40';\r\n      ctx.fillRect(slot.x, slot.y, slot.width, slot.height);\r\n      ctx.strokeStyle = isSelected ? '#ef4444' : slot.color;\r\n      ctx.lineWidth = isSelected ? 3 : 2;\r\n      ctx.strokeRect(slot.x, slot.y, slot.width, slot.height);\r\n\r\n      // Draw click zone if enabled\r\n      if (showClickZone && slot.clickZone) {\r\n        ctx.fillStyle = 'rgba(255, 0, 0, 0.2)';\r\n        ctx.fillRect(slot.clickZone.x, slot.clickZone.y, slot.clickZone.width, slot.clickZone.height);\r\n        ctx.strokeStyle = '#ef4444';\r\n        ctx.lineWidth = 1;\r\n        ctx.setLineDash([5, 5]);\r\n        ctx.strokeRect(slot.clickZone.x, slot.clickZone.y, slot.clickZone.width, slot.clickZone.height);\r\n        ctx.setLineDash([]);\r\n      }\r\n\r\n      // Draw label\r\n      ctx.fillStyle = '#000';\r\n      ctx.font = '12px sans-serif';\r\n      ctx.textAlign = 'center';\r\n      ctx.fillText(slot.name, slot.x + slot.width / 2, slot.y + slot.height / 2);\r\n    });\r\n\r\n    ctx.restore();\r\n  };\r\n\r\n  useEffect(() => {\r\n    drawCanvas();\r\n  }, [layout, selected, showClickZone, showGrid, zoom]);\r\n\r\n  return (\r\n    <div style={{ padding: '20px', fontFamily: 'sans-serif' }}>\r\n      <h1>UI Layout Editor</h1>\r\n\r\n      <div style={{ marginBottom: '20px', display: 'flex', gap: '10px', alignItems: 'center' }}>\r\n        <button\r\n          style={{ border: \"1px solid #d1d5db\", padding: \"4px 12px\", borderRadius: \"4px\", background: \"white\", cursor: \"pointer\" }}\r\n          onMouseOver={(e) => e.currentTarget.style.background = \"#f9fafb\"}\r\n          onMouseOut={(e) => e.currentTarget.style.background = \"white\"}\r\n          onClick={() => addSlot(\"government\")}\r\n        >\r\n          + Government\r\n        </button>\r\n        <button\r\n          style={{ border: \"1px solid #d1d5db\", padding: \"4px 12px\", borderRadius: \"4px\", background: \"white\", cursor: \"pointer\" }}\r\n          onMouseOver={(e) => e.currentTarget.style.background = \"#f9fafb\"}\r\n          onMouseOut={(e) => e.currentTarget.style.background = \"white\"}\r\n          onClick={() => addSlot(\"public\")}\r\n        >\r\n          + Public\r\n        </button>\r\n        <button\r\n          style={{ border: \"1px solid #d1d5db\", padding: \"4px 12px\", borderRadius: \"4px\", background: \"white\", cursor: \"pointer\" }}\r\n          onMouseOver={(e) => e.currentTarget.style.background = \"#f9fafb\"}\r\n          onMouseOut={(e) => e.currentTarget.style.background = \"white\"}\r\n          onClick={() => addSlot(\"dauerhaft\")}\r\n        >\r\n          + Dauerhaft\r\n        </button>\r\n        <button\r\n          style={{ border: \"1px solid #d1d5db\", padding: \"4px 12px\", borderRadius: \"4px\", background: \"white\", cursor: \"pointer\" }}\r\n          onMouseOver={(e) => e.currentTarget.style.background = \"#f9fafb\"}\r\n          onMouseOut={(e) => e.currentTarget.style.background = \"white\"}\r\n          onClick={() => addSlot(\"sofort\")}\r\n        >\r\n          + Sofort\r\n        </button>\r\n        <button\r\n          style={{ border: \"1px solid #d1d5db\", padding: \"4px 12px\", borderRadius: \"4px\", background: \"white\", cursor: \"pointer\" }}\r\n          onMouseOver={(e) => e.currentTarget.style.background = \"#f9fafb\"}\r\n          onMouseOut={(e) => e.currentTarget.style.background = \"white\"}\r\n          onClick={() => addSlot(\"hand\")}\r\n        >\r\n          + Hand\r\n        </button>\r\n        <button\r\n          style={{ border: \"1px solid #d1d5db\", padding: \"4px 12px\", borderRadius: \"4px\", background: \"white\", cursor: \"pointer\" }}\r\n          onMouseOver={(e) => e.currentTarget.style.background = \"#f9fafb\"}\r\n          onMouseOut={(e) => e.currentTarget.style.background = \"white\"}\r\n          onClick={() => addSlot(\"other\")}\r\n        >\r\n          + Other\r\n        </button>\r\n\r\n        <div style={{ marginLeft: '20px' }}>\r\n          <label>\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={showClickZone}\r\n              onChange={(e) => setShowClickZone(e.target.checked)}\r\n              style={{ marginRight: '5px' }}\r\n            />\r\n            Show Click Zones\r\n          </label>\r\n        </div>\r\n\r\n        <div style={{ marginLeft: '20px' }}>\r\n          <label>\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={showGrid}\r\n              onChange={(e) => setShowGrid(e.target.checked)}\r\n              style={{ marginRight: '5px' }}\r\n            />\r\n            Show Grid\r\n          </label>\r\n        </div>\r\n\r\n        <div style={{ marginLeft: '20px' }}>\r\n          <label>\r\n            Edit Mode:\r\n            <select\r\n              value={editMode}\r\n              onChange={(e) => setEditMode(e.target.value as 'position' | 'clickzone')}\r\n              style={{ marginLeft: '5px', border: \"1px solid #d1d5db\", padding: \"2px 4px\", borderRadius: \"4px\" }}\r\n            >\r\n              <option value=\"position\">Position</option>\r\n              <option value=\"clickzone\">Click Zone</option>\r\n            </select>\r\n          </label>\r\n        </div>\r\n\r\n        <div style={{ marginLeft: '20px' }}>\r\n          <label>\r\n            Zoom:\r\n            <input\r\n              type=\"range\"\r\n              min=\"0.1\"\r\n              max=\"2\"\r\n              step=\"0.1\"\r\n              value={zoom}\r\n              onChange={(e) => setZoom(parseFloat(e.target.value))}\r\n              style={{ marginLeft: '5px', width: '100px' }}\r\n            />\r\n            {Math.round(zoom * 100)}%\r\n          </label>\r\n        </div>\r\n\r\n        <button\r\n          style={{ marginLeft: '20px', border: \"1px solid #10b981\", padding: \"4px 12px\", borderRadius: \"4px\", background: \"#10b981\", color: \"white\", cursor: \"pointer\" }}\r\n          onMouseOver={(e) => e.currentTarget.style.background = \"#059669\"}\r\n          onMouseOut={(e) => e.currentTarget.style.background = \"#10b981\"}\r\n          onClick={exportGameFormat}\r\n        >\r\n          Export Game Format\r\n        </button>\r\n\r\n        <button\r\n          style={{ marginLeft: '10px', border: \"1px solid #3b82f6\", padding: \"4px 12px\", borderRadius: \"4px\", background: \"#3b82f6\", color: \"white\", cursor: \"pointer\" }}\r\n          onMouseOver={(e) => e.currentTarget.style.background = \"#2563eb\"}\r\n          onMouseOut={(e) => e.currentTarget.style.background = \"#3b82f6\"}\r\n          onClick={exportPNG}\r\n        >\r\n          Export PNG\r\n        </button>\r\n\r\n        <button\r\n          style={{ marginLeft: '10px', border: \"1px solid #8b5cf6\", padding: \"4px 12px\", borderRadius: \"4px\", background: \"#8b5cf6\", color: \"white\", cursor: \"pointer\" }}\r\n          onMouseOver={(e) => e.currentTarget.style.background = \"#7c3aed\"}\r\n          onMouseOut={(e) => e.currentTarget.style.background = \"#8b5cf6\"}\r\n          onClick={exportJSON}\r\n        >\r\n          Export JSON\r\n        </button>\r\n\r\n        <button\r\n          style={{ marginLeft: '10px', border: \"1px solid #f59e0b\", padding: \"4px 12px\", borderRadius: \"4px\", background: \"#f59e0b\", color: \"white\", cursor: \"pointer\" }}\r\n          onMouseOver={(e) => e.currentTarget.style.background = \"#d97706\"}\r\n          onMouseOut={(e) => e.currentTarget.style.background = \"#f59e0b\"}\r\n          onClick={importJSON}\r\n        >\r\n          Import JSON\r\n        </button>\r\n\r\n        <button\r\n          style={{ marginLeft: '10px', border: \"1px solid #06b6d4\", padding: \"4px 12px\", borderRadius: \"4px\", background: \"#06b6d4\", color: \"white\", cursor: \"pointer\" }}\r\n          onMouseOver={(e) => e.currentTarget.style.background = \"#0891b2\"}\r\n          onMouseOut={(e) => e.currentTarget.style.background = \"#06b6d4\"}\r\n          onClick={importBackground}\r\n        >\r\n          Import Background\r\n        </button>\r\n      </div>\r\n\r\n      <div style={{ display: 'flex', gap: '20px' }}>\r\n        <div style={{ flex: 1 }}>\r\n          <canvas\r\n            ref={canvasRef}\r\n            width={layout.canvas.width * zoom}\r\n            height={layout.canvas.height * zoom}\r\n            style={{ border: '1px solid #d1d5db', cursor: 'move' }}\r\n            onMouseDown={handleMouseDown}\r\n            onMouseMove={handleMouseMove}\r\n            onMouseUp={handleMouseUp}\r\n            onMouseLeave={handleMouseUp}\r\n          />\r\n        </div>\r\n\r\n        {selected && (\r\n          <div style={{ width: '300px', padding: '20px', border: '1px solid #d1d5db', borderRadius: '4px' }}>\r\n            <h3>Selected Slot</h3>\r\n            <div style={{ marginBottom: '10px' }}>\r\n              <label>\r\n                Name:\r\n                <input\r\n                  type=\"text\"\r\n                  value={selected.name}\r\n                  onChange={(e) => updateSlot(selected.id, { name: e.target.value })}\r\n                  style={{ width: '100%', border: \"1px solid #d1d5db\", padding: \"4px 8px\", borderRadius: \"4px\", marginTop: \"4px\" }}\r\n                />\r\n              </label>\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '10px' }}>\r\n              <label>\r\n                Type:\r\n                <select\r\n                  style={{ width: \"100%\", border: \"1px solid #d1d5db\", padding: \"4px 8px\", borderRadius: \"4px\", marginTop: \"4px\" }}\r\n                  value={selected.type}\r\n                  onChange={(e) => updateSlot(selected.id, { type: e.target.value, color: typeColor[e.target.value] })}\r\n                >\r\n                  <option value=\"government\">government</option>\r\n                  <option value=\"public\">public</option>\r\n                  <option value=\"dauerhaft\">dauerhaft</option>\r\n                  <option value=\"sofort\">sofort</option>\r\n                  <option value=\"hand\">hand</option>\r\n                  <option value=\"other\">other</option>\r\n                </select>\r\n              </label>\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '10px' }}>\r\n              <label>\r\n                X:\r\n                <input\r\n                  type=\"number\"\r\n                  value={selected.x}\r\n                  onChange={(e) => updateSlot(selected.id, { x: parseInt(e.target.value) })}\r\n                  style={{ width: '100%', border: \"1px solid #d1d5db\", padding: \"4px 8px\", borderRadius: \"4px\", marginTop: \"4px\" }}\r\n                />\r\n              </label>\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '10px' }}>\r\n              <label>\r\n                Y:\r\n                <input\r\n                  type=\"number\"\r\n                  value={selected.y}\r\n                  onChange={(e) => updateSlot(selected.id, { y: parseInt(e.target.value) })}\r\n                  style={{ width: '100%', border: \"1px solid #d1d5db\", padding: \"4px 8px\", borderRadius: \"4px\", marginTop: \"4px\" }}\r\n                />\r\n              </label>\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '10px' }}>\r\n              <label>\r\n                Width:\r\n                <input\r\n                  type=\"number\"\r\n                  value={selected.width}\r\n                  onChange={(e) => updateSlot(selected.id, { width: parseInt(e.target.value) })}\r\n                  style={{ width: '100%', border: \"1px solid #d1d5db\", padding: \"4px 8px\", borderRadius: \"4px\", marginTop: \"4px\" }}\r\n                />\r\n              </label>\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '10px' }}>\r\n              <label>\r\n                Height:\r\n                <input\r\n                  type=\"number\"\r\n                  value={selected.height}\r\n                  onChange={(e) => updateSlot(selected.id, { height: parseInt(e.target.value) })}\r\n                  style={{ width: '100%', border: \"1px solid #d1d5db\", padding: \"4px 8px\", borderRadius: \"4px\", marginTop: \"4px\" }}\r\n                />\r\n              </label>\r\n            </div>\r\n\r\n            {selected.clickZone && (\r\n              <>\r\n                <h4>Click Zone</h4>\r\n                <div style={{ marginBottom: '10px' }}>\r\n                  <label>\r\n                    Click X:\r\n                    <input\r\n                      type=\"number\"\r\n                      value={selected.clickZone.x}\r\n                      onChange={(e) => updateSlot(selected.id, { clickZone: { ...selected.clickZone!, x: parseInt(e.target.value) } })}\r\n                      style={{ width: '100%', border: \"1px solid #d1d5db\", padding: \"4px 8px\", borderRadius: \"4px\", marginTop: \"4px\" }}\r\n                    />\r\n                  </label>\r\n                </div>\r\n\r\n                <div style={{ marginBottom: '10px' }}>\r\n                  <label>\r\n                    Click Y:\r\n                    <input\r\n                      type=\"number\"\r\n                      value={selected.clickZone.y}\r\n                      onChange={(e) => updateSlot(selected.id, { clickZone: { ...selected.clickZone!, y: parseInt(e.target.value) } })}\r\n                      style={{ width: '100%', border: \"1px solid #d1d5db\", padding: \"4px 8px\", borderRadius: \"4px\", marginTop: \"4px\" }}\r\n                    />\r\n                  </label>\r\n                </div>\r\n\r\n                <div style={{ marginBottom: '10px' }}>\r\n                  <label>\r\n                    Click Width:\r\n                    <input\r\n                      type=\"number\"\r\n                      value={selected.clickZone.width}\r\n                      onChange={(e) => updateSlot(selected.id, { clickZone: { ...selected.clickZone!, width: parseInt(e.target.value) } })}\r\n                      style={{ width: '100%', border: \"1px solid #d1d5db\", padding: \"4px 8px\", borderRadius: \"4px\", marginTop: \"4px\" }}\r\n                    />\r\n                  </label>\r\n                </div>\r\n\r\n                <div style={{ marginBottom: '10px' }}>\r\n                  <label>\r\n                    Click Height:\r\n                    <input\r\n                      type=\"number\"\r\n                      value={selected.clickZone.height}\r\n                      onChange={(e) => updateSlot(selected.id, { clickZone: { ...selected.clickZone!, height: parseInt(e.target.value) } })}\r\n                      style={{ width: '100%', border: \"1px solid #d1d5db\", padding: \"4px 8px\", borderRadius: \"4px\", marginTop: \"4px\" }}\r\n                    />\r\n                  </label>\r\n                </div>\r\n              </>\r\n            )}\r\n\r\n            <button\r\n              style={{ border: \"1px solid #ef4444\", padding: \"4px 12px\", borderRadius: \"4px\", background: \"#ef4444\", color: \"white\", cursor: \"pointer\" }}\r\n              onMouseOver={(e) => e.currentTarget.style.background = \"#dc2626\"}\r\n              onMouseOut={(e) => e.currentTarget.style.background = \"#ef4444\"}\r\n              onClick={() => deleteSlot(selected.id)}\r\n            >\r\n              Delete Slot\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UILayoutEditor;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}