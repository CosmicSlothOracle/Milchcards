{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\skank\\\\Videos\\\\Cards\\\\Milchcards\\\\src\\\\components\\\\HandCardModal.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Specials } from '../data/gameData';\nimport { drawCardImage, sortHandCards } from '../utils/gameUtils';\nimport { getCardDetails, convertHPToUSD } from '../data/cardDetails';\nimport { withIcons } from '../ui/withIcons';\nimport { makeUid } from '../utils/id';\nimport { getNetApCost } from '../utils/ap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const HandCardModal = ({\n  gameState,\n  selectedHandIndex,\n  isVisible,\n  onClose,\n  onPlayCard\n}) => {\n  _s();\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [waitingForReplacement, setWaitingForReplacement] = useState(null);\n\n  // üîß DEV MODE: Unterst√ºtzung f√ºr beide Player\n  const currentPlayer = gameState.current;\n  const sortedHand = sortHandCards(gameState.hands[currentPlayer]);\n  const currentCard = sortedHand[currentIndex];\n\n  // Safety: Falls die Karte (aus Altbest√§nden) keine uid hat, vergib tempor√§r eine (nur UI-seitig)\n  if (currentCard && !currentCard.uid) {\n    currentCard.uid = makeUid('card_ui');\n  }\n\n  // Update current index when selectedHandIndex changes\n  useEffect(() => {\n    if (selectedHandIndex !== null && isVisible) {\n      const selectedCard = gameState.hands[currentPlayer][selectedHandIndex];\n      const sortedIndex = sortedHand.findIndex(card => card.uid === (selectedCard === null || selectedCard === void 0 ? void 0 : selectedCard.uid));\n      if (sortedIndex !== -1) {\n        setCurrentIndex(sortedIndex);\n      }\n    }\n  }, [selectedHandIndex, isVisible, currentPlayer]); // Removed gameState.hands and sortedHand to prevent infinite loop\n\n  // Get target slot for card - commented out as unused\n  // const getTargetSlot = useCallback((card: Card) => {\n  //   if (card.kind === 'pol') {\n  //     const polCard = card as PoliticianCard;\n  //     const isGovernment = ['Staatsoberhaupt', 'Regierungschef', 'Diplomat', 'Minister', 'Abgeordneter', 'Berater'].includes(polCard.tag);\n  //     return isGovernment ? 'aussen' : 'innen';\n  //   } else {\n  //     const specCard = card as SpecialCard;\n  //     if (specCard.type === '√ñffentlichkeitskarte') {\n  //       return 'innen'; // Public cards go to public row\n  //     }\n  //     if (specCard.type === 'Dauerhaft-Initiative') {\n  //       // Would need to determine government vs public based on card effect\n  //       return 'permanent_government'; // or 'permanent_public'\n  //     }\n  //     if (specCard.type === 'Sofort-Initiative') {\n  //       return 'instant';\n  //     }\n  //     if (specCard.type === 'Intervention') {\n  //       return 'intervention';\n  //     }\n  //   }\n  //   return null;\n  // }, []);\n\n  // Check if target slot is full\n  const isSlotFull = useCallback(slot => {\n    switch (slot) {\n      case 'aussen':\n        return gameState.board[currentPlayer].aussen.length >= 5;\n      case 'innen':\n        return gameState.board[currentPlayer].innen.length >= 5;\n      case 'permanent_government':\n        return gameState.permanentSlots[currentPlayer].government !== null;\n      case 'permanent_public':\n        return gameState.permanentSlots[currentPlayer].public !== null;\n      case 'instant':\n        return gameState.board[currentPlayer].sofort.length > 0;\n      case 'intervention':\n        return gameState.traps[currentPlayer].length >= 6;\n      default:\n        return false;\n    }\n  }, [gameState, currentPlayer]);\n\n  // Helper functions for safe index mapping\n  const findOriginalIndexByUid = useCallback((hand, uid) => {\n    if (!Array.isArray(hand) || !uid) return -1;\n    return hand.findIndex(c => c.uid === uid);\n  }, []);\n  const targetSlotFromCard = useCallback(c => {\n    const any = c;\n    // Heuristik wie in useGameActions: Diplomaten/Regierungschefs au√üen\n    if (c.kind === 'pol' && ['Staatsoberhaupt', 'Regierungschef', 'Diplomat'].includes(any.tag)) return 'aussen';\n    if (c.kind === 'pol') return 'aussen';\n    if (c.kind === 'spec' && any.type === '√ñffentlichkeitskarte') return 'innen';\n    return 'innen';\n  }, []);\n\n  // Handle automatic card placement\n  const handleAutoPlay = useCallback(() => {\n    const card = sortedHand[currentIndex];\n    if (!card) {\n      return;\n    }\n    const hand = gameState.hands[currentPlayer];\n    let originalIndex = findOriginalIndexByUid(hand, card.uid);\n    if (originalIndex < 0) {\n      // Fallbacks: Name-Match ‚Üí erster Treffer ‚Üí sichtbarer Index\n      const byName = hand.findIndex(h => h.name === card.name);\n      originalIndex = byName >= 0 ? byName : currentIndex;\n      console.warn('[Modal] UID not found. Fallback index used:', originalIndex);\n    }\n    const targetSlot = targetSlotFromCard(card);\n    if (isSlotFull(targetSlot)) {\n      console.log('‚ùå DEBUG: Slot is full');\n      setWaitingForReplacement(targetSlot);\n      return;\n    }\n    console.log('üîß DEBUG: Calling onPlayCard with:', originalIndex, targetSlot);\n    onPlayCard(originalIndex, targetSlot);\n    onClose();\n  }, [sortedHand, currentIndex, gameState.hands, currentPlayer, findOriginalIndexByUid, targetSlotFromCard, isSlotFull, onPlayCard, onClose]);\n\n  // Keyboard navigation\n  useEffect(() => {\n    if (!isVisible) return;\n    const handleKeyDown = event => {\n      switch (event.key) {\n        case 'ArrowLeft':\n          event.preventDefault();\n          setCurrentIndex(prev => Math.max(0, prev - 1));\n          break;\n        case 'ArrowRight':\n          event.preventDefault();\n          setCurrentIndex(prev => Math.min(sortedHand.length - 1, prev + 1));\n          break;\n        case 'Escape':\n          event.preventDefault();\n          onClose();\n          break;\n        case 'Enter':\n          event.preventDefault();\n          handleAutoPlay();\n          break;\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [isVisible, sortedHand.length, onClose, setCurrentIndex, handleAutoPlay]);\n\n  // Handle replacement selection (TODO: Implement replacement logic)\n  // const handleReplacementClick = useCallback((targetCard: Card) => {\n  //   if (!waitingForReplacement || !currentCard) return;\n  //   const originalIndex = gameState.hands[currentPlayer].findIndex(c => c.uid === currentCard.uid);\n  //   onPlayCard(originalIndex, waitingForReplacement);\n  //   setWaitingForReplacement(null);\n  //   onClose();\n  // }, [waitingForReplacement, currentCard, gameState.hands, onPlayCard, onClose]);\n\n  if (!isVisible || !currentCard) {\n    return null;\n  }\n  const cardDetails = getCardDetails(currentCard.name);\n  // const hand = gameState.hands[currentPlayer]; // unused\n  // const sel = selectedHandIndex != null ? hand[selectedHandIndex] : null; // unused\n  const laneHint = currentCard.kind === 'pol' ? currentCard.tag === 'Staatsoberhaupt' || currentCard.tag === 'Regierungschef' || currentCard.tag === 'Diplomat' ? 'aussen' : 'innen' : 'innen';\n\n  // Modal/Play-Gate: \"nur Zero-AP m√∂glich\" korrekt behandeln\n  const {\n    net\n  } = getNetApCost(gameState, currentPlayer, currentCard, laneHint);\n  const wouldZero = net <= 0;\n  const actionsUsed = gameState.actionsUsed[currentPlayer];\n  const canPlay = actionsUsed < 2 || wouldZero;\n  const onlyZeroApPossible = actionsUsed >= 2 && wouldZero;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      background: 'rgba(0,0,0,0.8)',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      zIndex: 1500\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: '#0d1621',\n        border: '3px solid #ffffff',\n        borderRadius: '16px',\n        padding: '24px',\n        display: 'flex',\n        gap: '24px',\n        width: 'calc(35vw)',\n        // 50% smaller than deckbuilder\n        height: 'calc(45vh)',\n        overflow: 'hidden',\n        position: 'relative'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: '0 0 512px',\n          // 50% of 1024px\n          height: '512px',\n          background: '#0b1118',\n          border: '2px solid #ffffff',\n          clipPath: 'polygon(50px 0, calc(100% - 50px) 0, 100% 50px, 100% 100%, 0 100%, 0 50px)',\n          overflow: 'hidden',\n          position: 'relative'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentIndex(prev => Math.max(0, prev - 1)),\n          disabled: currentIndex === 0,\n          style: {\n            position: 'absolute',\n            left: '16px',\n            top: '50%',\n            transform: 'translateY(-50%)',\n            background: 'rgba(13, 22, 33, 0.9)',\n            border: '2px solid #1f3042',\n            borderRadius: '50%',\n            width: '48px',\n            height: '48px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            cursor: currentIndex > 0 ? 'pointer' : 'not-allowed',\n            color: '#eaf3ff',\n            fontSize: '20px',\n            fontWeight: 'bold',\n            zIndex: 10,\n            opacity: currentIndex > 0 ? 1 : 0.5\n          },\n          children: \"\\u2039\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentIndex(prev => Math.min(sortedHand.length - 1, prev + 1)),\n          disabled: currentIndex === sortedHand.length - 1,\n          style: {\n            position: 'absolute',\n            right: '16px',\n            top: '50%',\n            transform: 'translateY(-50%)',\n            background: 'rgba(13, 22, 33, 0.9)',\n            border: '2px solid #1f3042',\n            borderRadius: '50%',\n            width: '48px',\n            height: '48px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            cursor: currentIndex < sortedHand.length - 1 ? 'pointer' : 'not-allowed',\n            color: '#eaf3ff',\n            fontSize: '20px',\n            fontWeight: 'bold',\n            zIndex: 10,\n            opacity: currentIndex < sortedHand.length - 1 ? 1 : 0.5\n          },\n          children: \"\\u203A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n          width: 512,\n          height: 512,\n          style: {\n            display: 'block',\n            width: '512px',\n            height: '512px',\n            clipPath: 'polygon(50px 0, calc(100% - 50px) 0, 100% 50px, 100% 100%, 0 100%, 0 50px)'\n          },\n          ref: canvas => {\n            if (canvas && currentCard) {\n              const ctx = canvas.getContext('2d');\n              if (ctx) {\n                drawCardImage(ctx, currentCard, 0, 0, 512, 'modal');\n              }\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: '1',\n          minWidth: '200px',\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '12px',\n          position: 'relative'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'flex-start'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              style: {\n                margin: '0 0 4px 0',\n                fontSize: '20px',\n                fontWeight: 700,\n                color: '#eaf3ff',\n                lineHeight: '1.2'\n              },\n              children: currentCard.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '12px',\n                color: '#6b7280',\n                fontWeight: 500,\n                display: 'flex',\n                gap: '8px',\n                alignItems: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Karte \", currentIndex + 1, \" von \", sortedHand.length]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  background: currentPlayer === 1 ? '#4ade80' : '#ef4444',\n                  color: 'white',\n                  padding: '2px 6px',\n                  borderRadius: '4px',\n                  fontSize: '10px',\n                  fontWeight: 600\n                },\n                children: [\"P\", currentPlayer]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            style: {\n              background: 'none',\n              border: 'none',\n              color: '#8faecc',\n              fontSize: '20px',\n              cursor: 'pointer',\n              padding: '4px',\n              borderRadius: '4px'\n            },\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#111827',\n            border: '1px solid #ffffff',\n            borderRadius: '8px',\n            padding: '12px',\n            fontSize: '12px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#9ca3af',\n              marginBottom: '4px'\n            },\n            children: \"Typ & Kosten\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#e5e7eb'\n            },\n            children: currentCard.kind === 'pol' ? `Regierung/√ñffentlichkeit ‚Ä¢ ${convertHPToUSD(currentCard.BP || 0)}` : `${currentCard.type} ‚Ä¢ ${convertHPToUSD(currentCard.bp)}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this), (cardDetails === null || cardDetails === void 0 ? void 0 : cardDetails.subcategories) && cardDetails.subcategories.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '8px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: '#9ca3af',\n                marginBottom: '4px'\n              },\n              children: \"Schl\\xFCsselw\\xF6rter\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: '#e5e7eb',\n                fontSize: '11px'\n              },\n              children: withIcons(cardDetails.subcategories.join(', '), 12)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#111827',\n            border: '1px solid #ffffff',\n            borderRadius: '8px',\n            padding: '12px',\n            fontSize: '12px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#9ca3af',\n              marginBottom: '8px',\n              fontWeight: '600'\n            },\n            children: \"AP-Kosten\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'space-between',\n              color: '#e5e7eb',\n              marginBottom: '4px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Basis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"1 AP \\u2192 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u22121\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 24\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'space-between',\n              color: '#e5e7eb',\n              marginBottom: '4px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Refunds\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [\"+\", 1 - net]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'space-between',\n              marginTop: '8px',\n              padding: '6px 8px',\n              background: net === 0 ? 'rgba(16, 185, 129, 0.1)' : 'rgba(245, 158, 11, 0.1)',\n              border: `1px solid ${net === 0 ? '#10b981' : '#f59e0b'}`,\n              borderRadius: '4px',\n              fontWeight: '600'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: net === 0 ? '#10b981' : '#f59e0b'\n              },\n              children: \"Netto\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: net === 0 ? '#10b981' : '#f59e0b'\n              },\n              children: [net, \" AP \", net === 0 ? '¬∑ verbraucht keine Aktion' : '']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#111827',\n            border: '1px solid #ffffff',\n            borderRadius: '8px',\n            padding: '12px',\n            flex: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: '0 0 8px 0',\n              fontSize: '14px',\n              fontWeight: 600,\n              color: '#e5e7eb'\n            },\n            children: \"Spieleffekt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0,\n              color: '#d1d5db',\n              lineHeight: '1.4',\n              fontSize: '12px'\n            },\n            children: (cardDetails === null || cardDetails === void 0 ? void 0 : cardDetails.gameEffect) || (currentCard.kind === 'spec' ? (() => {\n              const specCard = currentCard;\n              const baseSpecial = Specials.find(s => s.id === specCard.baseId);\n              return (baseSpecial === null || baseSpecial === void 0 ? void 0 : baseSpecial.effect) || 'Keine Beschreibung verf√ºgbar';\n            })() : 'Politiker-F√§higkeiten basierend auf Tag')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: !canPlay,\n          onClick: () => {\n            console.log('üîß DEBUG: Button clicked!');\n            handleAutoPlay();\n          },\n          style: {\n            background: waitingForReplacement ? 'linear-gradient(45deg, #f59e0b, #f97316)' : canPlay ? 'linear-gradient(45deg, #10b981, #059669)' : 'linear-gradient(45deg, #6b7280, #4b5563)',\n            border: 'none',\n            borderRadius: '8px',\n            padding: '12px 16px',\n            color: 'white',\n            fontSize: '14px',\n            fontWeight: 'bold',\n            cursor: canPlay ? 'pointer' : 'not-allowed',\n            animation: canPlay ? 'pulse 2s infinite' : 'none',\n            boxShadow: canPlay ? '0 4px 16px rgba(16, 185, 129, 0.4)' : 'none'\n          },\n          children: waitingForReplacement ? 'Karte zum Tauschen w√§hlen' : canPlay ? `Spielen (Netto ${net} AP)` : 'Nicht spielbar'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 11\n        }, this), !canPlay && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: 'rgba(239, 68, 68, 0.1)',\n            border: '1px solid #ef4444',\n            borderRadius: '6px',\n            padding: '8px 12px',\n            color: '#f87171',\n            fontSize: '12px',\n            textAlign: 'center'\n          },\n          children: [\"\\u26A0\\uFE0F \", (_gameState$actionPoin => {\n            const currentAP = (_gameState$actionPoin = gameState.actionPoints[currentPlayer]) !== null && _gameState$actionPoin !== void 0 ? _gameState$actionPoin : 0;\n            if (currentAP < net) {\n              return `Zu wenig AP: ben√∂tigt ${net}, vorhanden ${currentAP}`;\n            }\n            if (actionsUsed >= 2 && net > 0) {\n              return 'Nur Netto-0-Z√ºge erlaubt (Aktionslimit erreicht)';\n            }\n            return 'Karte kann nicht gespielt werden';\n          })()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 13\n        }, this), onlyZeroApPossible && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: 'rgba(59, 130, 246, 0.1)',\n            border: '1px solid #3b82f6',\n            borderRadius: '6px',\n            padding: '8px 12px',\n            color: '#60a5fa',\n            fontSize: '12px',\n            textAlign: 'center'\n          },\n          children: \"0-AP-Zug verf\\xFCgbar \\u2013 spiele unbegrenzt viele Karten mit Netto 0 AP!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 13\n        }, this), waitingForReplacement && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '11px',\n            color: '#f59e0b',\n            textAlign: 'center',\n            marginTop: '4px'\n          },\n          children: \"Slot ist voll - klicke auf eine Karte zum Ersetzen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        @keyframes pulse {\n          0%, 100% { transform: scale(1); }\n          50% { transform: scale(1.05); }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 566,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 201,\n    columnNumber: 5\n  }, this);\n};\n_s(HandCardModal, \"EEUDDHbTxPgivFSn4wc/h1XUOd8=\");\n_c = HandCardModal;\nvar _c;\n$RefreshReg$(_c, \"HandCardModal\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","Specials","drawCardImage","sortHandCards","getCardDetails","convertHPToUSD","withIcons","makeUid","getNetApCost","jsxDEV","_jsxDEV","HandCardModal","gameState","selectedHandIndex","isVisible","onClose","onPlayCard","_s","currentIndex","setCurrentIndex","waitingForReplacement","setWaitingForReplacement","currentPlayer","current","sortedHand","hands","currentCard","uid","selectedCard","sortedIndex","findIndex","card","isSlotFull","slot","board","aussen","length","innen","permanentSlots","government","public","sofort","traps","findOriginalIndexByUid","hand","Array","isArray","c","targetSlotFromCard","any","kind","includes","tag","type","handleAutoPlay","originalIndex","byName","h","name","console","warn","targetSlot","log","handleKeyDown","event","key","preventDefault","prev","Math","max","min","window","addEventListener","removeEventListener","cardDetails","laneHint","net","wouldZero","actionsUsed","canPlay","onlyZeroApPossible","style","position","top","left","right","bottom","background","display","alignItems","justifyContent","zIndex","children","border","borderRadius","padding","gap","width","height","overflow","flex","clipPath","onClick","disabled","transform","cursor","color","fontSize","fontWeight","opacity","fileName","_jsxFileName","lineNumber","columnNumber","ref","canvas","ctx","getContext","minWidth","flexDirection","margin","lineHeight","marginBottom","BP","bp","subcategories","marginTop","join","gameEffect","specCard","baseSpecial","find","s","id","baseId","effect","animation","boxShadow","textAlign","_gameState$actionPoin","currentAP","actionPoints","_c","$RefreshReg$"],"sources":["C:/Users/skank/Videos/Cards/Milchcards/src/components/HandCardModal.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { GameState, Card, PoliticianCard, SpecialCard } from '../types/game';\r\nimport { Specials } from '../data/gameData';\r\nimport { drawCardImage, sortHandCards } from '../utils/gameUtils';\r\nimport { getCardDetails, convertHPToUSD } from '../data/cardDetails';\r\nimport { withIcons } from '../ui/withIcons';\r\nimport { makeUid } from '../utils/id';\r\nimport { wouldBeNetZero, getNetApCost } from '../utils/ap';\r\n\r\ninterface HandCardModalProps {\r\n  gameState: GameState;\r\n  selectedHandIndex: number | null;\r\n  isVisible: boolean;\r\n  onClose: () => void;\r\n  onPlayCard: (index: number, targetSlot?: string) => void;\r\n}\r\n\r\nexport const HandCardModal: React.FC<HandCardModalProps> = ({\r\n  gameState,\r\n  selectedHandIndex,\r\n  isVisible,\r\n  onClose,\r\n  onPlayCard\r\n}) => {\r\n  const [currentIndex, setCurrentIndex] = useState<number>(0);\r\n  const [waitingForReplacement, setWaitingForReplacement] = useState<string | null>(null);\r\n\r\n  // üîß DEV MODE: Unterst√ºtzung f√ºr beide Player\r\n  const currentPlayer = gameState.current;\r\n  const sortedHand = sortHandCards(gameState.hands[currentPlayer]);\r\n  const currentCard = sortedHand[currentIndex];\r\n\r\n  // Safety: Falls die Karte (aus Altbest√§nden) keine uid hat, vergib tempor√§r eine (nur UI-seitig)\r\n  if (currentCard && !(currentCard as any).uid) {\r\n    (currentCard as any).uid = makeUid('card_ui');\r\n  }\r\n\r\n  // Update current index when selectedHandIndex changes\r\n  useEffect(() => {\r\n    if (selectedHandIndex !== null && isVisible) {\r\n      const selectedCard = gameState.hands[currentPlayer][selectedHandIndex];\r\n      const sortedIndex = sortedHand.findIndex((card: Card) => card.uid === selectedCard?.uid);\r\n      if (sortedIndex !== -1) {\r\n        setCurrentIndex(sortedIndex);\r\n      }\r\n    }\r\n  }, [selectedHandIndex, isVisible, currentPlayer]); // Removed gameState.hands and sortedHand to prevent infinite loop\r\n\r\n\r\n\r\n  // Get target slot for card - commented out as unused\r\n  // const getTargetSlot = useCallback((card: Card) => {\r\n  //   if (card.kind === 'pol') {\r\n  //     const polCard = card as PoliticianCard;\r\n  //     const isGovernment = ['Staatsoberhaupt', 'Regierungschef', 'Diplomat', 'Minister', 'Abgeordneter', 'Berater'].includes(polCard.tag);\r\n  //     return isGovernment ? 'aussen' : 'innen';\r\n  //   } else {\r\n  //     const specCard = card as SpecialCard;\r\n  //     if (specCard.type === '√ñffentlichkeitskarte') {\r\n  //       return 'innen'; // Public cards go to public row\r\n  //     }\r\n  //     if (specCard.type === 'Dauerhaft-Initiative') {\r\n  //       // Would need to determine government vs public based on card effect\r\n  //       return 'permanent_government'; // or 'permanent_public'\r\n  //     }\r\n  //     if (specCard.type === 'Sofort-Initiative') {\r\n  //       return 'instant';\r\n  //     }\r\n  //     if (specCard.type === 'Intervention') {\r\n  //       return 'intervention';\r\n  //     }\r\n  //   }\r\n  //   return null;\r\n  // }, []);\r\n\r\n  // Check if target slot is full\r\n  const isSlotFull = useCallback((slot: string) => {\r\n    switch (slot) {\r\n      case 'aussen':\r\n        return gameState.board[currentPlayer].aussen.length >= 5;\r\n      case 'innen':\r\n        return gameState.board[currentPlayer].innen.length >= 5;\r\n      case 'permanent_government':\r\n        return gameState.permanentSlots[currentPlayer].government !== null;\r\n      case 'permanent_public':\r\n        return gameState.permanentSlots[currentPlayer].public !== null;\r\n      case 'instant':\r\n        return gameState.board[currentPlayer].sofort.length > 0;\r\n      case 'intervention':\r\n        return gameState.traps[currentPlayer].length >= 6;\r\n      default:\r\n        return false;\r\n    }\r\n  }, [gameState, currentPlayer]);\r\n\r\n  // Helper functions for safe index mapping\r\n  const findOriginalIndexByUid = useCallback((hand: Card[], uid?: string): number => {\r\n    if (!Array.isArray(hand) || !uid) return -1;\r\n    return hand.findIndex(c => (c as any).uid === uid);\r\n  }, []);\r\n\r\n  const targetSlotFromCard = useCallback((c: Card): 'innen' | 'aussen' => {\r\n    const any = c as any;\r\n    // Heuristik wie in useGameActions: Diplomaten/Regierungschefs au√üen\r\n    if (c.kind === 'pol' && ['Staatsoberhaupt','Regierungschef','Diplomat'].includes(any.tag)) return 'aussen';\r\n    if (c.kind === 'pol') return 'aussen';\r\n    if (c.kind === 'spec' && any.type === '√ñffentlichkeitskarte') return 'innen';\r\n    return 'innen';\r\n  }, []);\r\n\r\n  // Handle automatic card placement\r\n  const handleAutoPlay = useCallback(() => {\r\n    const card = sortedHand[currentIndex];\r\n    if (!card) {\r\n      return;\r\n    }\r\n\r\n    const hand = gameState.hands[currentPlayer];\r\n    let originalIndex = findOriginalIndexByUid(hand, (card as any).uid);\r\n    if (originalIndex < 0) {\r\n      // Fallbacks: Name-Match ‚Üí erster Treffer ‚Üí sichtbarer Index\r\n      const byName = hand.findIndex(h => h.name === card.name);\r\n      originalIndex = byName >= 0 ? byName : currentIndex;\r\n      console.warn('[Modal] UID not found. Fallback index used:', originalIndex);\r\n    }\r\n\r\n    const targetSlot = targetSlotFromCard(card);\r\n\r\n\r\n\r\n    if (isSlotFull(targetSlot)) {\r\n      console.log('‚ùå DEBUG: Slot is full');\r\n      setWaitingForReplacement(targetSlot);\r\n      return;\r\n    }\r\n\r\n    console.log('üîß DEBUG: Calling onPlayCard with:', originalIndex, targetSlot);\r\n    onPlayCard(originalIndex, targetSlot);\r\n    onClose();\r\n  }, [sortedHand, currentIndex, gameState.hands, currentPlayer, findOriginalIndexByUid, targetSlotFromCard, isSlotFull, onPlayCard, onClose]);\r\n\r\n  // Keyboard navigation\r\n  useEffect(() => {\r\n    if (!isVisible) return;\r\n\r\n    const handleKeyDown = (event: KeyboardEvent) => {\r\n      switch (event.key) {\r\n        case 'ArrowLeft':\r\n          event.preventDefault();\r\n          setCurrentIndex(prev => Math.max(0, prev - 1));\r\n          break;\r\n        case 'ArrowRight':\r\n          event.preventDefault();\r\n          setCurrentIndex(prev => Math.min(sortedHand.length - 1, prev + 1));\r\n          break;\r\n        case 'Escape':\r\n          event.preventDefault();\r\n          onClose();\r\n          break;\r\n        case 'Enter':\r\n          event.preventDefault();\r\n          handleAutoPlay();\r\n          break;\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  }, [isVisible, sortedHand.length, onClose, setCurrentIndex, handleAutoPlay]);\r\n\r\n  // Handle replacement selection (TODO: Implement replacement logic)\r\n  // const handleReplacementClick = useCallback((targetCard: Card) => {\r\n  //   if (!waitingForReplacement || !currentCard) return;\r\n  //   const originalIndex = gameState.hands[currentPlayer].findIndex(c => c.uid === currentCard.uid);\r\n  //   onPlayCard(originalIndex, waitingForReplacement);\r\n  //   setWaitingForReplacement(null);\r\n  //   onClose();\r\n  // }, [waitingForReplacement, currentCard, gameState.hands, onPlayCard, onClose]);\r\n\r\n  if (!isVisible || !currentCard) {\r\n    return null;\r\n  }\r\n\r\n  const cardDetails = getCardDetails(currentCard.name);\r\n  // const hand = gameState.hands[currentPlayer]; // unused\r\n  // const sel = selectedHandIndex != null ? hand[selectedHandIndex] : null; // unused\r\n  const laneHint = (currentCard.kind === 'pol')\r\n    ? ((currentCard as any).tag === 'Staatsoberhaupt' || (currentCard as any).tag === 'Regierungschef' || (currentCard as any).tag === 'Diplomat' ? 'aussen' : 'innen')\r\n    : 'innen';\r\n\r\n  // Modal/Play-Gate: \"nur Zero-AP m√∂glich\" korrekt behandeln\r\n  const { net } = getNetApCost(gameState, currentPlayer, currentCard, laneHint);\r\n  const wouldZero = net <= 0;\r\n  const actionsUsed = gameState.actionsUsed[currentPlayer];\r\n  const canPlay = actionsUsed < 2 || wouldZero;\r\n  const onlyZeroApPossible = actionsUsed >= 2 && wouldZero;\r\n\r\n\r\n\r\n  return (\r\n    <div style={{\r\n      position: 'fixed',\r\n      top: 0,\r\n      left: 0,\r\n      right: 0,\r\n      bottom: 0,\r\n      background: 'rgba(0,0,0,0.8)',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      zIndex: 1500,\r\n    }}>\r\n      <div style={{\r\n        background: '#0d1621',\r\n        border: '3px solid #ffffff',\r\n        borderRadius: '16px',\r\n        padding: '24px',\r\n        display: 'flex',\r\n        gap: '24px',\r\n        width: 'calc(35vw)', // 50% smaller than deckbuilder\r\n        height: 'calc(45vh)',\r\n        overflow: 'hidden',\r\n        position: 'relative',\r\n      }}>\r\n        {/* Card Image */}\r\n        <div style={{\r\n          flex: '0 0 512px', // 50% of 1024px\r\n          height: '512px',\r\n          background: '#0b1118',\r\n          border: '2px solid #ffffff',\r\n          clipPath: 'polygon(50px 0, calc(100% - 50px) 0, 100% 50px, 100% 100%, 0 100%, 0 50px)',\r\n          overflow: 'hidden',\r\n          position: 'relative',\r\n        }}>\r\n          {/* Navigation Arrows */}\r\n          <button\r\n            onClick={() => setCurrentIndex(prev => Math.max(0, prev - 1))}\r\n            disabled={currentIndex === 0}\r\n            style={{\r\n              position: 'absolute',\r\n              left: '16px',\r\n              top: '50%',\r\n              transform: 'translateY(-50%)',\r\n              background: 'rgba(13, 22, 33, 0.9)',\r\n              border: '2px solid #1f3042',\r\n              borderRadius: '50%',\r\n              width: '48px',\r\n              height: '48px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              cursor: currentIndex > 0 ? 'pointer' : 'not-allowed',\r\n              color: '#eaf3ff',\r\n              fontSize: '20px',\r\n              fontWeight: 'bold',\r\n              zIndex: 10,\r\n              opacity: currentIndex > 0 ? 1 : 0.5,\r\n            }}\r\n          >\r\n            ‚Äπ\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => setCurrentIndex(prev => Math.min(sortedHand.length - 1, prev + 1))}\r\n            disabled={currentIndex === sortedHand.length - 1}\r\n            style={{\r\n              position: 'absolute',\r\n              right: '16px',\r\n              top: '50%',\r\n              transform: 'translateY(-50%)',\r\n              background: 'rgba(13, 22, 33, 0.9)',\r\n              border: '2px solid #1f3042',\r\n              borderRadius: '50%',\r\n              width: '48px',\r\n              height: '48px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              cursor: currentIndex < sortedHand.length - 1 ? 'pointer' : 'not-allowed',\r\n              color: '#eaf3ff',\r\n              fontSize: '20px',\r\n              fontWeight: 'bold',\r\n              zIndex: 10,\r\n              opacity: currentIndex < sortedHand.length - 1 ? 1 : 0.5,\r\n            }}\r\n          >\r\n            ‚Ä∫\r\n          </button>\r\n\r\n          <canvas\r\n            width={512}\r\n            height={512}\r\n            style={{\r\n              display: 'block',\r\n              width: '512px',\r\n              height: '512px',\r\n              clipPath: 'polygon(50px 0, calc(100% - 50px) 0, 100% 50px, 100% 100%, 0 100%, 0 50px)',\r\n            }}\r\n            ref={(canvas) => {\r\n              if (canvas && currentCard) {\r\n                const ctx = canvas.getContext('2d');\r\n                if (ctx) {\r\n                  drawCardImage(ctx, currentCard, 0, 0, 512, 'modal');\r\n                }\r\n              }\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        {/* Card Information */}\r\n        <div style={{\r\n          flex: '1',\r\n          minWidth: '200px',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          gap: '12px',\r\n          position: 'relative',\r\n        }}>\r\n          {/* Header */}\r\n          <div style={{\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'flex-start',\r\n          }}>\r\n            <div>\r\n              <h2 style={{\r\n                margin: '0 0 4px 0',\r\n                fontSize: '20px',\r\n                fontWeight: 700,\r\n                color: '#eaf3ff',\r\n                lineHeight: '1.2',\r\n              }}>\r\n                {currentCard.name}\r\n              </h2>\r\n\r\n              <div style={{\r\n                fontSize: '12px',\r\n                color: '#6b7280',\r\n                fontWeight: 500,\r\n                display: 'flex',\r\n                gap: '8px',\r\n                alignItems: 'center',\r\n              }}>\r\n                <span>Karte {currentIndex + 1} von {sortedHand.length}</span>\r\n                <span style={{\r\n                  background: currentPlayer === 1 ? '#4ade80' : '#ef4444',\r\n                  color: 'white',\r\n                  padding: '2px 6px',\r\n                  borderRadius: '4px',\r\n                  fontSize: '10px',\r\n                  fontWeight: 600,\r\n                }}>\r\n                  P{currentPlayer}\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            <button\r\n              onClick={onClose}\r\n              style={{\r\n                background: 'none',\r\n                border: 'none',\r\n                color: '#8faecc',\r\n                fontSize: '20px',\r\n                cursor: 'pointer',\r\n                padding: '4px',\r\n                borderRadius: '4px',\r\n              }}\r\n            >\r\n              √ó\r\n            </button>\r\n          </div>\r\n\r\n          {/* Card Type and Cost */}\r\n          <div style={{\r\n            background: '#111827',\r\n            border: '1px solid #ffffff',\r\n            borderRadius: '8px',\r\n            padding: '12px',\r\n            fontSize: '12px',\r\n          }}>\r\n            <div style={{ color: '#9ca3af', marginBottom: '4px' }}>Typ & Kosten</div>\r\n            <div style={{ color: '#e5e7eb' }}>\r\n              {currentCard.kind === 'pol'\r\n                ? `Regierung/√ñffentlichkeit ‚Ä¢ ${convertHPToUSD((currentCard as PoliticianCard).BP || 0)}`\r\n                : `${(currentCard as SpecialCard).type} ‚Ä¢ ${convertHPToUSD((currentCard as SpecialCard).bp)}`\r\n              }\r\n            </div>\r\n            {/* Show subcategories for public cards */}\r\n            {cardDetails?.subcategories && cardDetails.subcategories.length > 0 && (\r\n              <div style={{ marginTop: '8px' }}>\r\n                <div style={{ color: '#9ca3af', marginBottom: '4px' }}>Schl√ºsselw√∂rter</div>\r\n                <div style={{ color: '#e5e7eb', fontSize: '11px' }}>\r\n                  {withIcons(cardDetails.subcategories.join(', '), 12)}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* AP Breakdown */}\r\n          <div style={{\r\n            background: '#111827',\r\n            border: '1px solid #ffffff',\r\n            borderRadius: '8px',\r\n            padding: '12px',\r\n            fontSize: '12px',\r\n          }}>\r\n            <div style={{ color: '#9ca3af', marginBottom: '8px', fontWeight: '600' }}>AP-Kosten</div>\r\n            <div style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'space-between',\r\n              color: '#e5e7eb',\r\n              marginBottom: '4px'\r\n            }}>\r\n              <span>Basis</span>\r\n              <span>\r\n                1 AP ‚Üí <strong>‚àí1</strong>\r\n              </span>\r\n            </div>\r\n            <div style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'space-between',\r\n              color: '#e5e7eb',\r\n              marginBottom: '4px'\r\n            }}>\r\n              <span>Refunds</span>\r\n              <span>\r\n                <strong>+{1 - net}</strong>\r\n              </span>\r\n            </div>\r\n            <div style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'space-between',\r\n              marginTop: '8px',\r\n              padding: '6px 8px',\r\n              background: net === 0 ? 'rgba(16, 185, 129, 0.1)' : 'rgba(245, 158, 11, 0.1)',\r\n              border: `1px solid ${net === 0 ? '#10b981' : '#f59e0b'}`,\r\n              borderRadius: '4px',\r\n              fontWeight: '600'\r\n            }}>\r\n              <span style={{ color: net === 0 ? '#10b981' : '#f59e0b' }}>Netto</span>\r\n              <span style={{ color: net === 0 ? '#10b981' : '#f59e0b' }}>\r\n                {net} AP {net === 0 ? '¬∑ verbraucht keine Aktion' : ''}\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Game Effect */}\r\n          <div style={{\r\n            background: '#111827',\r\n            border: '1px solid #ffffff',\r\n            borderRadius: '8px',\r\n            padding: '12px',\r\n            flex: 1,\r\n          }}>\r\n            <h3 style={{\r\n              margin: '0 0 8px 0',\r\n              fontSize: '14px',\r\n              fontWeight: 600,\r\n              color: '#e5e7eb',\r\n            }}>\r\n              Spieleffekt\r\n            </h3>\r\n            <p style={{\r\n              margin: 0,\r\n              color: '#d1d5db',\r\n              lineHeight: '1.4',\r\n              fontSize: '12px',\r\n            }}>\r\n              {cardDetails?.gameEffect || (currentCard.kind === 'spec'\r\n                ? (() => {\r\n                    const specCard = currentCard as SpecialCard;\r\n                    const baseSpecial = Specials.find(s => s.id === specCard.baseId);\r\n                    return baseSpecial?.effect || 'Keine Beschreibung verf√ºgbar';\r\n                  })()\r\n                : 'Politiker-F√§higkeiten basierend auf Tag')}\r\n            </p>\r\n          </div>\r\n\r\n          {/* Auto-Play Button */}\r\n          <button\r\n            disabled={!canPlay}\r\n            onClick={() => {\r\n              console.log('üîß DEBUG: Button clicked!');\r\n              handleAutoPlay();\r\n            }}\r\n            style={{\r\n              background: waitingForReplacement\r\n                ? 'linear-gradient(45deg, #f59e0b, #f97316)'\r\n                : canPlay\r\n                ? 'linear-gradient(45deg, #10b981, #059669)'\r\n                : 'linear-gradient(45deg, #6b7280, #4b5563)',\r\n              border: 'none',\r\n              borderRadius: '8px',\r\n              padding: '12px 16px',\r\n              color: 'white',\r\n              fontSize: '14px',\r\n              fontWeight: 'bold',\r\n              cursor: canPlay ? 'pointer' : 'not-allowed',\r\n              animation: canPlay ? 'pulse 2s infinite' : 'none',\r\n              boxShadow: canPlay ? '0 4px 16px rgba(16, 185, 129, 0.4)' : 'none',\r\n            }}\r\n          >\r\n            {waitingForReplacement\r\n              ? 'Karte zum Tauschen w√§hlen'\r\n              : canPlay\r\n              ? `Spielen (Netto ${net} AP)`\r\n              : 'Nicht spielbar'}\r\n          </button>\r\n\r\n          {/* Guard-Hinweis f√ºr detaillierte Begr√ºndung */}\r\n          {!canPlay && (\r\n            <div style={{\r\n              background: 'rgba(239, 68, 68, 0.1)',\r\n              border: '1px solid #ef4444',\r\n              borderRadius: '6px',\r\n              padding: '8px 12px',\r\n              color: '#f87171',\r\n              fontSize: '12px',\r\n              textAlign: 'center',\r\n            }}>\r\n              ‚ö†Ô∏è {(() => {\r\n                const currentAP = gameState.actionPoints[currentPlayer] ?? 0;\r\n                if (currentAP < net) {\r\n                  return `Zu wenig AP: ben√∂tigt ${net}, vorhanden ${currentAP}`;\r\n                }\r\n                if (actionsUsed >= 2 && net > 0) {\r\n                  return 'Nur Netto-0-Z√ºge erlaubt (Aktionslimit erreicht)';\r\n                }\r\n                return 'Karte kann nicht gespielt werden';\r\n              })()}\r\n            </div>\r\n          )}\r\n\r\n          {/* Info-Hinweis f√ºr 0-AP-Z√ºge */}\r\n          {onlyZeroApPossible && (\r\n            <div style={{\r\n              background: 'rgba(59, 130, 246, 0.1)',\r\n              border: '1px solid #3b82f6',\r\n              borderRadius: '6px',\r\n              padding: '8px 12px',\r\n              color: '#60a5fa',\r\n              fontSize: '12px',\r\n              textAlign: 'center',\r\n            }}>\r\n              0-AP-Zug verf√ºgbar ‚Äì spiele unbegrenzt viele Karten mit Netto 0 AP!\r\n            </div>\r\n          )}\r\n\r\n          {waitingForReplacement && (\r\n            <div style={{\r\n              fontSize: '11px',\r\n              color: '#f59e0b',\r\n              textAlign: 'center',\r\n              marginTop: '4px',\r\n            }}>\r\n              Slot ist voll - klicke auf eine Karte zum Ersetzen\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <style>{`\r\n        @keyframes pulse {\r\n          0%, 100% { transform: scale(1); }\r\n          50% { transform: scale(1.05); }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}