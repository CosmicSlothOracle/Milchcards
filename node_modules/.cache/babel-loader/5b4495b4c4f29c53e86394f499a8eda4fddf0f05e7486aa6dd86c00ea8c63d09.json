{"ast":null,"code":"import React,{useState,useCallback,useMemo,useEffect}from'react';import{Pols,Specials,PRESET_DECKS}from'../data/gameData';import{currentBuilderBudget,currentBuilderCount,drawCardImage}from'../utils/gameUtils';import{getCardDetails,formatWealth,formatSources,convertHPToUSD}from'../data/cardDetails';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const DeckBuilder=_ref=>{let{isOpen,onClose,onApplyDeck,onStartMatch}=_ref;const[deck,setDeck]=useState([]);const[selectedDeckName,setSelectedDeckName]=useState('');const[searchQuery,setSearchQuery]=useState('');const[selectedCard,setSelectedCard]=useState(null);const[showSources,setShowSources]=useState(false);const budget=currentBuilderBudget(deck);const count=currentBuilderCount(deck);const categorizedCards=useMemo(()=>{const categories={government:[],public:[],initiatives:[],interventions:[]};// Government cards\nPols.forEach(p=>categories.government.push({kind:'pol',base:p}));// Public cards\nSpecials.filter(s=>s.type==='Ã–ffentlichkeitskarte').forEach(s=>categories.public.push({kind:'spec',base:s}));// Initiatives (Instant and Ongoing)\nSpecials.filter(s=>s.type==='Sofort-Initiative'||s.type==='Dauerhaft-Initiative').forEach(s=>categories.initiatives.push({kind:'spec',base:s}));// Interventions\nSpecials.filter(s=>s.type==='Intervention').forEach(s=>categories.interventions.push({kind:'spec',base:s}));// Filter by search term\nconst matches=(kind,base)=>{if(!searchQuery)return true;const hay=\"\".concat(base.name,\" \").concat(kind==='pol'?base.tag:base.type).toLowerCase();return hay.includes(searchQuery.toLowerCase());};// Combine all filtered cards for navigation\nconst allFilteredCards=[...categories.government.filter(_ref2=>{let{kind,base}=_ref2;return matches(kind,base);}),...categories.public.filter(_ref3=>{let{kind,base}=_ref3;return matches(kind,base);}),...categories.initiatives.filter(_ref4=>{let{kind,base}=_ref4;return matches(kind,base);}),...categories.interventions.filter(_ref5=>{let{kind,base}=_ref5;return matches(kind,base);})];return{categories:{government:categories.government.filter(_ref6=>{let{kind,base}=_ref6;return matches(kind,base);}),public:categories.public.filter(_ref7=>{let{kind,base}=_ref7;return matches(kind,base);}),initiatives:categories.initiatives.filter(_ref8=>{let{kind,base}=_ref8;return matches(kind,base);}),interventions:categories.interventions.filter(_ref9=>{let{kind,base}=_ref9;return matches(kind,base);})},allFilteredCards};},[searchQuery]);const builderCanAdd=useCallback((base,kind)=>{var _BP;const tier=kind==='spec'?base.tier:base.T;const limit=tier>=3?1:2;const entry=deck.find(e=>e.kind===kind&&e.baseId===base.id);const already=entry?entry.count:0;const cost=kind==='pol'?(_BP=base.BP)!==null&&_BP!==void 0?_BP:0:base.bp;return already<limit&&count<25&&budget+cost<=300;},[deck,budget,count]);const builderAdd=useCallback((base,kind)=>{if(!builderCanAdd(base,kind))return;setDeck(prev=>{const newDeck=[...prev];let entry=newDeck.find(e=>e.kind===kind&&e.baseId===base.id);if(!entry){entry={kind,baseId:base.id,count:0};newDeck.push(entry);}entry.count+=1;return newDeck;});// Clear preset name when manually modifying deck\nsetSelectedDeckName('');},[builderCanAdd]);const builderRemove=useCallback((base,kind)=>{setDeck(prev=>{const newDeck=[...prev];let entry=newDeck.find(e=>e.kind===kind&&e.baseId===base.id);if(!entry)return prev;entry.count-=1;if(entry.count<=0){return newDeck.filter(e=>e!==entry);}return newDeck;});// Clear preset name when manually modifying deck\nsetSelectedDeckName('');},[]);const loadPresetDeck=useCallback(which=>{const preset=PRESET_DECKS[which];if(preset&&preset.length>0){setDeck([...preset]);// Set deck name for display\nconst deckNames={'INITIATIVE_TEST_DECK':'âš¡ Initiative Test Deck (10 Karten)','TEST_DECK_WITH_DRAW_EFFECTS':'ðŸ§ª Test Deck - Draw Effects (11 Karten)','TEST_DECK_5_CARDS':'ðŸ§ª Test Deck (5 Karten)','NEOLIBERAL_TECHNOKRAT':'ðŸ›ï¸ Neoliberaler Technokrat','AUTORITAERER_REALIST':'ðŸ¦… AutoritÃ¤rer Realist','PROGRESSIVER_AKTIVISMUS':'ðŸŒ± Progressiver Aktivismus','POPULISTISCHER_OPPORTUNIST':'ðŸŽ­ Populistischer Opportunist'};setSelectedDeckName(deckNames[which]||'');}},[]);const handleApplyDeck=useCallback(()=>{if(count===25&&budget<=300){onApplyDeck(deck);onClose();}},[deck,count,budget,onApplyDeck,onClose]);const handleCardClick=useCallback((kind,base)=>{setSelectedCard({kind,base});},[]);const handleCloseCardDetail=useCallback(()=>{setSelectedCard(null);setShowSources(false);},[]);const handlePreviousCard=useCallback(()=>{if(!selectedCard||!categorizedCards.allFilteredCards.length)return;const currentIndex=categorizedCards.allFilteredCards.findIndex(card=>card.kind===selectedCard.kind&&card.base.id===selectedCard.base.id);if(currentIndex>0){const prevCard=categorizedCards.allFilteredCards[currentIndex-1];setSelectedCard({kind:prevCard.kind,base:prevCard.base});}},[selectedCard,categorizedCards.allFilteredCards]);const handleNextCard=useCallback(()=>{if(!selectedCard||!categorizedCards.allFilteredCards.length)return;const currentIndex=categorizedCards.allFilteredCards.findIndex(card=>card.kind===selectedCard.kind&&card.base.id===selectedCard.base.id);if(currentIndex<categorizedCards.allFilteredCards.length-1){const nextCard=categorizedCards.allFilteredCards[currentIndex+1];setSelectedCard({kind:nextCard.kind,base:nextCard.base});}},[selectedCard,categorizedCards.allFilteredCards]);// Keyboard navigation\nuseEffect(()=>{const handleKeyDown=event=>{if(!selectedCard)return;switch(event.key){case'ArrowLeft':event.preventDefault();handlePreviousCard();break;case'ArrowRight':event.preventDefault();handleNextCard();break;case'Escape':event.preventDefault();handleCloseCardDetail();break;}};window.addEventListener('keydown',handleKeyDown);return()=>window.removeEventListener('keydown',handleKeyDown);},[selectedCard,handlePreviousCard,handleNextCard,handleCloseCardDetail]);const handleStartMatch=useCallback(()=>{const p1Deck=deck.length?deck:[];// ðŸ§ª TEST DECK: P2 bekommt das gleiche Deck wie P1 fÃ¼r isoliertes Testing\nconst p2Deck=deck.length?[...deck]:[];// Same deck as P1\nconsole.log('ðŸ”§ DEBUG: Starting match with decks:',{p1Cards:p1Deck.length,p2Cards:p2Deck.length});onStartMatch(p1Deck,p2Deck);onClose();},[deck,onStartMatch,onClose]);// Card Tile Component\nconst CardTile=/*#__PURE__*/React.memo(_ref0=>{let{kind,base,onClick}=_ref0;return/*#__PURE__*/_jsxs(\"div\",{onClick:onClick,style:{background:'#0f1822',border:'1px solid #26394c',borderRadius:'8px',padding:'4px',display:'flex',flexDirection:'column',gap:'4px',cursor:'pointer',transition:'all 0.2s ease',width:'132px',height:'180px'},onMouseEnter:e=>{e.currentTarget.style.background='#1a2a3a';e.currentTarget.style.borderColor='#3a4c5d';},onMouseLeave:e=>{e.currentTarget.style.background='#0f1822';e.currentTarget.style.borderColor='#26394c';},children:[/*#__PURE__*/_jsx(\"canvas\",{width:120,height:120,style:{display:'block',width:'120px',height:'120px',borderRadius:'6px',background:'#0b1118',border:'1px solid #1e2c3b'},ref:canvas=>{if(canvas){const ctx=canvas.getContext('2d');if(ctx){const mockCard={kind,baseId:base.id,name:base.name,uid:base.id,id:base.id,key:base.key};drawCardImage(ctx,mockCard,0,0,120,'ui');}}}}),/*#__PURE__*/_jsx(\"h4\",{style:{margin:0,fontSize:'10px',fontWeight:600,color:'#dbe9f8',textAlign:'center',lineHeight:'1.2',overflow:'hidden',textOverflow:'ellipsis',display:'-webkit-box',WebkitLineClamp:2,WebkitBoxOrient:'vertical',height:'24px'},children:base.name}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'center',gap:'6px',marginTop:'auto'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'9px',color:'#a9c1da',fontWeight:500},children:kind==='pol'?\"\".concat(convertHPToUSD(base.BP||0)):\"\".concat(convertHPToUSD(base.bp))}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();builderAdd(base,kind);},disabled:!builderCanAdd(base,kind),style:{background:'#90EE90',color:'#2d572d',border:'none',borderRadius:'4px',padding:'2px 6px',fontSize:'10px',fontWeight:'bold',cursor:'pointer',opacity:builderCanAdd(base,kind)?1:0.5,minWidth:'24px',height:'20px',display:'flex',alignItems:'center',justifyContent:'center'},children:\"+\"})]})]});});if(!isOpen)return null;const HP_LIMIT=108;// Regelwerk: 108 HP Budget fÃ¼r 25 Karten\nconst overBudget=budget>HP_LIMIT;const overCount=count>25;const isValid=!overBudget&&!overCount;return/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',inset:0,display:'flex',background:'rgba(4,8,12,.8)',backdropFilter:'blur(2px)',zIndex:40},children:[/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',inset:'12px',background:'#0d1621',border:'1px solid #1f3042',borderRadius:'12px',padding:'12px',display:'flex',flexDirection:'column',gap:'10px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:600,fontSize:'14px',letterSpacing:'.4px'},children:[\"Deckbuilder\",selectedDeckName?\" - \".concat(selectedDeckName):'']}),/*#__PURE__*/_jsxs(\"span\",{style:{padding:'4px 8px',borderRadius:'8px',background:'#0f1a26',border:'1px solid #203043',fontSize:'12px'},children:[\"Budget: \",convertHPToUSD(budget),\" / \",convertHPToUSD(HP_LIMIT)]}),/*#__PURE__*/_jsxs(\"span\",{style:{padding:'4px 8px',borderRadius:'8px',background:'#0f1a26',border:'1px solid #203043',fontSize:'12px'},children:[\"Karten: \",count,\" / 25\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Suche (Name, Tag)\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),style:{flex:'0 0 220px',outline:'none',padding:'4px 8px',borderRadius:'8px',background:'#0f1a26',border:'1px solid #203043',fontSize:'12px',color:'#e8f0f8'}}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>loadPresetDeck('INITIATIVE_TEST_DECK'),style:{background:'#4338ca',color:'#ffffff',border:'1px solid #6366f1',borderRadius:'8px',padding:'6px 10px',fontSize:'11px',cursor:'pointer',whiteSpace:'nowrap',fontWeight:'bold'},children:\"\\u26A1 Initiative Test (10 Karten)\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>loadPresetDeck('TEST_DECK_WITH_DRAW_EFFECTS'),style:{background:'#ff6b35',color:'#ffffff',border:'1px solid #ff8c61',borderRadius:'8px',padding:'6px 10px',fontSize:'11px',cursor:'pointer',whiteSpace:'nowrap',fontWeight:'bold'},children:\"\\uD83E\\uDDEA Draw Effects (11 Karten)\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>loadPresetDeck('TEST_DECK_5_CARDS'),style:{background:'#df6530',color:'#ffffff',border:'1px solid #e5844c',borderRadius:'8px',padding:'6px 10px',fontSize:'11px',cursor:'pointer',whiteSpace:'nowrap',fontWeight:'bold'},children:\"\\uD83E\\uDDEA Test (5 Karten)\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>loadPresetDeck('NEOLIBERAL_TECHNOKRAT'),style:{background:'#162436',color:'#eaf3ff',border:'1px solid #27425b',borderRadius:'8px',padding:'6px 10px',fontSize:'11px',cursor:'pointer',whiteSpace:'nowrap'},children:\"\\uD83C\\uDFDB\\uFE0F Neoliberaler Technokrat\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>loadPresetDeck('AUTORITAERER_REALIST'),style:{background:'#162436',color:'#eaf3ff',border:'1px solid #27425b',borderRadius:'8px',padding:'6px 10px',fontSize:'11px',cursor:'pointer',whiteSpace:'nowrap'},children:\"\\uD83E\\uDD85 Autorit\\xE4rer Realist\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>loadPresetDeck('PROGRESSIVER_AKTIVISMUS'),style:{background:'#162436',color:'#eaf3ff',border:'1px solid #27425b',borderRadius:'8px',padding:'6px 10px',fontSize:'11px',cursor:'pointer',whiteSpace:'nowrap'},children:\"\\uD83C\\uDF31 Progressiver Aktivismus\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>loadPresetDeck('POPULISTISCHER_OPPORTUNIST'),style:{background:'#162436',color:'#eaf3ff',border:'1px solid #27425b',borderRadius:'8px',padding:'6px 10px',fontSize:'11px',cursor:'pointer',whiteSpace:'nowrap'},children:\"\\uD83C\\uDFAD Populistischer Opportunist\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,style:{background:'#162436',color:'#eaf3ff',border:'1px solid #27425b',borderRadius:'8px',padding:'6px 10px',fontSize:'12px',cursor:'pointer'},children:\"Schlie\\xDFen\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 360px',gap:'12px',minHeight:0,flex:1},children:[/*#__PURE__*/_jsxs(\"div\",{style:{overflow:'auto',border:'1px solid #1f2c3a',borderRadius:'10px',padding:'8px',background:'#0a121b',display:'grid',gridTemplateColumns:'repeat(4, 1fr)',gap:'12px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'8px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(173, 216, 230, 0.2)',border:'1px solid #4a90e2',borderRadius:'8px',padding:'8px',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:0,fontSize:'14px',fontWeight:700,color:'#add8e6',marginBottom:'4px'},children:\"Government\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,fontSize:'11px',color:'#8bb5d9',lineHeight:'1.3'},children:\"Politicians and state leaders who influence the government. Max 5 in the government hierarchy.\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fill, minmax(132px, 1fr))',gap:'8px',flex:1,justifyContent:'start',alignContent:'start'},children:categorizedCards.categories.government.map(_ref1=>{let{kind,base}=_ref1;return/*#__PURE__*/_jsx(CardTile,{kind:kind,base:base,onClick:()=>handleCardClick(kind,base)},\"\".concat(kind,\"-\").concat(base.id));})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'8px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(245, 245, 220, 0.2)',border:'1px solid #d2b48c',borderRadius:'8px',padding:'8px',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:0,fontSize:'14px',fontWeight:700,color:'#f5f5dc',marginBottom:'4px'},children:\"Public\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,fontSize:'11px',color:'#d2b48c',lineHeight:'1.3'},children:\"People from media, business, and academia who support your actions.\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fill, minmax(132px, 1fr))',gap:'8px',flex:1,justifyContent:'start',alignContent:'start'},children:categorizedCards.categories.public.map(_ref10=>{let{kind,base}=_ref10;return/*#__PURE__*/_jsx(CardTile,{kind:kind,base:base,onClick:()=>handleCardClick(kind,base)},\"\".concat(kind,\"-\").concat(base.id));})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'8px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(64, 224, 208, 0.2)',border:'1px solid #40e0d0',borderRadius:'8px',padding:'8px',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:0,fontSize:'14px',fontWeight:700,color:'#40e0d0',marginBottom:'4px'},children:\"Initiatives\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,fontSize:'11px',color:'#40e0d0',lineHeight:'1.3'},children:\"One-time (Instant) and ongoing political actions for special effects.\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fill, minmax(132px, 1fr))',gap:'8px',flex:1,justifyContent:'start',alignContent:'start'},children:categorizedCards.categories.initiatives.map(_ref11=>{let{kind,base}=_ref11;return/*#__PURE__*/_jsx(CardTile,{kind:kind,base:base,onClick:()=>handleCardClick(kind,base)},\"\".concat(kind,\"-\").concat(base.id));})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'8px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(200, 160, 255, 0.2)',border:'1px solid #c8a0ff',borderRadius:'8px',padding:'8px',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:0,fontSize:'14px',fontWeight:700,color:'#c8a0ff',marginBottom:'4px'},children:\"Interventions\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,fontSize:'11px',color:'#c8a0ff',lineHeight:'1.3'},children:\"Concealed trap cards that trigger automatically and disrupt enemy strategies.\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fill, minmax(132px, 1fr))',gap:'8px',flex:1,justifyContent:'start',alignContent:'start'},children:categorizedCards.categories.interventions.map(_ref12=>{let{kind,base}=_ref12;return/*#__PURE__*/_jsx(CardTile,{kind:kind,base:base,onClick:()=>handleCardClick(kind,base)},\"\".concat(kind,\"-\").concat(base.id));})})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{overflow:'auto',border:'1px solid #1f2c3a',borderRadius:'10px',padding:'8px',background:'#0a121b',display:'flex',flexDirection:'column',gap:'10px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:'6px',alignItems:'center',fontSize:'12px',color:'#cfe0f2'},children:/*#__PURE__*/_jsx(\"div\",{style:{padding:'4px 8px',borderRadius:'8px',background:'#0f1a26',border:'1px solid #203043',fontSize:'12px',color:isValid?'#4ade80':'#ef4444'},children:isValid?'Deck OK':\"Deck invalid\".concat(overBudget?' Â· Budget':'').concat(overCount?' Â· Cards':'')})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1,overflow:'auto'},children:deck.map(entry=>{const base=entry.kind==='pol'?Pols.find(p=>p.id===entry.baseId):Specials.find(s=>s.id===entry.baseId);if(!base)return null;return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'6px 8px',borderBottom:'1px solid #182433',fontSize:'12px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[entry.count,\"\\xD7 \",base.name]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(\"div\",{children:convertHPToUSD(entry.kind==='pol'?base.BP||0:base.bp)}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'4px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();builderRemove(base,entry.kind);},style:{background:'#dc2626',border:'none',borderRadius:'4px',color:'white',width:'20px',height:'20px',fontSize:'12px',cursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center'},title:\"Remove one\",children:\"\\u2212\"}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();builderAdd(base,entry.kind);},disabled:!builderCanAdd(base,entry.kind),style:{background:builderCanAdd(base,entry.kind)?'#059669':'#6b7280',border:'none',borderRadius:'4px',color:'white',width:'20px',height:'20px',fontSize:'12px',cursor:builderCanAdd(base,entry.kind)?'pointer':'not-allowed',display:'flex',alignItems:'center',justifyContent:'center'},title:\"Add one\",children:\"+\"})]})]})]},\"\".concat(entry.kind,\"-\").concat(entry.baseId));})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleApplyDeck,disabled:!isValid,style:{background:'#162436',color:'#eaf3ff',border:'1px solid #27425b',borderRadius:'8px',padding:'6px 10px',fontSize:'12px',cursor:'pointer',opacity:isValid?1:0.6},children:\"Use as P1 Deck\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleStartMatch,style:{background:'#162436',color:'#eaf3ff',border:'1px solid #27425b',borderRadius:'8px',padding:'6px 10px',fontSize:'12px',cursor:'pointer'},children:\"Start Match\"})]})]})]})]}),selectedCard&&(()=>{const cardDetails=getCardDetails(selectedCard.base.name);return/*#__PURE__*/_jsxs(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,background:'rgba(0,0,0,0.8)',display:'flex',alignItems:'center',justifyContent:'flex-start',paddingLeft:'20px',zIndex:50},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'#0d1621',border:'3px solid #ffffff',borderRadius:'16px',padding:'24px',display:'flex',gap:'24px',width:'calc(70vw)',height:'calc(90vh)',overflow:'hidden',position:'relative'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:'0 0 1024px',height:'1024px',background:'#0b1118',border:'2px solid #ffffff',borderRadius:'12px',overflow:'hidden',position:'relative'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handlePreviousCard,style:{position:'absolute',left:'16px',top:'50%',transform:'translateY(-50%)',background:'rgba(13, 22, 33, 0.9)',border:'2px solid #1f3042',borderRadius:'50%',width:'48px',height:'48px',display:'flex',alignItems:'center',justifyContent:'center',cursor:'pointer',color:'#eaf3ff',fontSize:'20px',fontWeight:'bold',zIndex:10,transition:'all 0.2s ease'},onMouseEnter:e=>{e.currentTarget.style.background='rgba(22, 36, 54, 0.95)';e.currentTarget.style.borderColor='#27425b';},onMouseLeave:e=>{e.currentTarget.style.background='rgba(13, 22, 33, 0.9)';e.currentTarget.style.borderColor='#1f3042';},children:\"\\u2039\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNextCard,style:{position:'absolute',right:'16px',top:'50%',transform:'translateY(-50%)',background:'rgba(13, 22, 33, 0.9)',border:'2px solid #1f3042',borderRadius:'50%',width:'48px',height:'48px',display:'flex',alignItems:'center',justifyContent:'center',cursor:'pointer',color:'#eaf3ff',fontSize:'20px',fontWeight:'bold',zIndex:10,transition:'all 0.2s ease'},onMouseEnter:e=>{e.currentTarget.style.background='rgba(22, 36, 54, 0.95)';e.currentTarget.style.borderColor='#27425b';},onMouseLeave:e=>{e.currentTarget.style.background='rgba(13, 22, 33, 0.9)';e.currentTarget.style.borderColor='#1f3042';},children:\"\\u203A\"}),/*#__PURE__*/_jsx(\"canvas\",{width:1024,height:1024,style:{display:'block',width:'1024px',height:'1024px'},ref:canvas=>{if(canvas){const ctx=canvas.getContext('2d');if(ctx){// Create a mock card object for drawing\nconst mockCard={kind:selectedCard.kind,baseId:selectedCard.base.id,name:selectedCard.base.name,uid:selectedCard.base.id,id:selectedCard.base.id,key:selectedCard.base.key};drawCardImage(ctx,mockCard,0,0,1024,'modal');}}}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:'1',minWidth:'400px',display:'flex',flexDirection:'column',gap:'20px',position:'relative'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'flex-start'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"h2\",{style:{margin:'0 0 8px 0',fontSize:'28px',fontWeight:700,color:'#eaf3ff',lineHeight:'1.2'},children:selectedCard.base.name}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'16px',fontWeight:600,color:'#dbe9f8',marginBottom:'4px'},children:(cardDetails===null||cardDetails===void 0?void 0:cardDetails.category)||(selectedCard.kind==='pol'?'Government':'Public')}),(cardDetails===null||cardDetails===void 0?void 0:cardDetails.subcategories)&&cardDetails.subcategories.length>0&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',color:'#a9c1da',marginBottom:'4px'},children:cardDetails.subcategories.join(', ')}),(cardDetails===null||cardDetails===void 0?void 0:cardDetails.highestPosition)&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',color:'#8faecc',marginBottom:'8px'},children:cardDetails.highestPosition}),selectedCard.kind==='spec'&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'14px',color:'#8faecc',marginBottom:'4px'},children:[(cardDetails===null||cardDetails===void 0?void 0:cardDetails.cardType)||(selectedCard.kind==='spec'?selectedCard.base.type:''),(cardDetails===null||cardDetails===void 0?void 0:cardDetails.tier)&&\" \\u2022 \".concat(cardDetails.tier),(cardDetails===null||cardDetails===void 0?void 0:cardDetails.speed)&&\" \\u2022 \".concat(cardDetails.speed),(cardDetails===null||cardDetails===void 0?void 0:cardDetails.slot)&&\" \\u2022 Slot: \".concat(cardDetails.slot)]}),selectedCard.kind==='pol'&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',flexWrap:'wrap',marginTop:'4px',marginBottom:'4px',color:'#a9c1da',fontSize:'14px'},children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Influence: \",selectedCard.base.influence]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Tier: \",selectedCard.base.T]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Keyword: \",selectedCard.base.tag]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#6b7280',fontWeight:500},children:[\"Card \",categorizedCards.allFilteredCards.findIndex(card=>card.kind===selectedCard.kind&&card.base.id===selectedCard.base.id)+1,\" of \",categorizedCards.allFilteredCards.length]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'flex-end',gap:'8px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'#1f2937',border:'1px solid #374151',borderRadius:'8px',padding:'8px 12px',fontSize:'14px',color:'#e5e7eb'},children:[\"Cost: \",convertHPToUSD((cardDetails===null||cardDetails===void 0?void 0:cardDetails.deckCost)||(selectedCard.kind==='pol'?selectedCard.base.BP||0:selectedCard.base.bp))]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCloseCardDetail,style:{background:'none',border:'none',color:'#8faecc',fontSize:'24px',cursor:'pointer',padding:'4px',borderRadius:'4px'},onMouseEnter:e=>{e.currentTarget.style.background='#1a2a3a';},onMouseLeave:e=>{e.currentTarget.style.background='none';},children:\"\\xD7\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'#111827',border:'1px solid #ffffff',borderRadius:'12px',padding:'20px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 12px 0',fontSize:'16px',fontWeight:600,color:'#e5e7eb'},children:\"Game Effect\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,color:'#d1d5db',lineHeight:'1.5',fontSize:'15px'},children:(cardDetails===null||cardDetails===void 0?void 0:cardDetails.gameEffect)||(selectedCard.kind==='spec'?selectedCard.base.effect:'Passive Politician abilities based on Tag')})]}),(cardDetails===null||cardDetails===void 0?void 0:cardDetails.synergy)&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'#111827',border:'1px solid #ffffff',borderRadius:'12px',padding:'20px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 12px 0',fontSize:'16px',fontWeight:600,color:'#e5e7eb'},children:\"Synergy\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,color:'#d1d5db',lineHeight:'1.5',fontSize:'15px'},children:cardDetails.synergy})]}),(cardDetails===null||cardDetails===void 0?void 0:cardDetails.trigger)&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'#111827',border:'1px solid #ffffff',borderRadius:'12px',padding:'20px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 12px 0',fontSize:'16px',fontWeight:600,color:'#e5e7eb'},children:\"Trigger\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,color:'#d1d5db',lineHeight:'1.5',fontSize:'15px'},children:cardDetails.trigger})]}),((cardDetails===null||cardDetails===void 0?void 0:cardDetails.usage)||(cardDetails===null||cardDetails===void 0?void 0:cardDetails.example))&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'#111827',border:'1px solid #ffffff',borderRadius:'12px',padding:'20px'},children:[cardDetails.usage&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#9ca3af',marginBottom:'4px'},children:\"When to play?\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#d1d5db',fontSize:'15px',lineHeight:'1.5'},children:cardDetails.usage})]}),cardDetails.example&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#9ca3af',marginBottom:'4px'},children:\"Example\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#d1d5db',fontSize:'15px',lineHeight:'1.5'},children:cardDetails.example})]})]}),cardDetails&&(cardDetails.nationality||cardDetails.birthDate||cardDetails.estimatedWealth||cardDetails.controversialQuote)&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'#111827',border:'1px solid #ffffff',borderRadius:'12px',padding:'20px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 16px 0',fontSize:'16px',fontWeight:600,color:'#e5e7eb'},children:\"Personal Information\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'12px'},children:[cardDetails.nationality&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#9ca3af',marginBottom:'4px'},children:\"Nationality\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#e5e7eb',fontWeight:500},children:cardDetails.nationality})]}),cardDetails.birthDate&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#9ca3af',marginBottom:'4px'},children:\"Birth Date\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#e5e7eb',fontWeight:500},children:cardDetails.birthDate})]})]}),cardDetails.estimatedWealth&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#9ca3af',marginBottom:'4px'},children:\"Estimated Wealth\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#e5e7eb',fontWeight:500},children:formatWealth(cardDetails.estimatedWealth)})]}),cardDetails.controversialQuote&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'16px',background:'#1f2937',border:'1px solid #ffffff',borderRadius:'8px',padding:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#9ca3af',marginBottom:'6px'},children:\"Quote\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#d1d5db',fontStyle:'italic',lineHeight:'1.4',fontSize:'14px'},children:cardDetails.controversialQuote})]}),(cardDetails===null||cardDetails===void 0?void 0:cardDetails.sources)&&cardDetails.sources.length>0&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'16px'},children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSources(!showSources),style:{background:'none',border:'none',color:'#9ca3af',fontSize:'12px',cursor:'pointer',textDecoration:'underline',padding:0},children:\"Show Sources\"})})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'12px',marginTop:'auto'},children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{builderAdd(selectedCard.base,selectedCard.kind);handleCloseCardDetail();},disabled:!builderCanAdd(selectedCard.base,selectedCard.kind),style:{flex:1,background:builderCanAdd(selectedCard.base,selectedCard.kind)?'#374151':'#1f2937',color:'#e5e7eb',border:'1px solid #4b5563',borderRadius:'8px',padding:'12px',fontSize:'14px',fontWeight:600,cursor:builderCanAdd(selectedCard.base,selectedCard.kind)?'pointer':'not-allowed',opacity:builderCanAdd(selectedCard.base,selectedCard.kind)?1:0.6},children:\"Add to Deck\"})})]})]}),showSources&&(cardDetails===null||cardDetails===void 0?void 0:cardDetails.sources)&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'fixed',top:'calc(50% + 5px)',left:'calc(50% + 5px)',transform:'translate(-50%, -50%)',background:'#0d1621',border:'2px solid #ffffff',borderRadius:'12px',padding:'20px',minWidth:'400px',maxWidth:'600px',boxShadow:'0 20px 60px rgba(0, 0, 0, 0.8)',zIndex:60},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'16px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:0,fontSize:'16px',fontWeight:600,color:'#e5e7eb'},children:\"Sources & Calculation Basis\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSources(false),style:{background:'none',border:'none',color:'#9ca3af',fontSize:'20px',cursor:'pointer',padding:'4px'},children:\"\\xD7\"})]}),cardDetails.calculation&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'16px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#9ca3af',marginBottom:'6px'},children:\"Calculation:\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#d1d5db',fontSize:'13px',lineHeight:'1.4',background:'#1f2937',padding:'10px',borderRadius:'6px'},children:cardDetails.calculation})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#9ca3af',marginBottom:'6px'},children:\"Sources:\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#d1d5db',fontSize:'13px',lineHeight:'1.4'},children:formatSources(cardDetails.sources)})]})]});})()]});};","map":{"version":3,"names":["React","useState","useCallback","useMemo","useEffect","Pols","Specials","PRESET_DECKS","currentBuilderBudget","currentBuilderCount","drawCardImage","getCardDetails","formatWealth","formatSources","convertHPToUSD","jsx","_jsx","jsxs","_jsxs","DeckBuilder","_ref","isOpen","onClose","onApplyDeck","onStartMatch","deck","setDeck","selectedDeckName","setSelectedDeckName","searchQuery","setSearchQuery","selectedCard","setSelectedCard","showSources","setShowSources","budget","count","categorizedCards","categories","government","public","initiatives","interventions","forEach","p","push","kind","base","filter","s","type","matches","hay","concat","name","tag","toLowerCase","includes","allFilteredCards","_ref2","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","builderCanAdd","_BP","tier","T","limit","entry","find","e","baseId","id","already","cost","BP","bp","builderAdd","prev","newDeck","builderRemove","loadPresetDeck","which","preset","length","deckNames","handleApplyDeck","handleCardClick","handleCloseCardDetail","handlePreviousCard","currentIndex","findIndex","card","prevCard","handleNextCard","nextCard","handleKeyDown","event","key","preventDefault","window","addEventListener","removeEventListener","handleStartMatch","p1Deck","p2Deck","console","log","p1Cards","p2Cards","CardTile","memo","_ref0","onClick","style","background","border","borderRadius","padding","display","flexDirection","gap","cursor","transition","width","height","onMouseEnter","currentTarget","borderColor","onMouseLeave","children","ref","canvas","ctx","getContext","mockCard","uid","margin","fontSize","fontWeight","color","textAlign","lineHeight","overflow","textOverflow","WebkitLineClamp","WebkitBoxOrient","alignItems","justifyContent","marginTop","stopPropagation","disabled","opacity","minWidth","HP_LIMIT","overBudget","overCount","isValid","position","inset","backdropFilter","zIndex","letterSpacing","placeholder","value","onChange","target","flex","outline","whiteSpace","gridTemplateColumns","minHeight","marginBottom","alignContent","map","_ref1","_ref10","_ref11","_ref12","flexWrap","borderBottom","title","cardDetails","top","left","right","bottom","paddingLeft","transform","category","subcategories","join","highestPosition","cardType","speed","slot","influence","deckCost","gameEffect","effect","synergy","trigger","usage","example","nationality","birthDate","estimatedWealth","controversialQuote","fontStyle","sources","textDecoration","maxWidth","boxShadow","calculation"],"sources":["C:/Users/skank/Videos/Cards/Milchcards/src/components/DeckBuilder.tsx"],"sourcesContent":["import React, { useState, useCallback, useMemo, useEffect } from 'react';\r\nimport { BuilderEntry, BasePolitician, BaseSpecial } from '../types/game';\r\nimport { Pols, Specials, PRESET_DECKS } from '../data/gameData';\r\nimport { currentBuilderBudget, currentBuilderCount, drawCardImage } from '../utils/gameUtils';\r\nimport { getCardDetails, formatWealth, formatSources, convertHPToUSD } from '../data/cardDetails';\r\n\r\ninterface DeckBuilderProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onApplyDeck: (deck: BuilderEntry[]) => void;\r\n  onStartMatch: (p1Deck: BuilderEntry[], p2Deck: BuilderEntry[]) => void;\r\n  images?: never;\r\n}\r\n\r\nexport const DeckBuilder: React.FC<DeckBuilderProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  onApplyDeck,\r\n  onStartMatch\r\n}) => {\r\n  const [deck, setDeck] = useState<BuilderEntry[]>([]);\r\n  const [selectedDeckName, setSelectedDeckName] = useState<string>('');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n\r\n\r\n  const [selectedCard, setSelectedCard] = useState<{ kind: 'pol' | 'spec'; base: BasePolitician | BaseSpecial } | null>(null);\r\n  const [showSources, setShowSources] = useState(false);\r\n\r\n  const budget = currentBuilderBudget(deck);\r\n  const count = currentBuilderCount(deck);\r\n\r\n  const categorizedCards = useMemo(() => {\r\n    const categories = {\r\n      government: [] as Array<{ kind: 'pol' | 'spec'; base: BasePolitician | BaseSpecial }>,\r\n      public: [] as Array<{ kind: 'pol' | 'spec'; base: BasePolitician | BaseSpecial }>,\r\n      initiatives: [] as Array<{ kind: 'pol' | 'spec'; base: BasePolitician | BaseSpecial }>,\r\n      interventions: [] as Array<{ kind: 'pol' | 'spec'; base: BasePolitician | BaseSpecial }>\r\n    };\r\n\r\n    // Government cards\r\n    Pols.forEach((p: BasePolitician) => categories.government.push({ kind: 'pol', base: p }));\r\n\r\n    // Public cards\r\n    Specials.filter((s: BaseSpecial) => s.type === 'Ã–ffentlichkeitskarte')\r\n      .forEach((s: BaseSpecial) => categories.public.push({ kind: 'spec', base: s }));\r\n\r\n    // Initiatives (Instant and Ongoing)\r\n    Specials.filter((s: BaseSpecial) => s.type === 'Sofort-Initiative' || s.type === 'Dauerhaft-Initiative')\r\n      .forEach((s: BaseSpecial) => categories.initiatives.push({ kind: 'spec', base: s }));\r\n\r\n    // Interventions\r\n    Specials.filter((s: BaseSpecial) => s.type === 'Intervention')\r\n      .forEach((s: BaseSpecial) => categories.interventions.push({ kind: 'spec', base: s }));\r\n\r\n    // Filter by search term\r\n    const matches = (kind: 'pol' | 'spec', base: BasePolitician | BaseSpecial) => {\r\n      if (!searchQuery) return true;\r\n      const hay = `${base.name} ${kind === 'pol' ? (base as BasePolitician).tag : (base as BaseSpecial).type}`.toLowerCase();\r\n      return hay.includes(searchQuery.toLowerCase());\r\n    };\r\n\r\n    // Combine all filtered cards for navigation\r\n    const allFilteredCards = [\r\n      ...categories.government.filter(({ kind, base }) => matches(kind, base)),\r\n      ...categories.public.filter(({ kind, base }) => matches(kind, base)),\r\n      ...categories.initiatives.filter(({ kind, base }) => matches(kind, base)),\r\n      ...categories.interventions.filter(({ kind, base }) => matches(kind, base))\r\n    ];\r\n\r\n    return {\r\n      categories: {\r\n        government: categories.government.filter(({ kind, base }) => matches(kind, base)),\r\n        public: categories.public.filter(({ kind, base }) => matches(kind, base)),\r\n        initiatives: categories.initiatives.filter(({ kind, base }) => matches(kind, base)),\r\n        interventions: categories.interventions.filter(({ kind, base }) => matches(kind, base))\r\n      },\r\n      allFilteredCards\r\n    };\r\n  }, [searchQuery]);\r\n\r\n\r\n\r\n  const builderCanAdd = useCallback((base: BasePolitician | BaseSpecial, kind: 'pol' | 'spec'): boolean => {\r\n    const tier = kind === 'spec' ? (base as BaseSpecial).tier : (base as BasePolitician).T;\r\n    const limit = tier >= 3 ? 1 : 2;\r\n    const entry = deck.find(e => e.kind === kind && e.baseId === base.id);\r\n    const already = entry ? entry.count : 0;\r\n    const cost = kind === 'pol' ? ((base as BasePolitician).BP ?? 0) : (base as BaseSpecial).bp;\r\n\r\n    return already < limit && count < 25 && (budget + cost) <= 300;\r\n  }, [deck, budget, count]);\r\n\r\n  const builderAdd = useCallback((base: BasePolitician | BaseSpecial, kind: 'pol' | 'spec') => {\r\n    if (!builderCanAdd(base, kind)) return;\r\n\r\n    setDeck(prev => {\r\n      const newDeck = [...prev];\r\n      let entry = newDeck.find(e => e.kind === kind && e.baseId === base.id);\r\n      if (!entry) {\r\n        entry = { kind, baseId: base.id, count: 0 };\r\n        newDeck.push(entry);\r\n      }\r\n      entry.count += 1;\r\n      return newDeck;\r\n    });\r\n    // Clear preset name when manually modifying deck\r\n    setSelectedDeckName('');\r\n  }, [builderCanAdd]);\r\n\r\n  const builderRemove = useCallback((base: BasePolitician | BaseSpecial, kind: 'pol' | 'spec') => {\r\n    setDeck(prev => {\r\n      const newDeck = [...prev];\r\n      let entry = newDeck.find(e => e.kind === kind && e.baseId === base.id);\r\n      if (!entry) return prev;\r\n\r\n      entry.count -= 1;\r\n      if (entry.count <= 0) {\r\n        return newDeck.filter(e => e !== entry);\r\n      }\r\n      return newDeck;\r\n    });\r\n    // Clear preset name when manually modifying deck\r\n    setSelectedDeckName('');\r\n  }, []);\r\n\r\n  const loadPresetDeck = useCallback((which: keyof typeof PRESET_DECKS) => {\r\n    const preset = PRESET_DECKS[which] as BuilderEntry[];\r\n    if (preset && preset.length > 0) {\r\n      setDeck([...preset]);\r\n      // Set deck name for display\r\n      const deckNames = {\r\n        'INITIATIVE_TEST_DECK': 'âš¡ Initiative Test Deck (10 Karten)',\r\n        'TEST_DECK_WITH_DRAW_EFFECTS': 'ðŸ§ª Test Deck - Draw Effects (11 Karten)',\r\n        'TEST_DECK_5_CARDS': 'ðŸ§ª Test Deck (5 Karten)',\r\n        'NEOLIBERAL_TECHNOKRAT': 'ðŸ›ï¸ Neoliberaler Technokrat',\r\n        'AUTORITAERER_REALIST': 'ðŸ¦… AutoritÃ¤rer Realist',\r\n        'PROGRESSIVER_AKTIVISMUS': 'ðŸŒ± Progressiver Aktivismus',\r\n        'POPULISTISCHER_OPPORTUNIST': 'ðŸŽ­ Populistischer Opportunist'\r\n      };\r\n      setSelectedDeckName(deckNames[which] || '');\r\n    }\r\n  }, []);\r\n\r\n\r\n\r\n  const handleApplyDeck = useCallback(() => {\r\n    if (count === 25 && budget <= 300) {\r\n      onApplyDeck(deck);\r\n      onClose();\r\n    }\r\n  }, [deck, count, budget, onApplyDeck, onClose]);\r\n\r\n  const handleCardClick = useCallback((kind: 'pol' | 'spec', base: BasePolitician | BaseSpecial) => {\r\n    setSelectedCard({ kind, base });\r\n  }, []);\r\n\r\n  const handleCloseCardDetail = useCallback(() => {\r\n    setSelectedCard(null);\r\n    setShowSources(false);\r\n  }, []);\r\n\r\n  const handlePreviousCard = useCallback(() => {\r\n    if (!selectedCard || !categorizedCards.allFilteredCards.length) return;\r\n\r\n    const currentIndex = categorizedCards.allFilteredCards.findIndex(\r\n      card => card.kind === selectedCard.kind && card.base.id === selectedCard.base.id\r\n    );\r\n\r\n    if (currentIndex > 0) {\r\n      const prevCard = categorizedCards.allFilteredCards[currentIndex - 1];\r\n      setSelectedCard({ kind: prevCard.kind, base: prevCard.base });\r\n    }\r\n  }, [selectedCard, categorizedCards.allFilteredCards]);\r\n\r\n  const handleNextCard = useCallback(() => {\r\n    if (!selectedCard || !categorizedCards.allFilteredCards.length) return;\r\n\r\n    const currentIndex = categorizedCards.allFilteredCards.findIndex(\r\n      card => card.kind === selectedCard.kind && card.base.id === selectedCard.base.id\r\n    );\r\n\r\n    if (currentIndex < categorizedCards.allFilteredCards.length - 1) {\r\n      const nextCard = categorizedCards.allFilteredCards[currentIndex + 1];\r\n      setSelectedCard({ kind: nextCard.kind, base: nextCard.base });\r\n    }\r\n  }, [selectedCard, categorizedCards.allFilteredCards]);\r\n\r\n  // Keyboard navigation\r\n  useEffect(() => {\r\n    const handleKeyDown = (event: KeyboardEvent) => {\r\n      if (!selectedCard) return;\r\n\r\n      switch (event.key) {\r\n        case 'ArrowLeft':\r\n          event.preventDefault();\r\n          handlePreviousCard();\r\n          break;\r\n        case 'ArrowRight':\r\n          event.preventDefault();\r\n          handleNextCard();\r\n          break;\r\n        case 'Escape':\r\n          event.preventDefault();\r\n          handleCloseCardDetail();\r\n          break;\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  }, [selectedCard, handlePreviousCard, handleNextCard, handleCloseCardDetail]);\r\n\r\n  const handleStartMatch = useCallback(() => {\r\n    const p1Deck: BuilderEntry[] = deck.length ? deck : [];\r\n    // ðŸ§ª TEST DECK: P2 bekommt das gleiche Deck wie P1 fÃ¼r isoliertes Testing\r\n    const p2Deck: BuilderEntry[] = deck.length ? [...deck] : []; // Same deck as P1\r\n\r\n    console.log('ðŸ”§ DEBUG: Starting match with decks:', { p1Cards: p1Deck.length, p2Cards: p2Deck.length });\r\n    onStartMatch(p1Deck, p2Deck);\r\n    onClose();\r\n  }, [deck, onStartMatch, onClose]);\r\n\r\n  // Card Tile Component\r\n  const CardTile = React.memo(({ kind, base, onClick }: {\r\n    kind: 'pol' | 'spec';\r\n    base: BasePolitician | BaseSpecial;\r\n    onClick: () => void;\r\n  }) => (\r\n    <div\r\n      onClick={onClick}\r\n      style={{\r\n        background: '#0f1822',\r\n        border: '1px solid #26394c',\r\n        borderRadius: '8px',\r\n        padding: '4px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '4px',\r\n        cursor: 'pointer',\r\n        transition: 'all 0.2s ease',\r\n        width: '132px',\r\n        height: '180px',\r\n      }}\r\n      onMouseEnter={(e) => {\r\n        e.currentTarget.style.background = '#1a2a3a';\r\n        e.currentTarget.style.borderColor = '#3a4c5d';\r\n      }}\r\n      onMouseLeave={(e) => {\r\n        e.currentTarget.style.background = '#0f1822';\r\n        e.currentTarget.style.borderColor = '#26394c';\r\n      }}\r\n    >\r\n      <canvas\r\n        width={120}\r\n        height={120}\r\n        style={{\r\n          display: 'block',\r\n          width: '120px',\r\n          height: '120px',\r\n          borderRadius: '6px',\r\n          background: '#0b1118',\r\n          border: '1px solid #1e2c3b',\r\n        }}\r\n        ref={(canvas) => {\r\n          if (canvas) {\r\n            const ctx = canvas.getContext('2d');\r\n            if (ctx) {\r\n              const mockCard = {\r\n                kind,\r\n                baseId: base.id,\r\n                name: base.name,\r\n                uid: base.id,\r\n                id: base.id,\r\n                key: base.key,\r\n              } as any;\r\n              drawCardImage(ctx, mockCard, 0, 0, 120, 'ui');\r\n            }\r\n          }\r\n        }}\r\n      />\r\n      <h4 style={{\r\n        margin: 0,\r\n        fontSize: '10px',\r\n        fontWeight: 600,\r\n        color: '#dbe9f8',\r\n        textAlign: 'center',\r\n        lineHeight: '1.2',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n        display: '-webkit-box',\r\n        WebkitLineClamp: 2,\r\n        WebkitBoxOrient: 'vertical',\r\n        height: '24px',\r\n      }}>\r\n        {base.name}\r\n      </h4>\r\n      <div style={{\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        gap: '6px',\r\n        marginTop: 'auto',\r\n      }}>\r\n        <span style={{\r\n          fontSize: '9px',\r\n          color: '#a9c1da',\r\n          fontWeight: 500,\r\n        }}>\r\n          {kind === 'pol'\r\n            ? `${convertHPToUSD((base as BasePolitician).BP || 0)}`\r\n            : `${convertHPToUSD((base as BaseSpecial).bp)}`\r\n          }\r\n        </span>\r\n        <button\r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n            builderAdd(base, kind);\r\n          }}\r\n          disabled={!builderCanAdd(base, kind)}\r\n          style={{\r\n            background: '#90EE90',\r\n            color: '#2d572d',\r\n            border: 'none',\r\n            borderRadius: '4px',\r\n            padding: '2px 6px',\r\n            fontSize: '10px',\r\n            fontWeight: 'bold',\r\n            cursor: 'pointer',\r\n            opacity: builderCanAdd(base, kind) ? 1 : 0.5,\r\n            minWidth: '24px',\r\n            height: '20px',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n          }}\r\n        >\r\n          +\r\n        </button>\r\n      </div>\r\n    </div>\r\n  ));\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const HP_LIMIT = 108; // Regelwerk: 108 HP Budget fÃ¼r 25 Karten\r\n  const overBudget = budget > HP_LIMIT;\r\n  const overCount = count > 25;\r\n  const isValid = !overBudget && !overCount;\r\n\r\n  return (\r\n    <div style={{\r\n      position: 'absolute',\r\n      inset: 0,\r\n      display: 'flex',\r\n      background: 'rgba(4,8,12,.8)',\r\n      backdropFilter: 'blur(2px)',\r\n      zIndex: 40,\r\n    }}>\r\n      <div style={{\r\n        position: 'absolute',\r\n        inset: '12px',\r\n        background: '#0d1621',\r\n        border: '1px solid #1f3042',\r\n        borderRadius: '12px',\r\n        padding: '12px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '10px',\r\n      }}>\r\n        {/* Header */}\r\n        <div style={{\r\n          display: 'flex',\r\n          gap: '10px',\r\n          alignItems: 'center',\r\n        }}>\r\n          <div style={{ fontWeight: 600, fontSize: '14px', letterSpacing: '.4px' }}>\r\n            Deckbuilder{selectedDeckName ? ` - ${selectedDeckName}` : ''}\r\n          </div>\r\n          <span style={{\r\n            padding: '4px 8px',\r\n            borderRadius: '8px',\r\n            background: '#0f1a26',\r\n            border: '1px solid #203043',\r\n            fontSize: '12px',\r\n          }}>\r\n            Budget: {convertHPToUSD(budget)} / {convertHPToUSD(HP_LIMIT)}\r\n          </span>\r\n          <span style={{\r\n            padding: '4px 8px',\r\n            borderRadius: '8px',\r\n            background: '#0f1a26',\r\n            border: '1px solid #203043',\r\n            fontSize: '12px',\r\n          }}>\r\n            Karten: {count} / 25\r\n          </span>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Suche (Name, Tag)\"\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n            style={{\r\n              flex: '0 0 220px',\r\n              outline: 'none',\r\n              padding: '4px 8px',\r\n              borderRadius: '8px',\r\n              background: '#0f1a26',\r\n              border: '1px solid #203043',\r\n              fontSize: '12px',\r\n              color: '#e8f0f8',\r\n            }}\r\n          />\r\n          <div style={{ flex: 1 }}></div>\r\n          <button\r\n            onClick={() => loadPresetDeck('INITIATIVE_TEST_DECK')}\r\n            style={{\r\n              background: '#4338ca',\r\n              color: '#ffffff',\r\n              border: '1px solid #6366f1',\r\n              borderRadius: '8px',\r\n              padding: '6px 10px',\r\n              fontSize: '11px',\r\n              cursor: 'pointer',\r\n              whiteSpace: 'nowrap',\r\n              fontWeight: 'bold',\r\n            }}\r\n          >\r\n            âš¡ Initiative Test (10 Karten)\r\n          </button>\r\n          <button\r\n            onClick={() => loadPresetDeck('TEST_DECK_WITH_DRAW_EFFECTS')}\r\n            style={{\r\n              background: '#ff6b35',\r\n              color: '#ffffff',\r\n              border: '1px solid #ff8c61',\r\n              borderRadius: '8px',\r\n              padding: '6px 10px',\r\n              fontSize: '11px',\r\n              cursor: 'pointer',\r\n              whiteSpace: 'nowrap',\r\n              fontWeight: 'bold',\r\n            }}\r\n          >\r\n            ðŸ§ª Draw Effects (11 Karten)\r\n          </button>\r\n          <button\r\n            onClick={() => loadPresetDeck('TEST_DECK_5_CARDS')}\r\n            style={{\r\n              background: '#df6530',\r\n              color: '#ffffff',\r\n              border: '1px solid #e5844c',\r\n              borderRadius: '8px',\r\n              padding: '6px 10px',\r\n              fontSize: '11px',\r\n              cursor: 'pointer',\r\n              whiteSpace: 'nowrap',\r\n              fontWeight: 'bold',\r\n            }}\r\n          >\r\n            ðŸ§ª Test (5 Karten)\r\n          </button>\r\n          <button\r\n            onClick={() => loadPresetDeck('NEOLIBERAL_TECHNOKRAT')}\r\n            style={{\r\n              background: '#162436',\r\n              color: '#eaf3ff',\r\n              border: '1px solid #27425b',\r\n              borderRadius: '8px',\r\n              padding: '6px 10px',\r\n              fontSize: '11px',\r\n              cursor: 'pointer',\r\n              whiteSpace: 'nowrap',\r\n            }}\r\n          >\r\n            ðŸ›ï¸ Neoliberaler Technokrat\r\n          </button>\r\n          <button\r\n            onClick={() => loadPresetDeck('AUTORITAERER_REALIST')}\r\n            style={{\r\n              background: '#162436',\r\n              color: '#eaf3ff',\r\n              border: '1px solid #27425b',\r\n              borderRadius: '8px',\r\n              padding: '6px 10px',\r\n              fontSize: '11px',\r\n              cursor: 'pointer',\r\n              whiteSpace: 'nowrap',\r\n            }}\r\n          >\r\n            ðŸ¦… AutoritÃ¤rer Realist\r\n          </button>\r\n          <button\r\n            onClick={() => loadPresetDeck('PROGRESSIVER_AKTIVISMUS')}\r\n            style={{\r\n              background: '#162436',\r\n              color: '#eaf3ff',\r\n              border: '1px solid #27425b',\r\n              borderRadius: '8px',\r\n              padding: '6px 10px',\r\n              fontSize: '11px',\r\n              cursor: 'pointer',\r\n              whiteSpace: 'nowrap',\r\n            }}\r\n          >\r\n            ðŸŒ± Progressiver Aktivismus\r\n          </button>\r\n          <button\r\n            onClick={() => loadPresetDeck('POPULISTISCHER_OPPORTUNIST')}\r\n            style={{\r\n              background: '#162436',\r\n              color: '#eaf3ff',\r\n              border: '1px solid #27425b',\r\n              borderRadius: '8px',\r\n              padding: '6px 10px',\r\n              fontSize: '11px',\r\n              cursor: 'pointer',\r\n              whiteSpace: 'nowrap',\r\n            }}\r\n          >\r\n            ðŸŽ­ Populistischer Opportunist\r\n          </button>\r\n          <button\r\n            onClick={onClose}\r\n            style={{\r\n              background: '#162436',\r\n              color: '#eaf3ff',\r\n              border: '1px solid #27425b',\r\n              borderRadius: '8px',\r\n              padding: '6px 10px',\r\n              fontSize: '12px',\r\n              cursor: 'pointer',\r\n            }}\r\n          >\r\n            SchlieÃŸen\r\n          </button>\r\n        </div>\r\n\r\n        {/* Body */}\r\n        <div style={{\r\n          display: 'grid',\r\n          gridTemplateColumns: '1fr 360px',\r\n          gap: '12px',\r\n          minHeight: 0,\r\n          flex: 1,\r\n        }}>\r\n          {/* Categorized Card Columns */}\r\n          <div style={{\r\n            overflow: 'auto',\r\n            border: '1px solid #1f2c3a',\r\n            borderRadius: '10px',\r\n            padding: '8px',\r\n            background: '#0a121b',\r\n            display: 'grid',\r\n            gridTemplateColumns: 'repeat(4, 1fr)',\r\n            gap: '12px',\r\n          }}>\r\n            {/* Government Column */}\r\n            <div style={{\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              gap: '8px',\r\n            }}>\r\n              <div style={{\r\n                background: 'rgba(173, 216, 230, 0.2)',\r\n                border: '1px solid #4a90e2',\r\n                borderRadius: '8px',\r\n                padding: '8px',\r\n                textAlign: 'center',\r\n              }}>\r\n                <h3 style={{\r\n                  margin: 0,\r\n                  fontSize: '14px',\r\n                  fontWeight: 700,\r\n                  color: '#add8e6',\r\n                  marginBottom: '4px',\r\n                }}>\r\n                  Government\r\n                </h3>\r\n                <p style={{\r\n                  margin: 0,\r\n                  fontSize: '11px',\r\n                  color: '#8bb5d9',\r\n                  lineHeight: '1.3',\r\n                }}>\r\n                  Politicians and state leaders who influence the government. Max 5 in the government hierarchy.\r\n                </p>\r\n              </div>\r\n              <div style={{\r\n                display: 'grid',\r\n                gridTemplateColumns: 'repeat(auto-fill, minmax(132px, 1fr))',\r\n                gap: '8px',\r\n                flex: 1,\r\n                justifyContent: 'start',\r\n                alignContent: 'start',\r\n              }}>\r\n                {categorizedCards.categories.government.map(({ kind, base }) => (\r\n                  <CardTile key={`${kind}-${base.id}`} kind={kind} base={base} onClick={() => handleCardClick(kind, base)} />\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Public Column */}\r\n            <div style={{\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              gap: '8px',\r\n            }}>\r\n              <div style={{\r\n                background: 'rgba(245, 245, 220, 0.2)',\r\n                border: '1px solid #d2b48c',\r\n                borderRadius: '8px',\r\n                padding: '8px',\r\n                textAlign: 'center',\r\n              }}>\r\n                <h3 style={{\r\n                  margin: 0,\r\n                  fontSize: '14px',\r\n                  fontWeight: 700,\r\n                  color: '#f5f5dc',\r\n                  marginBottom: '4px',\r\n                }}>\r\n                  Public\r\n                </h3>\r\n                <p style={{\r\n                  margin: 0,\r\n                  fontSize: '11px',\r\n                  color: '#d2b48c',\r\n                  lineHeight: '1.3',\r\n                }}>\r\n                  People from media, business, and academia who support your actions.\r\n                </p>\r\n              </div>\r\n              <div style={{\r\n                display: 'grid',\r\n                gridTemplateColumns: 'repeat(auto-fill, minmax(132px, 1fr))',\r\n                gap: '8px',\r\n                flex: 1,\r\n                justifyContent: 'start',\r\n                alignContent: 'start',\r\n              }}>\r\n                {categorizedCards.categories.public.map(({ kind, base }) => (\r\n                  <CardTile key={`${kind}-${base.id}`} kind={kind} base={base} onClick={() => handleCardClick(kind, base)} />\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Initiatives Column */}\r\n            <div style={{\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              gap: '8px',\r\n            }}>\r\n              <div style={{\r\n                background: 'rgba(64, 224, 208, 0.2)',\r\n                border: '1px solid #40e0d0',\r\n                borderRadius: '8px',\r\n                padding: '8px',\r\n                textAlign: 'center',\r\n              }}>\r\n                <h3 style={{\r\n                  margin: 0,\r\n                  fontSize: '14px',\r\n                  fontWeight: 700,\r\n                  color: '#40e0d0',\r\n                  marginBottom: '4px',\r\n                }}>\r\n                  Initiatives\r\n                </h3>\r\n                <p style={{\r\n                  margin: 0,\r\n                  fontSize: '11px',\r\n                  color: '#40e0d0',\r\n                  lineHeight: '1.3',\r\n                }}>\r\n                  One-time (Instant) and ongoing political actions for special effects.\r\n                </p>\r\n              </div>\r\n              <div style={{\r\n                display: 'grid',\r\n                gridTemplateColumns: 'repeat(auto-fill, minmax(132px, 1fr))',\r\n                gap: '8px',\r\n                flex: 1,\r\n                justifyContent: 'start',\r\n                alignContent: 'start',\r\n              }}>\r\n                {categorizedCards.categories.initiatives.map(({ kind, base }) => (\r\n                  <CardTile key={`${kind}-${base.id}`} kind={kind} base={base} onClick={() => handleCardClick(kind, base)} />\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Interventions Column */}\r\n            <div style={{\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              gap: '8px',\r\n            }}>\r\n              <div style={{\r\n                background: 'rgba(200, 160, 255, 0.2)',\r\n                border: '1px solid #c8a0ff',\r\n                borderRadius: '8px',\r\n                padding: '8px',\r\n                textAlign: 'center',\r\n              }}>\r\n                <h3 style={{\r\n                  margin: 0,\r\n                  fontSize: '14px',\r\n                  fontWeight: 700,\r\n                  color: '#c8a0ff',\r\n                  marginBottom: '4px',\r\n                }}>\r\n                  Interventions\r\n                </h3>\r\n                <p style={{\r\n                  margin: 0,\r\n                  fontSize: '11px',\r\n                  color: '#c8a0ff',\r\n                  lineHeight: '1.3',\r\n                }}>\r\n                  Concealed trap cards that trigger automatically and disrupt enemy strategies.\r\n                </p>\r\n              </div>\r\n              <div style={{\r\n                display: 'grid',\r\n                gridTemplateColumns: 'repeat(auto-fill, minmax(132px, 1fr))',\r\n                gap: '8px',\r\n                flex: 1,\r\n                justifyContent: 'start',\r\n                alignContent: 'start',\r\n              }}>\r\n                {categorizedCards.categories.interventions.map(({ kind, base }) => (\r\n                  <CardTile key={`${kind}-${base.id}`} kind={kind} base={base} onClick={() => handleCardClick(kind, base)} />\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Sidebar */}\r\n          <div style={{\r\n            overflow: 'auto',\r\n            border: '1px solid #1f2c3a',\r\n            borderRadius: '10px',\r\n            padding: '8px',\r\n            background: '#0a121b',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            gap: '10px',\r\n          }}>\r\n            {/* Stats */}\r\n            <div style={{\r\n              display: 'flex',\r\n              flexWrap: 'wrap',\r\n              gap: '6px',\r\n              alignItems: 'center',\r\n              fontSize: '12px',\r\n              color: '#cfe0f2',\r\n            }}>\r\n              <div style={{\r\n                padding: '4px 8px',\r\n                borderRadius: '8px',\r\n                background: '#0f1a26',\r\n                border: '1px solid #203043',\r\n                fontSize: '12px',\r\n                color: isValid ? '#4ade80' : '#ef4444',\r\n              }}>\r\n                {isValid ? 'Deck OK' : `Deck invalid${overBudget ? ' Â· Budget' : ''}${overCount ? ' Â· Cards' : ''}`}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Deck List */}\r\n            <div style={{ flex: 1, overflow: 'auto' }}>\r\n              {deck.map(entry => {\r\n                const base = entry.kind === 'pol'\r\n                  ? Pols.find((p: BasePolitician) => p.id === entry.baseId)\r\n                  : Specials.find((s: BaseSpecial) => s.id === entry.baseId);\r\n                if (!base) return null;\r\n\r\n                return (\r\n                  <div key={`${entry.kind}-${entry.baseId}`} style={{\r\n                    display: 'flex',\r\n                    justifyContent: 'space-between',\r\n                    alignItems: 'center',\r\n                    padding: '6px 8px',\r\n                    borderBottom: '1px solid #182433',\r\n                    fontSize: '12px',\r\n                  }}>\r\n                    <div style={{ flex: 1 }}>{entry.count}Ã— {base.name}</div>\r\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n                      <div>{convertHPToUSD(entry.kind === 'pol' ? (base as BasePolitician).BP || 0 : (base as BaseSpecial).bp)}</div>\r\n                      <div style={{ display: 'flex', gap: '4px' }}>\r\n                        <button\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            builderRemove(base, entry.kind);\r\n                          }}\r\n                          style={{\r\n                            background: '#dc2626',\r\n                            border: 'none',\r\n                            borderRadius: '4px',\r\n                            color: 'white',\r\n                            width: '20px',\r\n                            height: '20px',\r\n                            fontSize: '12px',\r\n                            cursor: 'pointer',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                          }}\r\n                          title=\"Remove one\"\r\n                        >\r\n                          âˆ’\r\n                        </button>\r\n                        <button\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            builderAdd(base, entry.kind);\r\n                          }}\r\n                          disabled={!builderCanAdd(base, entry.kind)}\r\n                          style={{\r\n                            background: builderCanAdd(base, entry.kind) ? '#059669' : '#6b7280',\r\n                            border: 'none',\r\n                            borderRadius: '4px',\r\n                            color: 'white',\r\n                            width: '20px',\r\n                            height: '20px',\r\n                            fontSize: '12px',\r\n                            cursor: builderCanAdd(base, entry.kind) ? 'pointer' : 'not-allowed',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                          }}\r\n                          title=\"Add one\"\r\n                        >\r\n                          +\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n\r\n            {/* Actions */}\r\n            <div style={{\r\n              display: 'flex',\r\n              gap: '8px',\r\n              flexWrap: 'wrap',\r\n            }}>\r\n              <button\r\n                onClick={handleApplyDeck}\r\n                disabled={!isValid}\r\n                style={{\r\n                  background: '#162436',\r\n                  color: '#eaf3ff',\r\n                  border: '1px solid #27425b',\r\n                  borderRadius: '8px',\r\n                  padding: '6px 10px',\r\n                  fontSize: '12px',\r\n                  cursor: 'pointer',\r\n                  opacity: isValid ? 1 : 0.6,\r\n                }}\r\n              >\r\n                Use as P1 Deck\r\n              </button>\r\n              <button\r\n                onClick={handleStartMatch}\r\n                style={{\r\n                  background: '#162436',\r\n                  color: '#eaf3ff',\r\n                  border: '1px solid #27425b',\r\n                  borderRadius: '8px',\r\n                  padding: '6px 10px',\r\n                  fontSize: '12px',\r\n                  cursor: 'pointer',\r\n                }}\r\n              >\r\n                Start Match\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Card Detail Modal */}\r\n      {selectedCard && (() => {\r\n        const cardDetails = getCardDetails(selectedCard.base.name);\r\n        return (\r\n        <div style={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          background: 'rgba(0,0,0,0.8)',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'flex-start',\r\n          paddingLeft: '20px',\r\n          zIndex: 50,\r\n        }}>\r\n          <div style={{\r\n            background: '#0d1621',\r\n            border: '3px solid #ffffff',\r\n            borderRadius: '16px',\r\n            padding: '24px',\r\n            display: 'flex',\r\n              gap: '24px',\r\n              width: 'calc(70vw)',\r\n              height: 'calc(90vh)',\r\n            overflow: 'hidden',\r\n              position: 'relative',\r\n          }}>\r\n              {/* Card Image - Full 1024x1024 size with custom corners */}\r\n            <div style={{\r\n              flex: '0 0 1024px',\r\n              height: '1024px',\r\n              background: '#0b1118',\r\n              border: '2px solid #ffffff',\r\n              borderRadius: '12px',\r\n              overflow: 'hidden',\r\n              position: 'relative',\r\n            }}>\r\n              {/* Navigation Arrows */}\r\n              <button\r\n                onClick={handlePreviousCard}\r\n                style={{\r\n                  position: 'absolute',\r\n                  left: '16px',\r\n                  top: '50%',\r\n                  transform: 'translateY(-50%)',\r\n                  background: 'rgba(13, 22, 33, 0.9)',\r\n                  border: '2px solid #1f3042',\r\n                  borderRadius: '50%',\r\n                  width: '48px',\r\n                  height: '48px',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  cursor: 'pointer',\r\n                  color: '#eaf3ff',\r\n                  fontSize: '20px',\r\n                  fontWeight: 'bold',\r\n                  zIndex: 10,\r\n                  transition: 'all 0.2s ease',\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  e.currentTarget.style.background = 'rgba(22, 36, 54, 0.95)';\r\n                  e.currentTarget.style.borderColor = '#27425b';\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.currentTarget.style.background = 'rgba(13, 22, 33, 0.9)';\r\n                  e.currentTarget.style.borderColor = '#1f3042';\r\n                }}\r\n              >\r\n                â€¹\r\n              </button>\r\n\r\n              <button\r\n                onClick={handleNextCard}\r\n                style={{\r\n                  position: 'absolute',\r\n                  right: '16px',\r\n                  top: '50%',\r\n                  transform: 'translateY(-50%)',\r\n                  background: 'rgba(13, 22, 33, 0.9)',\r\n                  border: '2px solid #1f3042',\r\n                  borderRadius: '50%',\r\n                  width: '48px',\r\n                  height: '48px',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  cursor: 'pointer',\r\n                  color: '#eaf3ff',\r\n                  fontSize: '20px',\r\n                  fontWeight: 'bold',\r\n                  zIndex: 10,\r\n                  transition: 'all 0.2s ease',\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  e.currentTarget.style.background = 'rgba(22, 36, 54, 0.95)';\r\n                  e.currentTarget.style.borderColor = '#27425b';\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.currentTarget.style.background = 'rgba(13, 22, 33, 0.9)';\r\n                  e.currentTarget.style.borderColor = '#1f3042';\r\n                }}\r\n              >\r\n                â€º\r\n              </button>\r\n\r\n              <canvas\r\n                width={1024}\r\n                height={1024}\r\n                style={{\r\n                  display: 'block',\r\n                    width: '1024px',\r\n                    height: '1024px',\r\n                }}\r\n                ref={(canvas) => {\r\n                  if (canvas) {\r\n                    const ctx = canvas.getContext('2d');\r\n                    if (ctx) {\r\n                      // Create a mock card object for drawing\r\n                      const mockCard = {\r\n                        kind: selectedCard.kind,\r\n                        baseId: selectedCard.base.id,\r\n                        name: selectedCard.base.name,\r\n                        uid: selectedCard.base.id,\r\n                        id: selectedCard.base.id,\r\n                        key: selectedCard.base.key,\r\n                      } as any;\r\n                      drawCardImage(ctx, mockCard, 0, 0, 1024, 'modal');\r\n                    }\r\n                  }\r\n                }}\r\n              />\r\n            </div>\r\n\r\n              {/* Card Information Panel */}\r\n            <div style={{\r\n              flex: '1',\r\n                minWidth: '400px',\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n                gap: '20px',\r\n                position: 'relative',\r\n            }}>\r\n                {/* Header with Cost in Top Right */}\r\n              <div style={{\r\n                display: 'flex',\r\n                justifyContent: 'space-between',\r\n                alignItems: 'flex-start',\r\n              }}>\r\n                  <div style={{ flex: 1 }}>\r\n                  <h2 style={{\r\n                      margin: '0 0 8px 0',\r\n                      fontSize: '28px',\r\n                    fontWeight: 700,\r\n                    color: '#eaf3ff',\r\n                      lineHeight: '1.2',\r\n                  }}>\r\n                    {selectedCard.base.name}\r\n                  </h2>\r\n\r\n                    {/* Category */}\r\n                  <div style={{\r\n                      fontSize: '16px',\r\n                      fontWeight: 600,\r\n                      color: '#dbe9f8',\r\n                      marginBottom: '4px',\r\n                    }}>\r\n                      {cardDetails?.category || (selectedCard.kind === 'pol' ? 'Government' : 'Public')}\r\n                    </div>\r\n\r\n                    {/* Subcategories */}\r\n                    {cardDetails?.subcategories && cardDetails.subcategories.length > 0 && (\r\n                      <div style={{\r\n                        fontSize: '14px',\r\n                        color: '#a9c1da',\r\n                        marginBottom: '4px',\r\n                      }}>\r\n                        {cardDetails.subcategories.join(', ')}\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Position (without label) */}\r\n                    {cardDetails?.highestPosition && (\r\n                      <div style={{\r\n                        fontSize: '14px',\r\n                    color: '#8faecc',\r\n                        marginBottom: '8px',\r\n                      }}>\r\n                        {cardDetails.highestPosition}\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* For specials: show type, tier, speed, slot */}\r\n                    {selectedCard.kind === 'spec' && (\r\n                      <div style={{\r\n                        fontSize: '14px',\r\n                        color: '#8faecc',\r\n                        marginBottom: '4px',\r\n                      }}>\r\n                        {cardDetails?.cardType || (selectedCard.kind === 'spec' ? (selectedCard.base as any).type : '')}\r\n                        {cardDetails?.tier && ` â€¢ ${cardDetails.tier}`}\r\n                        {cardDetails?.speed && ` â€¢ ${cardDetails.speed}`}\r\n                        {cardDetails?.slot && ` â€¢ Slot: ${cardDetails.slot}`}\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* For government: show base stats */}\r\n                    {selectedCard.kind === 'pol' && (\r\n                      <div style={{\r\n                        display: 'flex',\r\n                        gap: '10px',\r\n                        flexWrap: 'wrap',\r\n                        marginTop: '4px',\r\n                        marginBottom: '4px',\r\n                        color: '#a9c1da',\r\n                        fontSize: '14px',\r\n                      }}>\r\n                        <span>Influence: {(selectedCard.base as any).influence}</span>\r\n                        <span>Tier: {(selectedCard.base as any).T}</span>\r\n                        <span>Keyword: {(selectedCard.base as any).tag}</span>\r\n                      </div>\r\n                    )}\r\n\r\n                    <div style={{\r\n                      fontSize: '12px',\r\n                      color: '#6b7280',\r\n                    fontWeight: 500,\r\n                  }}>\r\n                    Card {categorizedCards.allFilteredCards.findIndex(\r\n                      card => card.kind === selectedCard.kind && card.base.id === selectedCard.base.id\r\n                    ) + 1} of {categorizedCards.allFilteredCards.length}\r\n                  </div>\r\n                </div>\r\n\r\n                  {/* Cost in Top Right Corner */}\r\n                  <div style={{\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    alignItems: 'flex-end',\r\n                    gap: '8px',\r\n                  }}>\r\n                    <div style={{\r\n                      background: '#1f2937',\r\n                      border: '1px solid #374151',\r\n                      borderRadius: '8px',\r\n                      padding: '8px 12px',\r\n                      fontSize: '14px',\r\n                      color: '#e5e7eb',\r\n                    }}>\r\n                      Cost: {convertHPToUSD(cardDetails?.deckCost || (selectedCard.kind === 'pol' ? (selectedCard.base as BasePolitician).BP || 0 : (selectedCard.base as BaseSpecial).bp))}\r\n                    </div>\r\n\r\n                <button\r\n                  onClick={handleCloseCardDetail}\r\n                  style={{\r\n                    background: 'none',\r\n                    border: 'none',\r\n                    color: '#8faecc',\r\n                    fontSize: '24px',\r\n                    cursor: 'pointer',\r\n                    padding: '4px',\r\n                    borderRadius: '4px',\r\n                  }}\r\n                  onMouseEnter={(e) => {\r\n                    e.currentTarget.style.background = '#1a2a3a';\r\n                  }}\r\n                  onMouseLeave={(e) => {\r\n                    e.currentTarget.style.background = 'none';\r\n                  }}\r\n                >\r\n                  Ã—\r\n                </button>\r\n                  </div>\r\n              </div>\r\n\r\n                {/* Game Effect */}\r\n              <div style={{\r\n                  background: '#111827',\r\n                  border: '1px solid #ffffff',\r\n                  borderRadius: '12px',\r\n                  padding: '20px',\r\n              }}>\r\n                <h3 style={{\r\n                  margin: '0 0 12px 0',\r\n                  fontSize: '16px',\r\n                  fontWeight: 600,\r\n                    color: '#e5e7eb',\r\n                }}>\r\n                    Game Effect\r\n                </h3>\r\n\r\n                  <p style={{\r\n                    margin: 0,\r\n                    color: '#d1d5db',\r\n                    lineHeight: '1.5',\r\n                    fontSize: '15px',\r\n                  }}>\r\n                    {cardDetails?.gameEffect || (selectedCard.kind === 'spec'\r\n                      ? (selectedCard.base as BaseSpecial).effect\r\n                      : 'Passive Politician abilities based on Tag')}\r\n                  </p>\r\n              </div>\r\n\r\n                {/* Synergy for Public */}\r\n                {cardDetails?.synergy && (\r\n                  <div style={{\r\n                    background: '#111827',\r\n                    border: '1px solid #ffffff',\r\n                    borderRadius: '12px',\r\n                    padding: '20px',\r\n                  }}>\r\n                    <h3 style={{\r\n                      margin: '0 0 12px 0',\r\n                      fontSize: '16px',\r\n                      fontWeight: 600,\r\n                      color: '#e5e7eb',\r\n                    }}>\r\n                      Synergy\r\n                    </h3>\r\n                    <p style={{\r\n                      margin: 0,\r\n                      color: '#d1d5db',\r\n                      lineHeight: '1.5',\r\n                      fontSize: '15px',\r\n                    }}>\r\n                      {cardDetails.synergy}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Trigger Information for Interventions */}\r\n                {cardDetails?.trigger && (\r\n              <div style={{\r\n                    background: '#111827',\r\n                    border: '1px solid #ffffff',\r\n                    borderRadius: '12px',\r\n                    padding: '20px',\r\n              }}>\r\n                <h3 style={{\r\n                  margin: '0 0 12px 0',\r\n                  fontSize: '16px',\r\n                  fontWeight: 600,\r\n                      color: '#e5e7eb',\r\n                }}>\r\n                      Trigger\r\n                </h3>\r\n                <p style={{\r\n                  margin: 0,\r\n                      color: '#d1d5db',\r\n                  lineHeight: '1.5',\r\n                      fontSize: '15px',\r\n                }}>\r\n                      {cardDetails.trigger}\r\n                </p>\r\n              </div>\r\n                )}\r\n\r\n                {/* Usage and Example for Initiatives/Interventions */}\r\n                {(cardDetails?.usage || cardDetails?.example) && (\r\n                  <div style={{\r\n                    background: '#111827',\r\n                    border: '1px solid #ffffff',\r\n                    borderRadius: '12px',\r\n                    padding: '20px',\r\n                  }}>\r\n                    {cardDetails.usage && (\r\n                      <div style={{ marginBottom: '10px' }}>\r\n                        <div style={{ fontSize: '12px', color: '#9ca3af', marginBottom: '4px' }}>When to play?</div>\r\n                        <div style={{ color: '#d1d5db', fontSize: '15px', lineHeight: '1.5' }}>{cardDetails.usage}</div>\r\n                      </div>\r\n                    )}\r\n                    {cardDetails.example && (\r\n                      <div>\r\n                        <div style={{ fontSize: '12px', color: '#9ca3af', marginBottom: '4px' }}>Example</div>\r\n                        <div style={{ color: '#d1d5db', fontSize: '15px', lineHeight: '1.5' }}>{cardDetails.example}</div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n\r\n                {/* Personal Information */}\r\n                {cardDetails && (cardDetails.nationality || cardDetails.birthDate || cardDetails.estimatedWealth || cardDetails.controversialQuote) && (\r\n                  <div style={{\r\n                    background: '#111827',\r\n                    border: '1px solid #ffffff',\r\n                    borderRadius: '12px',\r\n                    padding: '20px',\r\n                  }}>\r\n                    <h3 style={{\r\n                      margin: '0 0 16px 0',\r\n                      fontSize: '16px',\r\n                      fontWeight: 600,\r\n                      color: '#e5e7eb',\r\n                    }}>\r\n                      Personal Information\r\n                    </h3>\r\n\r\n                    <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '12px' }}>\r\n                      {cardDetails.nationality && (\r\n                        <div>\r\n                          <div style={{ fontSize: '12px', color: '#9ca3af', marginBottom: '4px' }}>Nationality</div>\r\n                          <div style={{ color: '#e5e7eb', fontWeight: 500 }}>{cardDetails.nationality}</div>\r\n                        </div>\r\n                      )}\r\n\r\n                      {cardDetails.birthDate && (\r\n                        <div>\r\n                          <div style={{ fontSize: '12px', color: '#9ca3af', marginBottom: '4px' }}>Birth Date</div>\r\n                          <div style={{ color: '#e5e7eb', fontWeight: 500 }}>{cardDetails.birthDate}</div>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n\r\n                    {cardDetails.estimatedWealth && (\r\n                      <div style={{ marginTop: '12px' }}>\r\n                        <div style={{ fontSize: '12px', color: '#9ca3af', marginBottom: '4px' }}>Estimated Wealth</div>\r\n                        <div style={{ color: '#e5e7eb', fontWeight: 500 }}>{formatWealth(cardDetails.estimatedWealth)}</div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {cardDetails.controversialQuote && (\r\n                      <div style={{\r\n                        marginTop: '16px',\r\n                        background: '#1f2937',\r\n                        border: '1px solid #ffffff',\r\n                        borderRadius: '8px',\r\n                        padding: '12px',\r\n                      }}>\r\n                        <div style={{ fontSize: '12px', color: '#9ca3af', marginBottom: '6px' }}>Quote</div>\r\n                        <div style={{\r\n                          color: '#d1d5db',\r\n                          fontStyle: 'italic',\r\n                          lineHeight: '1.4',\r\n                          fontSize: '14px',\r\n                        }}>\r\n                          {cardDetails.controversialQuote}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Sources integrated into modal */}\r\n                    {cardDetails?.sources && cardDetails.sources.length > 0 && (\r\n                      <div style={{ marginTop: '16px' }}>\r\n                        <button\r\n                          onClick={() => setShowSources(!showSources)}\r\n                          style={{\r\n                            background: 'none',\r\n                            border: 'none',\r\n                            color: '#9ca3af',\r\n                            fontSize: '12px',\r\n                            cursor: 'pointer',\r\n                            textDecoration: 'underline',\r\n                            padding: 0,\r\n                          }}\r\n                        >\r\n                          Show Sources\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n\r\n                {/* Action Button */}\r\n              <div style={{\r\n                display: 'flex',\r\n                gap: '12px',\r\n                marginTop: 'auto',\r\n              }}>\r\n                <button\r\n                  onClick={() => {\r\n                    builderAdd(selectedCard.base, selectedCard.kind);\r\n                    handleCloseCardDetail();\r\n                  }}\r\n                  disabled={!builderCanAdd(selectedCard.base, selectedCard.kind)}\r\n                  style={{\r\n                    flex: 1,\r\n                      background: builderCanAdd(selectedCard.base, selectedCard.kind)\r\n                        ? '#374151'\r\n                        : '#1f2937',\r\n                      color: '#e5e7eb',\r\n                      border: '1px solid #4b5563',\r\n                    borderRadius: '8px',\r\n                    padding: '12px',\r\n                    fontSize: '14px',\r\n                    fontWeight: 600,\r\n                      cursor: builderCanAdd(selectedCard.base, selectedCard.kind) ? 'pointer' : 'not-allowed',\r\n                      opacity: builderCanAdd(selectedCard.base, selectedCard.kind) ? 1 : 0.6,\r\n                  }}\r\n                >\r\n                  Add to Deck\r\n                </button>\r\n              </div>\r\n            </div>\r\n            </div>\r\n\r\n            {/* Mini Modal for Sources */}\r\n            {showSources && cardDetails?.sources && (\r\n              <div style={{\r\n                position: 'fixed',\r\n                top: 'calc(50% + 5px)',\r\n                left: 'calc(50% + 5px)',\r\n                transform: 'translate(-50%, -50%)',\r\n                background: '#0d1621',\r\n                border: '2px solid #ffffff',\r\n                borderRadius: '12px',\r\n                padding: '20px',\r\n                minWidth: '400px',\r\n                maxWidth: '600px',\r\n                boxShadow: '0 20px 60px rgba(0, 0, 0, 0.8)',\r\n                zIndex: 60,\r\n              }}>\r\n                <div style={{\r\n                  display: 'flex',\r\n                  justifyContent: 'space-between',\r\n                  alignItems: 'center',\r\n                  marginBottom: '16px',\r\n                }}>\r\n                  <h4 style={{\r\n                    margin: 0,\r\n                    fontSize: '16px',\r\n                    fontWeight: 600,\r\n                    color: '#e5e7eb',\r\n                  }}>\r\n                    Sources & Calculation Basis\r\n                  </h4>\r\n                  <button\r\n                    onClick={() => setShowSources(false)}\r\n                    style={{\r\n                      background: 'none',\r\n                      border: 'none',\r\n                      color: '#9ca3af',\r\n                      fontSize: '20px',\r\n                      cursor: 'pointer',\r\n                      padding: '4px',\r\n                    }}\r\n                  >\r\n                    Ã—\r\n                  </button>\r\n                </div>\r\n\r\n                {cardDetails.calculation && (\r\n                  <div style={{ marginBottom: '16px' }}>\r\n                    <div style={{ fontSize: '12px', color: '#9ca3af', marginBottom: '6px' }}>Calculation:</div>\r\n                    <div style={{\r\n                      color: '#d1d5db',\r\n                      fontSize: '13px',\r\n                      lineHeight: '1.4',\r\n                      background: '#1f2937',\r\n                      padding: '10px',\r\n                      borderRadius: '6px',\r\n                    }}>\r\n                      {cardDetails.calculation}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n                <div style={{ fontSize: '12px', color: '#9ca3af', marginBottom: '6px' }}>Sources:</div>\r\n                <div style={{\r\n                  color: '#d1d5db',\r\n                  fontSize: '13px',\r\n                  lineHeight: '1.4',\r\n                }}>\r\n                  {formatSources(cardDetails.sources)}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n      })()}\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}