{"ast":null,"code":"// src/state/board.ts\nexport const emptyBoardSide=()=>({innen:[],aussen:[],sofort:[]// ðŸ‘ˆ always present\n});export const emptyBoard=()=>({1:emptyBoardSide(),2:emptyBoardSide()});/**\r\n * Defensive upgrade for any state that might miss the new field (e.g., tests, fixtures).\r\n */export function ensureSofortBoard(state){for(const p of[1,2]){const side=state.board[p];if(!side.innen)side.innen=[];if(!side.aussen)side.aussen=[];if(!Array.isArray(side.sofort))side.sofort=[];}return state;}","map":{"version":3,"names":["emptyBoardSide","innen","aussen","sofort","emptyBoard","ensureSofortBoard","state","p","side","board","Array","isArray"],"sources":["C:/Users/skank/Videos/Cards/Milchcards/src/state/board.ts"],"sourcesContent":["// src/state/board.ts\r\nimport { BoardSide, GameState } from '../types/game';\r\n\r\nexport const emptyBoardSide = (): BoardSide => ({\r\n  innen: [],\r\n  aussen: [],\r\n  sofort: [],   // ðŸ‘ˆ always present\r\n});\r\n\r\nexport const emptyBoard = (): GameState['board'] => ({\r\n  1: emptyBoardSide(),\r\n  2: emptyBoardSide(),\r\n});\r\n\r\n/**\r\n * Defensive upgrade for any state that might miss the new field (e.g., tests, fixtures).\r\n */\r\nexport function ensureSofortBoard(state: GameState) {\r\n  for (const p of [1, 2] as const) {\r\n    const side = state.board[p] as any;\r\n    if (!side.innen)  side.innen  = [];\r\n    if (!side.aussen) side.aussen = [];\r\n    if (!Array.isArray(side.sofort)) side.sofort = [];\r\n  }\r\n  return state;\r\n}\r\n"],"mappings":"AAAA;AAGA,MAAO,MAAM,CAAAA,cAAc,CAAGA,CAAA,IAAkB,CAC9CC,KAAK,CAAE,EAAE,CACTC,MAAM,CAAE,EAAE,CACVC,MAAM,CAAE,EAAM;AAChB,CAAC,CAAC,CAEF,MAAO,MAAM,CAAAC,UAAU,CAAGA,CAAA,IAA2B,CACnD,CAAC,CAAEJ,cAAc,CAAC,CAAC,CACnB,CAAC,CAAEA,cAAc,CAAC,CACpB,CAAC,CAAC,CAEF;AACA;AACA,GACA,MAAO,SAAS,CAAAK,iBAAiBA,CAACC,KAAgB,CAAE,CAClD,IAAK,KAAM,CAAAC,CAAC,GAAI,CAAC,CAAC,CAAE,CAAC,CAAC,CAAW,CAC/B,KAAM,CAAAC,IAAI,CAAGF,KAAK,CAACG,KAAK,CAACF,CAAC,CAAQ,CAClC,GAAI,CAACC,IAAI,CAACP,KAAK,CAAGO,IAAI,CAACP,KAAK,CAAI,EAAE,CAClC,GAAI,CAACO,IAAI,CAACN,MAAM,CAAEM,IAAI,CAACN,MAAM,CAAG,EAAE,CAClC,GAAI,CAACQ,KAAK,CAACC,OAAO,CAACH,IAAI,CAACL,MAAM,CAAC,CAAEK,IAAI,CAACL,MAAM,CAAG,EAAE,CACnD,CACA,MAAO,CAAAG,KAAK,CACd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}