{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\skank\\\\Videos\\\\Cards\\\\Milchcards\\\\src\\\\context\\\\VisualEffectsContext.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useRef, useMemo } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VisualEffectsContext = /*#__PURE__*/createContext(undefined);\nexport function VisualEffectsProvider({\n  children\n}) {\n  _s();\n  const particlesRef = useRef([]);\n  const popsRef = useRef([]);\n  const ripplesRef = useRef([]);\n  const apLabelsRef = useRef([]);\n  const reducedMotion = typeof window !== 'undefined' && window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches || !!window.__pc_reduced_motion;\n  const spawnParticles = (cx, cy, count = 12) => {\n    if (reducedMotion) return;\n    const now = performance.now();\n    for (let i = 0; i < count; i++) {\n      particlesRef.current.push({\n        start: now,\n        life: 600 + Math.random() * 500,\n        x: cx + (Math.random() - 0.5) * 48,\n        y: cy + (Math.random() - 0.5) * 48,\n        vx: (Math.random() - 0.5) * 6,\n        vy: -Math.random() * 6,\n        size: 3 + Math.random() * 6,\n        color: ['#ffd166', '#ff6b6b', '#4ade80'][Math.floor(Math.random() * 3)],\n        gravity: 0.12\n      });\n    }\n  };\n  const spawnPop = uid => {\n    popsRef.current.push({\n      uid,\n      started: performance.now(),\n      duration: 420\n    });\n  };\n  const spawnRipple = (cx, cy, opts) => {\n    var _opts$radius;\n    if (reducedMotion) return;\n    ripplesRef.current.push({\n      cx,\n      cy,\n      started: performance.now(),\n      duration: opts !== null && opts !== void 0 && opts.radius ? 700 : 700,\n      radius: (_opts$radius = opts === null || opts === void 0 ? void 0 : opts.radius) !== null && _opts$radius !== void 0 ? _opts$radius : 480,\n      showAp: !!(opts !== null && opts !== void 0 && opts.showAp),\n      apX: opts === null || opts === void 0 ? void 0 : opts.apX,\n      apY: opts === null || opts === void 0 ? void 0 : opts.apY\n    });\n    if (opts !== null && opts !== void 0 && opts.showAp) {\n      var _opts$apX, _opts$apY;\n      apLabelsRef.current.push({\n        x: (_opts$apX = opts.apX) !== null && _opts$apX !== void 0 ? _opts$apX : cx,\n        y: (_opts$apY = opts.apY) !== null && _opts$apY !== void 0 ? _opts$apY : cy,\n        started: performance.now(),\n        duration: 900,\n        text: '+1'\n      });\n    }\n  };\n  const value = useMemo(() => ({\n    particlesRef,\n    popsRef,\n    ripplesRef,\n    apLabelsRef,\n    reducedMotion,\n    spawnParticles,\n    spawnPop,\n    spawnRipple\n  }), []);\n  return /*#__PURE__*/_jsxDEV(VisualEffectsContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 10\n  }, this);\n}\n_s(VisualEffectsProvider, \"EsGcN3kv6C9s888cXv7f4e8HZDs=\");\n_c = VisualEffectsProvider;\nexport function useVisualEffects() {\n  _s2();\n  const ctx = useContext(VisualEffectsContext);\n  if (!ctx) throw new Error('useVisualEffects must be used within VisualEffectsProvider');\n  return ctx;\n}\n_s2(useVisualEffects, \"/dMy7t63NXD4eYACoT93CePwGrg=\");\nexport default VisualEffectsContext;\nvar _c;\n$RefreshReg$(_c, \"VisualEffectsProvider\");","map":{"version":3,"names":["React","createContext","useContext","useRef","useMemo","jsxDEV","_jsxDEV","VisualEffectsContext","undefined","VisualEffectsProvider","children","_s","particlesRef","popsRef","ripplesRef","apLabelsRef","reducedMotion","window","matchMedia","matches","__pc_reduced_motion","spawnParticles","cx","cy","count","now","performance","i","current","push","start","life","Math","random","x","y","vx","vy","size","color","floor","gravity","spawnPop","uid","started","duration","spawnRipple","opts","_opts$radius","radius","showAp","apX","apY","_opts$apX","_opts$apY","text","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useVisualEffects","_s2","ctx","Error","$RefreshReg$"],"sources":["C:/Users/skank/Videos/Cards/Milchcards/src/context/VisualEffectsContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useRef, ReactNode, useMemo } from 'react';\r\n\r\ntype Particle = { start: number; life: number; x: number; y: number; vx: number; vy: number; size?: number; color?: string; gravity?: number };\r\ntype Pop = { uid: number | string; started: number; duration: number };\r\ntype Ripple = { cx: number; cy: number; started: number; duration: number; radius: number; showAp?: boolean; apX?: number; apY?: number; _apSpawned?: boolean };\r\ntype ApLabel = { x: number; y: number; started: number; duration: number; text: string };\r\n\r\ninterface VisualEffectsContextType {\r\n  particlesRef: React.MutableRefObject<Particle[]>;\r\n  popsRef: React.MutableRefObject<Pop[]>;\r\n  ripplesRef: React.MutableRefObject<Ripple[]>;\r\n  apLabelsRef: React.MutableRefObject<ApLabel[]>;\r\n  reducedMotion: boolean;\r\n  spawnParticles: (cx: number, cy: number, count?: number) => void;\r\n  spawnPop: (uid: number | string) => void;\r\n  spawnRipple: (cx: number, cy: number, opts?: { radius?: number; showAp?: boolean; apX?: number; apY?: number }) => void;\r\n}\r\n\r\nconst VisualEffectsContext = createContext<VisualEffectsContextType | undefined>(undefined);\r\n\r\nexport function VisualEffectsProvider({ children }: { children: ReactNode }) {\r\n  const particlesRef = useRef<Particle[]>([]);\r\n  const popsRef = useRef<Pop[]>([]);\r\n  const ripplesRef = useRef<Ripple[]>([]);\r\n  const apLabelsRef = useRef<ApLabel[]>([]);\r\n\r\n  const reducedMotion = typeof window !== 'undefined' && (window as any).matchMedia && (window as any).matchMedia('(prefers-reduced-motion: reduce)').matches || !!(window as any).__pc_reduced_motion;\r\n\r\n  const spawnParticles = (cx: number, cy: number, count = 12) => {\r\n    if (reducedMotion) return;\r\n    const now = performance.now();\r\n    for (let i = 0; i < count; i++) {\r\n      particlesRef.current.push({ start: now, life: 600 + Math.random() * 500, x: cx + (Math.random() - 0.5) * 48, y: cy + (Math.random() - 0.5) * 48, vx: (Math.random() - 0.5) * 6, vy: -Math.random() * 6, size: 3 + Math.random() * 6, color: ['#ffd166', '#ff6b6b', '#4ade80'][Math.floor(Math.random() * 3)], gravity: 0.12 });\r\n    }\r\n  };\r\n\r\n  const spawnPop = (uid: number | string) => {\r\n    popsRef.current.push({ uid, started: performance.now(), duration: 420 });\r\n  };\r\n\r\n  const spawnRipple = (cx: number, cy: number, opts?: { radius?: number; showAp?: boolean; apX?: number; apY?: number }) => {\r\n    if (reducedMotion) return;\r\n    ripplesRef.current.push({ cx, cy, started: performance.now(), duration: opts?.radius ? 700 : 700, radius: opts?.radius ?? 480, showAp: !!opts?.showAp, apX: opts?.apX, apY: opts?.apY });\r\n    if (opts?.showAp) {\r\n      apLabelsRef.current.push({ x: opts.apX ?? cx, y: opts.apY ?? cy, started: performance.now(), duration: 900, text: '+1' });\r\n    }\r\n  };\r\n\r\n  const value = useMemo(() => ({ particlesRef, popsRef, ripplesRef, apLabelsRef, reducedMotion, spawnParticles, spawnPop, spawnRipple }), []);\r\n\r\n  return <VisualEffectsContext.Provider value={value}>{children}</VisualEffectsContext.Provider>;\r\n}\r\n\r\nexport function useVisualEffects() {\r\n  const ctx = useContext(VisualEffectsContext);\r\n  if (!ctx) throw new Error('useVisualEffects must be used within VisualEffectsProvider');\r\n  return ctx;\r\n}\r\n\r\nexport default VisualEffectsContext;\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}