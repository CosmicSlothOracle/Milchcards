{"ast":null,"code":"import _objectSpread from\"C:/Users/skank/Videos/Cards/Milchcards/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useRef,useCallback,useEffect}from'react';import{Icon}from'../ui/Icon';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const GameInfoModal=_ref=>{let{gameState,isVisible,onToggle,onPassTurn,onToggleLog,onCardClick,devMode=false}=_ref;const[position,setPosition]=useState({x:50,y:50});const[size,setSize]=useState({width:320,height:400});const[isDragging,setIsDragging]=useState(false);const[isResizing,setIsResizing]=useState(false);const[dragStart,setDragStart]=useState({x:0,y:0});const[resizeStart,setResizeStart]=useState({pos:{x:0,y:0},size:{width:0,height:0}});const[currentInfluence,setCurrentInfluence]=useState({player:0,opponent:0});const[influenceAnimation,setInfluenceAnimation]=useState({player:'none',opponent:'none'});const[showPassConfirmation,setShowPassConfirmation]=useState(false);const modalRef=useRef(null);// Reset pass confirmation after 3 seconds\nuseEffect(()=>{if(showPassConfirmation){const timer=setTimeout(()=>{setShowPassConfirmation(false);},3000);return()=>clearTimeout(timer);}},[showPassConfirmation]);// Calculate current influence\nconst calculateInfluence=useCallback(()=>{// Regelwerk: Alle Karten auf dem Board zählen für Einfluss\nconst calculatePlayerInfluence=player=>{let totalInfluence=0;// Count influence from cards on board (innen + aussen)\nconst playerBoard=gameState.board[player];[...playerBoard.innen,...playerBoard.aussen].forEach(card=>{if(card.kind==='pol'){const base=card.influence||0;const buffs=card.tempBuffs||0;const debuffs=card.tempDebuffs||0;totalInfluence+=base+buffs-debuffs;}});// Count influence from permanent slots\nconst permanentSlots=gameState.permanentSlots[player];if(permanentSlots.government&&permanentSlots.government.kind==='pol'){const c=permanentSlots.government;totalInfluence+=(c.influence||0)+(c.tempBuffs||0)-(c.tempDebuffs||0);}if(permanentSlots.public&&permanentSlots.public.kind==='pol'){const c=permanentSlots.public;totalInfluence+=(c.influence||0)+(c.tempBuffs||0)-(c.tempDebuffs||0);}return totalInfluence;};const playerInfluence=calculatePlayerInfluence(1);const opponentInfluence=calculatePlayerInfluence(2);return{player:playerInfluence,opponent:opponentInfluence};},[gameState]);// Update influence and trigger animations\nuseEffect(()=>{const newInfluence=calculateInfluence();const prevPlayer=currentInfluence.player;const prevOpponent=currentInfluence.opponent;// Determine animation types\nlet playerAnim='none';let opponentAnim='none';if(newInfluence.player>prevPlayer){playerAnim='success';}else if(newInfluence.player<prevPlayer){playerAnim='loss';}if(newInfluence.opponent>prevOpponent){opponentAnim='success';}else if(newInfluence.opponent<prevOpponent){opponentAnim='loss';}// Check winning/losing status\nif(newInfluence.player>newInfluence.opponent){playerAnim=playerAnim==='none'?'winning':playerAnim;opponentAnim=opponentAnim==='none'?'losing':opponentAnim;}else if(newInfluence.opponent>newInfluence.player){playerAnim=playerAnim==='none'?'losing':playerAnim;opponentAnim=opponentAnim==='none'?'winning':opponentAnim;}// Only update influence state when it actually changes to prevent loops\nif(newInfluence.player!==prevPlayer||newInfluence.opponent!==prevOpponent){setCurrentInfluence(newInfluence);}// Avoid unnecessary animation state churn\nsetInfluenceAnimation(prev=>{const next={player:playerAnim,opponent:opponentAnim};if(prev.player===next.player&&prev.opponent===next.opponent)return prev;return next;});// Reset animations after delay\nconst timer=setTimeout(()=>{setInfluenceAnimation(prev=>prev.player==='none'&&prev.opponent==='none'?prev:{player:'none',opponent:'none'});},1000);return()=>clearTimeout(timer);},[gameState,calculateInfluence]);// Check if a player has matchball (needs only 1 more round to win or leading by 3+ influence)\nconst getMatchballStatus=()=>{// Check rounds won first\nconst player1Wins=gameState.roundsWon[1];const player2Wins=gameState.roundsWon[2];if(player1Wins===1&&player2Wins<1){return{player:1,hasMatchball:true};}else if(player2Wins===1&&player1Wins<1){return{player:2,hasMatchball:true};}// Check current influence lead (3+ points = matchball)\nconst p1Influence=currentInfluence.player;const p2Influence=currentInfluence.opponent;const leadDifference=Math.abs(p1Influence-p2Influence);if(leadDifference>=3){return{hasMatchball:true,player:p1Influence>p2Influence?1:2};}return{player:null,hasMatchball:false};};// Mouse handlers for dragging\nconst handleMouseDown=useCallback(e=>{if(e.target.classList.contains('resize-handle'))return;setIsDragging(true);setDragStart({x:e.clientX-position.x,y:e.clientY-position.y});},[position]);const handleMouseMove=useCallback(e=>{if(isDragging){setPosition({x:e.clientX-dragStart.x,y:e.clientY-dragStart.y});}else if(isResizing){const newWidth=Math.max(250,e.clientX-resizeStart.pos.x+resizeStart.size.width);const newHeight=Math.max(300,e.clientY-resizeStart.pos.y+resizeStart.size.height);setSize({width:newWidth,height:newHeight});}},[isDragging,isResizing,dragStart,resizeStart]);const handleMouseUp=useCallback(()=>{setIsDragging(false);setIsResizing(false);},[]);// Resize handle\nconst handleResizeStart=useCallback(e=>{e.stopPropagation();setIsResizing(true);setResizeStart({pos:{x:e.clientX,y:e.clientY},size:_objectSpread({},size)});},[size]);useEffect(()=>{if(isDragging||isResizing){document.addEventListener('mousemove',handleMouseMove);document.addEventListener('mouseup',handleMouseUp);return()=>{document.removeEventListener('mousemove',handleMouseMove);document.removeEventListener('mouseup',handleMouseUp);};}},[isDragging,isResizing,handleMouseMove,handleMouseUp]);// Get game phase text\nconst getGamePhase=()=>{if(gameState.passed[1]&&gameState.passed[2]){return'Round Evaluation';}return\"Round \".concat(gameState.round);};// Get player turn text with detailed status\nconst getPlayerTurn=()=>{if(gameState.passed[1]&&gameState.passed[2]){return'Round ended - Evaluation running';}const currentPlayer=gameState.current;const remainingAP=gameState.actionPoints[currentPlayer];if(currentPlayer===1){if(remainingAP<=0){return'Your turn ended - Click to continue';}return\"Your turn - \".concat(remainingAP,\" AP\");}else{if(remainingAP<=0){return'Opponent turn ended';}return\"Opponent's turn - \".concat(remainingAP,\" AP\");}};// Influence animation styles\nconst getInfluenceStyle=type=>{const baseStyle={fontSize:'32px',fontWeight:'bold',textAlign:'center',transition:'all 0.3s ease',textShadow:'0 0 8px rgba(0,0,0,0.5)'};switch(type){case'success':return _objectSpread(_objectSpread({},baseStyle),{},{color:'#4ade80',transform:'scale(1.2)',textShadow:'0 0 12px #4ade80'});case'loss':return _objectSpread(_objectSpread({},baseStyle),{},{color:'#ef4444',transform:'scale(0.9)',textShadow:'0 0 12px #ef4444'});case'winning':return _objectSpread(_objectSpread({},baseStyle),{},{color:'#fbbf24',textShadow:'0 0 8px #fbbf24'});case'losing':return _objectSpread(_objectSpread({},baseStyle),{},{color:'#374151',textShadow:'0 0 8px #374151'});default:return _objectSpread(_objectSpread({},baseStyle),{},{color:'#e5e7eb'});}};if(!isVisible)return null;return/*#__PURE__*/_jsxs(\"div\",{ref:modalRef,style:{position:'fixed',left:position.x,top:position.y,width:size.width,height:size.height,background:'rgba(13, 22, 33, 0.05)',border:'1px solid rgba(255, 255, 255, 1)',borderRadius:'12px',backdropFilter:'blur(2px)',zIndex:1000,cursor:isDragging?'grabbing':'grab',userSelect:'none',boxShadow:'0 4px 12px rgba(0, 0, 0, 0.15)'},onMouseDown:handleMouseDown,children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'12px 16px',borderBottom:'1px solid rgba(255, 255, 255, 0.3)',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#e5e7eb',fontSize:'14px',fontWeight:'600'},children:\"AP\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'6px',alignItems:'center'},children:[0,1].map(index=>{const currentPlayer=gameState.current;const remainingAP=gameState.actionPoints[currentPlayer];const isUsed=index>=remainingAP;return/*#__PURE__*/_jsx(\"div\",{style:{width:'12px',height:'12px',borderRadius:'50%',background:isUsed?'rgba(239, 68, 68, 0.8)':'rgba(34, 197, 94, 0.9)',boxShadow:isUsed?'0 0 8px rgba(239, 68, 68, 0.6)':'0 0 12px rgba(34, 197, 94, 0.8)',border:isUsed?'1px solid rgba(239, 68, 68, 1)':'1px solid rgba(34, 197, 94, 1)',transition:'all 0.3s ease'}},index);})})]}),(gameState.current===1&&!gameState.passed[1]||devMode&&gameState.current===2&&!gameState.passed[2])&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{console.log(\"\\uD83D\\uDD27 DEBUG: End turn clicked for player \".concat(gameState.current));onCardClick({type:'button_end_turn',player:gameState.current});},style:{background:'linear-gradient(45deg, #3b82f6, #2563eb)',border:'none',borderRadius:'6px',padding:'6px 12px',color:'white',fontSize:'12px',fontWeight:'600',cursor:'pointer',boxShadow:'0 2px 8px rgba(59, 130, 246, 0.4)',transition:'all 0.2s ease'},onMouseEnter:e=>{e.currentTarget.style.transform='scale(1.05)';},onMouseLeave:e=>{e.currentTarget.style.transform='scale(1)';},title:\"Ends only your turn \\u2013 the round continues.\",children:\"End Turn\"}),showPassConfirmation?/*#__PURE__*/_jsx(\"button\",{onClick:()=>{console.log(\"\\uD83D\\uDD27 DEBUG: Pass confirmation clicked for player \".concat(gameState.current));onCardClick({type:'button_pass_turn',player:gameState.current});setShowPassConfirmation(false);},style:{background:'linear-gradient(45deg, #dc2626, #b91c1c)',border:'none',borderRadius:'6px',padding:'6px 12px',color:'white',fontSize:'12px',fontWeight:'600',cursor:'pointer',boxShadow:'0 2px 8px rgba(220, 38, 38, 0.4)',transition:'all 0.2s ease'},onMouseEnter:e=>{e.currentTarget.style.transform='scale(1.05)';},onMouseLeave:e=>{e.currentTarget.style.transform='scale(1)';},children:\"Really Pass\"}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowPassConfirmation(true),style:{background:'linear-gradient(45deg, #ef4444, #dc2626)',border:'none',borderRadius:'6px',padding:'6px 12px',color:'white',fontSize:'12px',fontWeight:'600',cursor:'pointer',boxShadow:'0 2px 8px rgba(239, 68, 68, 0.4)',transition:'all 0.2s ease'},onMouseEnter:e=>{e.currentTarget.style.transform='scale(1.05)';},onMouseLeave:e=>{e.currentTarget.style.transform='scale(1)';},children:\"Pass\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onToggle,style:{background:'none',border:'none',color:'#9ca3af',fontSize:'18px',cursor:'pointer',padding:'4px'},children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onToggleLog,style:{background:'linear-gradient(45deg, #8b5cf6, #7c3aed)',border:'none',borderRadius:'6px',padding:'6px 12px',color:'white',fontSize:'12px',fontWeight:'600',cursor:'pointer',boxShadow:'0 2px 8px rgba(139, 92, 246, 0.4)',transition:'all 0.2s ease',marginRight:'8px'},onMouseEnter:e=>{e.currentTarget.style.transform='scale(1.05)';},onMouseLeave:e=>{e.currentTarget.style.transform='scale(1)';},children:\"\\uD83D\\uDCCB Log\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'16px',height:'calc(100% - 60px)',display:'flex',flexDirection:'column',gap:'16px'},children:[gameState.gameWinner&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',top:0,left:0,right:0,bottom:0,background:'linear-gradient(135deg, rgba(0, 255, 136, 0.95), rgba(34, 197, 94, 0.95))',display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center',zIndex:1000,borderRadius:'12px',backdropFilter:'blur(8px)',animation:'victoryPulse 2s infinite'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'48px',marginBottom:'16px',animation:'bounce 1s infinite'},children:\"\\uD83C\\uDFC6\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:'white',fontSize:'24px',fontWeight:'800',textAlign:'center',marginBottom:'8px',textShadow:'0 2px 8px rgba(0, 0, 0, 0.5)'},children:gameState.gameWinner===1?'YOU WIN!':'OPPONENT WINS!'}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'rgba(255, 255, 255, 0.9)',fontSize:'18px',fontWeight:'600',textAlign:'center',marginBottom:'12px',textShadow:'0 1px 4px rgba(0, 0, 0, 0.3)'},children:[\"Player \",gameState.gameWinner,\" is the winner!\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'rgba(255, 255, 255, 0.8)',fontSize:'16px',fontWeight:'500',textAlign:'center',background:'rgba(255, 255, 255, 0.2)',padding:'8px 16px',borderRadius:'8px',backdropFilter:'blur(4px)'},children:[\"Round Standings: \",gameState.roundsWon[1],\" - \",gameState.roundsWon[2]]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#9ca3af',fontSize:'12px',marginBottom:'4px'},children:\"Game Phase\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'center',gap:'12px',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#e5e7eb',fontSize:'16px',fontWeight:'600'},children:getGamePhase()}),(()=>{const matchball=getMatchballStatus();if(matchball.hasMatchball){const isPlayer=matchball.player===1;return/*#__PURE__*/_jsx(\"div\",{style:{color:isPlayer?'#00ff88':'#ff6b6b',fontSize:'14px',fontWeight:'700',textShadow:\"0 0 8px \".concat(isPlayer?'#00ff88':'#ff6b6b'),animation:'matchballPulse 2s ease-in-out infinite',padding:'4px 8px',border:\"1px solid \".concat(isPlayer?'#00ff88':'#ff6b6b'),borderRadius:'12px',backgroundColor:\"\".concat(isPlayer?'#00ff8820':'#ff6b6b20')},children:isPlayer?'🎯 MATCHBALL':'⚠️ MATCHBALL'});}return null;})()]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#9ca3af',fontSize:'12px',marginBottom:'4px'},children:\"Status\"}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#fbbf24',fontSize:'14px',fontWeight:'500',display:'flex',alignItems:'center',justifyContent:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(Icon,{name:\"start_of_turn\",size:14}),/*#__PURE__*/_jsx(\"span\",{children:\"Your turn \\u2013 \"}),/*#__PURE__*/_jsx(Icon,{name:\"ap\",size:14}),/*#__PURE__*/_jsx(\"strong\",{children:gameState.actionPoints[1]}),/*#__PURE__*/_jsx(\"span\",{children:\" (action points)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'12px',marginBottom:'8px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{color:'#9ca3af',fontSize:'11px',marginBottom:'4px',display:'flex',alignItems:'center',justifyContent:'center',gap:'6px'},children:[/*#__PURE__*/_jsx(Icon,{name:\"ap\",size:12}),\"Your AP\"]}),/*#__PURE__*/_jsx(\"div\",{style:{color:gameState.actionPoints[1]>0?'#00ff88':'#ef4444',fontSize:'18px',fontWeight:'700',textShadow:'0 0 4px currentColor'},children:gameState.actionPoints[1]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{color:'#9ca3af',fontSize:'11px',marginBottom:'4px',display:'flex',alignItems:'center',justifyContent:'center',gap:'6px'},children:[/*#__PURE__*/_jsx(Icon,{name:\"ap\",size:12}),\"Opponent AP\"]}),/*#__PURE__*/_jsx(\"div\",{style:{color:gameState.actionPoints[2]>0?'#00ff88':'#ef4444',fontSize:'18px',fontWeight:'700',textShadow:'0 0 4px currentColor'},children:gameState.actionPoints[2]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'12px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{color:'#9ca3af',fontSize:'11px',marginBottom:'4px',display:'flex',alignItems:'center',justifyContent:'center',gap:'6px'},children:[/*#__PURE__*/_jsx(Icon,{name:\"influence\",size:12}),\"Your Influence\"]}),/*#__PURE__*/_jsx(\"div\",{style:getInfluenceStyle(influenceAnimation.player),children:currentInfluence.player})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#9ca3af',fontSize:'11px',marginBottom:'4px'},children:\"Opponent Influence\"}),/*#__PURE__*/_jsx(\"div\",{style:getInfluenceStyle(influenceAnimation.opponent),children:currentInfluence.opponent})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'12px',marginTop:'8px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#9ca3af',fontSize:'11px',marginBottom:'4px'},children:\"Your Rounds\"}),/*#__PURE__*/_jsxs(\"div\",{style:{color:gameState.roundsWon[1]>=2?'#00ff88':'#fbbf24',fontSize:'18px',fontWeight:'700',textShadow:'0 0 4px currentColor'},children:[gameState.roundsWon[1],\"/3\",gameState.roundsWon[1]>=2&&/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'8px',fontSize:'14px',animation:'matchballPulse 1.5s infinite'},children:\"\\uD83C\\uDFC6\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#9ca3af',fontSize:'11px',marginBottom:'4px'},children:\"Opponent Rounds\"}),/*#__PURE__*/_jsxs(\"div\",{style:{color:gameState.roundsWon[2]>=2?'#00ff88':'#fbbf24',fontSize:'18px',fontWeight:'700',textShadow:'0 0 4px currentColor'},children:[gameState.roundsWon[2],\"/3\",gameState.roundsWon[2]>=2&&/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'8px',fontSize:'14px',animation:'matchballPulse 1.5s infinite'},children:\"\\uD83C\\uDFC6\"})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"resize-handle\",style:{position:'absolute',bottom:0,right:0,width:'16px',height:'16px',background:'rgba(255, 255, 255, 0.6)',cursor:'nw-resize',borderRadius:'0 0 12px 0',clipPath:'polygon(100% 0, 0 100%, 100% 100%)'},onMouseDown:handleResizeStart}),/*#__PURE__*/_jsx(\"style\",{children:\"\\n        @keyframes matchballPulse {\\n          0%, 100% {\\n            transform: scale(1);\\n            opacity: 0.8;\\n          }\\n          50% {\\n            transform: scale(1.05);\\n            opacity: 1;\\n          }\\n        }\\n        @keyframes victoryPulse {\\n          0%, 100% {\\n            transform: scale(1);\\n            box-shadow: 0 0 20px rgba(0, 255, 136, 0.6);\\n          }\\n          50% {\\n            transform: scale(1.02);\\n            box-shadow: 0 0 40px rgba(0, 255, 136, 0.8);\\n          }\\n        }\\n        @keyframes bounce {\\n          0%, 20%, 50%, 80%, 100% {\\n            transform: translateY(0);\\n          }\\n          40% {\\n            transform: translateY(-10px);\\n          }\\n          60% {\\n            transform: translateY(-5px);\\n          }\\n        }\\n      \"})]});};","map":{"version":3,"names":["React","useState","useRef","useCallback","useEffect","Icon","jsx","_jsx","jsxs","_jsxs","GameInfoModal","_ref","gameState","isVisible","onToggle","onPassTurn","onToggleLog","onCardClick","devMode","position","setPosition","x","y","size","setSize","width","height","isDragging","setIsDragging","isResizing","setIsResizing","dragStart","setDragStart","resizeStart","setResizeStart","pos","currentInfluence","setCurrentInfluence","player","opponent","influenceAnimation","setInfluenceAnimation","showPassConfirmation","setShowPassConfirmation","modalRef","timer","setTimeout","clearTimeout","calculateInfluence","calculatePlayerInfluence","totalInfluence","playerBoard","board","innen","aussen","forEach","card","kind","base","influence","buffs","tempBuffs","debuffs","tempDebuffs","permanentSlots","government","c","public","playerInfluence","opponentInfluence","newInfluence","prevPlayer","prevOpponent","playerAnim","opponentAnim","prev","next","getMatchballStatus","player1Wins","roundsWon","player2Wins","hasMatchball","p1Influence","p2Influence","leadDifference","Math","abs","handleMouseDown","e","target","classList","contains","clientX","clientY","handleMouseMove","newWidth","max","newHeight","handleMouseUp","handleResizeStart","stopPropagation","_objectSpread","document","addEventListener","removeEventListener","getGamePhase","passed","concat","round","getPlayerTurn","currentPlayer","current","remainingAP","actionPoints","getInfluenceStyle","type","baseStyle","fontSize","fontWeight","textAlign","transition","textShadow","color","transform","ref","style","left","top","background","border","borderRadius","backdropFilter","zIndex","cursor","userSelect","boxShadow","onMouseDown","children","padding","borderBottom","display","justifyContent","alignItems","gap","map","index","isUsed","onClick","console","log","onMouseEnter","currentTarget","onMouseLeave","title","marginRight","flexDirection","gameWinner","right","bottom","animation","marginBottom","flexWrap","matchball","isPlayer","backgroundColor","name","gridTemplateColumns","marginTop","marginLeft","className","clipPath"],"sources":["C:/Users/skank/Videos/Cards/Milchcards/src/components/GameInfoModal.tsx"],"sourcesContent":["import React, { useState, useRef, useCallback, useEffect } from 'react';\r\nimport { GameState } from '../types/game';\r\nimport { Icon } from '../ui/Icon';\r\nimport { withIcons } from '../ui/withIcons';\r\n\r\ninterface GameInfoModalProps {\r\n  gameState: GameState;\r\n  isVisible: boolean;\r\n  onToggle: () => void;\r\n  onPassTurn: (player: 1 | 2) => void;\r\n  onToggleLog: () => void;\r\n  onCardClick: (data: any) => void;\r\n  devMode?: boolean;\r\n}\r\n\r\ninterface Position {\r\n  x: number;\r\n  y: number;\r\n}\r\n\r\ninterface Size {\r\n  width: number;\r\n  height: number;\r\n}\r\n\r\nexport const GameInfoModal: React.FC<GameInfoModalProps> = ({\r\n  gameState,\r\n  isVisible,\r\n  onToggle,\r\n  onPassTurn,\r\n  onToggleLog,\r\n  onCardClick,\r\n  devMode = false\r\n}) => {\r\n  const [position, setPosition] = useState<Position>({ x: 50, y: 50 });\r\n  const [size, setSize] = useState<Size>({ width: 320, height: 400 });\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [isResizing, setIsResizing] = useState(false);\r\n  const [dragStart, setDragStart] = useState<Position>({ x: 0, y: 0 });\r\n  const [resizeStart, setResizeStart] = useState<{ pos: Position; size: Size }>({\r\n    pos: { x: 0, y: 0 },\r\n    size: { width: 0, height: 0 }\r\n  });\r\n  const [currentInfluence, setCurrentInfluence] = useState({ player: 0, opponent: 0 });\r\n  const [influenceAnimation, setInfluenceAnimation] = useState<{\r\n    player: 'none' | 'success' | 'loss' | 'losing' | 'winning';\r\n    opponent: 'none' | 'success' | 'loss' | 'losing' | 'winning';\r\n  }>({ player: 'none', opponent: 'none' });\r\n  const [showPassConfirmation, setShowPassConfirmation] = useState(false);\r\n\r\n  const modalRef = useRef<HTMLDivElement>(null);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  // Reset pass confirmation after 3 seconds\r\n  useEffect(() => {\r\n    if (showPassConfirmation) {\r\n      const timer = setTimeout(() => {\r\n        setShowPassConfirmation(false);\r\n      }, 3000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [showPassConfirmation]);\r\n\r\n  // Calculate current influence\r\n  const calculateInfluence = useCallback(() => {\r\n    // Regelwerk: Alle Karten auf dem Board zählen für Einfluss\r\n    const calculatePlayerInfluence = (player: 1 | 2): number => {\r\n      let totalInfluence = 0;\r\n\r\n      // Count influence from cards on board (innen + aussen)\r\n      const playerBoard = gameState.board[player];\r\n      [...playerBoard.innen, ...playerBoard.aussen].forEach(card => {\r\n        if (card.kind === 'pol') {\r\n          const base = (card as any).influence || 0;\r\n          const buffs = (card as any).tempBuffs || 0;\r\n          const debuffs = (card as any).tempDebuffs || 0;\r\n          totalInfluence += base + buffs - debuffs;\r\n        }\r\n      });\r\n\r\n      // Count influence from permanent slots\r\n      const permanentSlots = gameState.permanentSlots[player];\r\n      if (permanentSlots.government && permanentSlots.government.kind === 'pol') {\r\n        const c = permanentSlots.government as any;\r\n        totalInfluence += (c.influence || 0) + (c.tempBuffs||0) - (c.tempDebuffs||0);\r\n      }\r\n      if (permanentSlots.public && permanentSlots.public.kind === 'pol') {\r\n        const c = permanentSlots.public as any;\r\n        totalInfluence += (c.influence || 0) + (c.tempBuffs||0) - (c.tempDebuffs||0);\r\n      }\r\n\r\n      return totalInfluence;\r\n    };\r\n\r\n    const playerInfluence = calculatePlayerInfluence(1);\r\n    const opponentInfluence = calculatePlayerInfluence(2);\r\n\r\n    return { player: playerInfluence, opponent: opponentInfluence };\r\n  }, [gameState]);\r\n\r\n  // Update influence and trigger animations\r\n  useEffect(() => {\r\n    const newInfluence = calculateInfluence();\r\n    const prevPlayer = currentInfluence.player;\r\n    const prevOpponent = currentInfluence.opponent;\r\n\r\n    // Determine animation types\r\n    let playerAnim: typeof influenceAnimation.player = 'none';\r\n    let opponentAnim: typeof influenceAnimation.opponent = 'none';\r\n\r\n    if (newInfluence.player > prevPlayer) {\r\n      playerAnim = 'success';\r\n    } else if (newInfluence.player < prevPlayer) {\r\n      playerAnim = 'loss';\r\n    }\r\n\r\n    if (newInfluence.opponent > prevOpponent) {\r\n      opponentAnim = 'success';\r\n    } else if (newInfluence.opponent < prevOpponent) {\r\n      opponentAnim = 'loss';\r\n    }\r\n\r\n    // Check winning/losing status\r\n    if (newInfluence.player > newInfluence.opponent) {\r\n      playerAnim = playerAnim === 'none' ? 'winning' : playerAnim;\r\n      opponentAnim = opponentAnim === 'none' ? 'losing' : opponentAnim;\r\n    } else if (newInfluence.opponent > newInfluence.player) {\r\n      playerAnim = playerAnim === 'none' ? 'losing' : playerAnim;\r\n      opponentAnim = opponentAnim === 'none' ? 'winning' : opponentAnim;\r\n    }\r\n\r\n    // Only update influence state when it actually changes to prevent loops\r\n    if (newInfluence.player !== prevPlayer || newInfluence.opponent !== prevOpponent) {\r\n      setCurrentInfluence(newInfluence);\r\n    }\r\n\r\n    // Avoid unnecessary animation state churn\r\n    setInfluenceAnimation(prev => {\r\n      const next = { player: playerAnim, opponent: opponentAnim } as typeof prev;\r\n      if (prev.player === next.player && prev.opponent === next.opponent) return prev;\r\n      return next;\r\n    });\r\n\r\n    // Reset animations after delay\r\n    const timer = setTimeout(() => {\r\n      setInfluenceAnimation(prev => (prev.player === 'none' && prev.opponent === 'none' ? prev : { player: 'none', opponent: 'none' }));\r\n    }, 1000);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, [gameState, calculateInfluence]);\r\n\r\n  // Check if a player has matchball (needs only 1 more round to win or leading by 3+ influence)\r\n  const getMatchballStatus = () => {\r\n    // Check rounds won first\r\n    const player1Wins = gameState.roundsWon[1];\r\n    const player2Wins = gameState.roundsWon[2];\r\n\r\n    if (player1Wins === 1 && player2Wins < 1) {\r\n      return { player: 1, hasMatchball: true };\r\n    } else if (player2Wins === 1 && player1Wins < 1) {\r\n      return { player: 2, hasMatchball: true };\r\n    }\r\n\r\n    // Check current influence lead (3+ points = matchball)\r\n    const p1Influence = currentInfluence.player;\r\n    const p2Influence = currentInfluence.opponent;\r\n    const leadDifference = Math.abs(p1Influence - p2Influence);\r\n\r\n    if (leadDifference >= 3) {\r\n      return {\r\n        hasMatchball: true,\r\n        player: p1Influence > p2Influence ? 1 : 2\r\n      };\r\n    }\r\n\r\n    return { player: null, hasMatchball: false };\r\n  };\r\n\r\n  // Mouse handlers for dragging\r\n  const handleMouseDown = useCallback((e: React.MouseEvent) => {\r\n    if ((e.target as HTMLElement).classList.contains('resize-handle')) return;\r\n    setIsDragging(true);\r\n    setDragStart({\r\n      x: e.clientX - position.x,\r\n      y: e.clientY - position.y\r\n    });\r\n  }, [position]);\r\n\r\n  const handleMouseMove = useCallback((e: MouseEvent) => {\r\n    if (isDragging) {\r\n      setPosition({\r\n        x: e.clientX - dragStart.x,\r\n        y: e.clientY - dragStart.y\r\n      });\r\n    } else if (isResizing) {\r\n      const newWidth = Math.max(250, e.clientX - resizeStart.pos.x + resizeStart.size.width);\r\n      const newHeight = Math.max(300, e.clientY - resizeStart.pos.y + resizeStart.size.height);\r\n      setSize({ width: newWidth, height: newHeight });\r\n    }\r\n  }, [isDragging, isResizing, dragStart, resizeStart]);\r\n\r\n  const handleMouseUp = useCallback(() => {\r\n    setIsDragging(false);\r\n    setIsResizing(false);\r\n  }, []);\r\n\r\n  // Resize handle\r\n  const handleResizeStart = useCallback((e: React.MouseEvent) => {\r\n    e.stopPropagation();\r\n    setIsResizing(true);\r\n    setResizeStart({\r\n      pos: { x: e.clientX, y: e.clientY },\r\n      size: { ...size }\r\n    });\r\n  }, [size]);\r\n\r\n  useEffect(() => {\r\n    if (isDragging || isResizing) {\r\n      document.addEventListener('mousemove', handleMouseMove);\r\n      document.addEventListener('mouseup', handleMouseUp);\r\n      return () => {\r\n        document.removeEventListener('mousemove', handleMouseMove);\r\n        document.removeEventListener('mouseup', handleMouseUp);\r\n      };\r\n    }\r\n  }, [isDragging, isResizing, handleMouseMove, handleMouseUp]);\r\n\r\n  // Get game phase text\r\n  const getGamePhase = () => {\r\n    if (gameState.passed[1] && gameState.passed[2]) {\r\n      return 'Round Evaluation';\r\n    }\r\n    return `Round ${gameState.round}`;\r\n  };\r\n\r\n  // Get player turn text with detailed status\r\n  const getPlayerTurn = () => {\r\n    if (gameState.passed[1] && gameState.passed[2]) {\r\n      return 'Round ended - Evaluation running';\r\n    }\r\n\r\n    const currentPlayer = gameState.current;\r\n    const remainingAP = gameState.actionPoints[currentPlayer];\r\n\r\n    if (currentPlayer === 1) {\r\n      if (remainingAP <= 0) {\r\n        return 'Your turn ended - Click to continue';\r\n      }\r\n      return `Your turn - ${remainingAP} AP`;\r\n    } else {\r\n      if (remainingAP <= 0) {\r\n        return 'Opponent turn ended';\r\n      }\r\n      return `Opponent's turn - ${remainingAP} AP`;\r\n    }\r\n  };\r\n\r\n  // Influence animation styles\r\n  const getInfluenceStyle = (type: typeof influenceAnimation.player) => {\r\n    const baseStyle = {\r\n      fontSize: '32px',\r\n      fontWeight: 'bold',\r\n      textAlign: 'center' as const,\r\n      transition: 'all 0.3s ease',\r\n      textShadow: '0 0 8px rgba(0,0,0,0.5)'\r\n    };\r\n\r\n    switch (type) {\r\n      case 'success':\r\n        return { ...baseStyle, color: '#4ade80', transform: 'scale(1.2)', textShadow: '0 0 12px #4ade80' };\r\n      case 'loss':\r\n        return { ...baseStyle, color: '#ef4444', transform: 'scale(0.9)', textShadow: '0 0 12px #ef4444' };\r\n      case 'winning':\r\n        return { ...baseStyle, color: '#fbbf24', textShadow: '0 0 8px #fbbf24' };\r\n      case 'losing':\r\n        return { ...baseStyle, color: '#374151', textShadow: '0 0 8px #374151' };\r\n      default:\r\n        return { ...baseStyle, color: '#e5e7eb' };\r\n    }\r\n  };\r\n\r\n  if (!isVisible) return null;\r\n\r\n  return (\r\n    <div\r\n      ref={modalRef}\r\n      style={{\r\n        position: 'fixed',\r\n        left: position.x,\r\n        top: position.y,\r\n        width: size.width,\r\n        height: size.height,\r\n        background: 'rgba(13, 22, 33, 0.05)',\r\n        border: '1px solid rgba(255, 255, 255, 1)',\r\n        borderRadius: '12px',\r\n        backdropFilter: 'blur(2px)',\r\n        zIndex: 1000,\r\n        cursor: isDragging ? 'grabbing' : 'grab',\r\n        userSelect: 'none',\r\n        boxShadow: '0 4px 12px rgba(0, 0, 0, 0.15)',\r\n      }}\r\n      onMouseDown={handleMouseDown}\r\n    >\r\n      {/* Header - AP Counter and Pass Button */}\r\n      <div style={{\r\n        padding: '12px 16px',\r\n        borderBottom: '1px solid rgba(255, 255, 255, 0.3)',\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center'\r\n      }}>\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\r\n          <div style={{ color: '#e5e7eb', fontSize: '14px', fontWeight: '600' }}>\r\n            AP\r\n          </div>\r\n          <div style={{ display: 'flex', gap: '6px', alignItems: 'center' }}>\r\n            {[0, 1].map((index) => {\r\n              const currentPlayer = gameState.current;\r\n              const remainingAP = gameState.actionPoints[currentPlayer];\r\n              const isUsed = index >= remainingAP;\r\n              return (\r\n                <div\r\n                  key={index}\r\n                  style={{\r\n                    width: '12px',\r\n                    height: '12px',\r\n                    borderRadius: '50%',\r\n                    background: isUsed\r\n                      ? 'rgba(239, 68, 68, 0.8)'\r\n                      : 'rgba(34, 197, 94, 0.9)',\r\n                    boxShadow: isUsed\r\n                      ? '0 0 8px rgba(239, 68, 68, 0.6)'\r\n                      : '0 0 12px rgba(34, 197, 94, 0.8)',\r\n                    border: isUsed\r\n                      ? '1px solid rgba(239, 68, 68, 1)'\r\n                      : '1px solid rgba(34, 197, 94, 1)',\r\n                    transition: 'all 0.3s ease'\r\n                  }}\r\n                />\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Action Buttons - Show for current player (P1 always, P2 only in dev mode) */}\r\n        {((gameState.current === 1 && !gameState.passed[1]) || (devMode && gameState.current === 2 && !gameState.passed[2])) && (\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n\r\n            {/* End Turn Button - Blue */}\r\n            <button\r\n              onClick={() => {\r\n                console.log(`🔧 DEBUG: End turn clicked for player ${gameState.current}`);\r\n                onCardClick({ type: 'button_end_turn', player: gameState.current });\r\n              }}\r\n              style={{\r\n                background: 'linear-gradient(45deg, #3b82f6, #2563eb)',\r\n                border: 'none',\r\n                borderRadius: '6px',\r\n                padding: '6px 12px',\r\n                color: 'white',\r\n                fontSize: '12px',\r\n                fontWeight: '600',\r\n                cursor: 'pointer',\r\n                boxShadow: '0 2px 8px rgba(59, 130, 246, 0.4)',\r\n                transition: 'all 0.2s ease'\r\n              }}\r\n              onMouseEnter={(e) => {\r\n                e.currentTarget.style.transform = 'scale(1.05)';\r\n              }}\r\n              onMouseLeave={(e) => {\r\n                e.currentTarget.style.transform = 'scale(1)';\r\n              }}\r\n              title=\"Ends only your turn – the round continues.\"\r\n            >\r\n              End Turn\r\n            </button>\r\n\r\n            {/* Pass Button - Red */}\r\n            {showPassConfirmation ? (\r\n              <button\r\n                onClick={() => {\r\n                  console.log(`🔧 DEBUG: Pass confirmation clicked for player ${gameState.current}`);\r\n                  onCardClick({ type: 'button_pass_turn', player: gameState.current });\r\n                  setShowPassConfirmation(false);\r\n                }}\r\n                style={{\r\n                  background: 'linear-gradient(45deg, #dc2626, #b91c1c)',\r\n                  border: 'none',\r\n                  borderRadius: '6px',\r\n                  padding: '6px 12px',\r\n                  color: 'white',\r\n                  fontSize: '12px',\r\n                  fontWeight: '600',\r\n                  cursor: 'pointer',\r\n                  boxShadow: '0 2px 8px rgba(220, 38, 38, 0.4)',\r\n                  transition: 'all 0.2s ease'\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  e.currentTarget.style.transform = 'scale(1.05)';\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.currentTarget.style.transform = 'scale(1)';\r\n                }}\r\n              >\r\n                Really Pass\r\n              </button>\r\n            ) : (\r\n              <button\r\n                onClick={() => setShowPassConfirmation(true)}\r\n                style={{\r\n                  background: 'linear-gradient(45deg, #ef4444, #dc2626)',\r\n                  border: 'none',\r\n                  borderRadius: '6px',\r\n                  padding: '6px 12px',\r\n                  color: 'white',\r\n                  fontSize: '12px',\r\n                  fontWeight: '600',\r\n                  cursor: 'pointer',\r\n                  boxShadow: '0 2px 8px rgba(239, 68, 68, 0.4)',\r\n                  transition: 'all 0.2s ease'\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  e.currentTarget.style.transform = 'scale(1.05)';\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.currentTarget.style.transform = 'scale(1)';\r\n                }}\r\n              >\r\n                Pass\r\n              </button>\r\n            )}\r\n\r\n\r\n          </div>\r\n        )}\r\n\r\n        <button\r\n          onClick={onToggle}\r\n          style={{\r\n            background: 'none',\r\n            border: 'none',\r\n            color: '#9ca3af',\r\n            fontSize: '18px',\r\n            cursor: 'pointer',\r\n            padding: '4px'\r\n          }}\r\n        >\r\n          ×\r\n        </button>\r\n\r\n        {/* Log Button */}\r\n        <button\r\n          onClick={onToggleLog}\r\n          style={{\r\n            background: 'linear-gradient(45deg, #8b5cf6, #7c3aed)',\r\n            border: 'none',\r\n            borderRadius: '6px',\r\n            padding: '6px 12px',\r\n            color: 'white',\r\n            fontSize: '12px',\r\n            fontWeight: '600',\r\n            cursor: 'pointer',\r\n            boxShadow: '0 2px 8px rgba(139, 92, 246, 0.4)',\r\n            transition: 'all 0.2s ease',\r\n            marginRight: '8px',\r\n          }}\r\n          onMouseEnter={(e) => {\r\n            e.currentTarget.style.transform = 'scale(1.05)';\r\n          }}\r\n          onMouseLeave={(e) => {\r\n            e.currentTarget.style.transform = 'scale(1)';\r\n          }}\r\n        >\r\n          📋 Log\r\n        </button>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div style={{ padding: '16px', height: 'calc(100% - 60px)', display: 'flex', flexDirection: 'column', gap: '16px' }}>\r\n\r\n        {/* Game End Victory Screen */}\r\n        {gameState.gameWinner && (\r\n          <div style={{\r\n            position: 'absolute',\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            background: 'linear-gradient(135deg, rgba(0, 255, 136, 0.95), rgba(34, 197, 94, 0.95))',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n            zIndex: 1000,\r\n            borderRadius: '12px',\r\n            backdropFilter: 'blur(8px)',\r\n            animation: 'victoryPulse 2s infinite'\r\n          }}>\r\n            <div style={{\r\n              fontSize: '48px',\r\n              marginBottom: '16px',\r\n              animation: 'bounce 1s infinite'\r\n            }}>\r\n              🏆\r\n            </div>\r\n            <div style={{\r\n              color: 'white',\r\n              fontSize: '24px',\r\n              fontWeight: '800',\r\n              textAlign: 'center',\r\n              marginBottom: '8px',\r\n              textShadow: '0 2px 8px rgba(0, 0, 0, 0.5)'\r\n            }}>\r\n              {gameState.gameWinner === 1 ? 'YOU WIN!' : 'OPPONENT WINS!'}\r\n            </div>\r\n            <div style={{\r\n              color: 'rgba(255, 255, 255, 0.9)',\r\n              fontSize: '18px',\r\n              fontWeight: '600',\r\n              textAlign: 'center',\r\n              marginBottom: '12px',\r\n              textShadow: '0 1px 4px rgba(0, 0, 0, 0.3)'\r\n            }}>\r\n              Player {gameState.gameWinner} is the winner!\r\n            </div>\r\n            <div style={{\r\n              color: 'rgba(255, 255, 255, 0.8)',\r\n              fontSize: '16px',\r\n              fontWeight: '500',\r\n              textAlign: 'center',\r\n              background: 'rgba(255, 255, 255, 0.2)',\r\n              padding: '8px 16px',\r\n              borderRadius: '8px',\r\n              backdropFilter: 'blur(4px)'\r\n            }}>\r\n              Round Standings: {gameState.roundsWon[1]} - {gameState.roundsWon[2]}\r\n            </div>\r\n          </div>\r\n        )}\r\n        {/* Game Phase with Matchball */}\r\n        <div style={{ textAlign: 'center' }}>\r\n          <div style={{ color: '#9ca3af', fontSize: '12px', marginBottom: '4px' }}>\r\n            Game Phase\r\n          </div>\r\n          <div style={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            gap: '12px',\r\n            flexWrap: 'wrap'\r\n          }}>\r\n            <div style={{ color: '#e5e7eb', fontSize: '16px', fontWeight: '600' }}>\r\n              {getGamePhase()}\r\n            </div>\r\n            {(() => {\r\n              const matchball = getMatchballStatus();\r\n              if (matchball.hasMatchball) {\r\n                const isPlayer = matchball.player === 1;\r\n                return (\r\n                  <div\r\n                    style={{\r\n                      color: isPlayer ? '#00ff88' : '#ff6b6b',\r\n                      fontSize: '14px',\r\n                      fontWeight: '700',\r\n                      textShadow: `0 0 8px ${isPlayer ? '#00ff88' : '#ff6b6b'}`,\r\n                      animation: 'matchballPulse 2s ease-in-out infinite',\r\n                      padding: '4px 8px',\r\n                      border: `1px solid ${isPlayer ? '#00ff88' : '#ff6b6b'}`,\r\n                      borderRadius: '12px',\r\n                      backgroundColor: `${isPlayer ? '#00ff8820' : '#ff6b6b20'}`,\r\n                    }}\r\n                  >\r\n                    {isPlayer ? '🎯 MATCHBALL' : '⚠️ MATCHBALL'}\r\n                  </div>\r\n                );\r\n              }\r\n              return null;\r\n            })()}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Player Turn */}\r\n        <div style={{ textAlign: 'center' }}>\r\n          <div style={{ color: '#9ca3af', fontSize: '12px', marginBottom: '4px' }}>\r\n            Status\r\n          </div>\r\n          <div style={{\r\n            color: '#fbbf24',\r\n            fontSize: '14px',\r\n            fontWeight: '500',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            gap: '8px'\r\n          }}>\r\n            <Icon name=\"start_of_turn\" size={14} />\r\n            <span>Your turn – </span>\r\n            <Icon name=\"ap\" size={14} />\r\n            <strong>{gameState.actionPoints[1]}</strong>\r\n            <span> (action points)</span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Action Points */}\r\n        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '12px', marginBottom: '8px' }}>\r\n          <div style={{ textAlign: 'center' }}>\r\n            <div style={{\r\n              color: '#9ca3af',\r\n              fontSize: '11px',\r\n              marginBottom: '4px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              gap: '6px'\r\n            }}>\r\n              <Icon name=\"ap\" size={12} />\r\n              Your AP\r\n            </div>\r\n            <div style={{\r\n              color: gameState.actionPoints[1] > 0 ? '#00ff88' : '#ef4444',\r\n              fontSize: '18px',\r\n              fontWeight: '700',\r\n              textShadow: '0 0 4px currentColor'\r\n            }}>\r\n              {gameState.actionPoints[1]}\r\n            </div>\r\n          </div>\r\n          <div style={{ textAlign: 'center' }}>\r\n            <div style={{\r\n              color: '#9ca3af',\r\n              fontSize: '11px',\r\n              marginBottom: '4px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              gap: '6px'\r\n            }}>\r\n              <Icon name=\"ap\" size={12} />\r\n              Opponent AP\r\n            </div>\r\n            <div style={{\r\n              color: gameState.actionPoints[2] > 0 ? '#00ff88' : '#ef4444',\r\n              fontSize: '18px',\r\n              fontWeight: '700',\r\n              textShadow: '0 0 4px currentColor'\r\n            }}>\r\n              {gameState.actionPoints[2]}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Influence Points */}\r\n        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '12px' }}>\r\n          <div style={{ textAlign: 'center' }}>\r\n            <div style={{\r\n              color: '#9ca3af',\r\n              fontSize: '11px',\r\n              marginBottom: '4px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              gap: '6px'\r\n            }}>\r\n              <Icon name=\"influence\" size={12} />\r\n              Your Influence\r\n            </div>\r\n            <div style={getInfluenceStyle(influenceAnimation.player)}>\r\n              {currentInfluence.player}\r\n            </div>\r\n          </div>\r\n          <div style={{ textAlign: 'center' }}>\r\n            <div style={{ color: '#9ca3af', fontSize: '11px', marginBottom: '4px' }}>\r\n              Opponent Influence\r\n            </div>\r\n            <div style={getInfluenceStyle(influenceAnimation.opponent)}>\r\n              {currentInfluence.opponent}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Round Wins Counter */}\r\n        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '12px', marginTop: '8px' }}>\r\n          <div style={{ textAlign: 'center' }}>\r\n            <div style={{ color: '#9ca3af', fontSize: '11px', marginBottom: '4px' }}>\r\n              Your Rounds\r\n            </div>\r\n            <div style={{\r\n              color: gameState.roundsWon[1] >= 2 ? '#00ff88' : '#fbbf24',\r\n              fontSize: '18px',\r\n              fontWeight: '700',\r\n              textShadow: '0 0 4px currentColor'\r\n            }}>\r\n              {gameState.roundsWon[1]}/3\r\n              {gameState.roundsWon[1] >= 2 && (\r\n                <span style={{\r\n                  marginLeft: '8px',\r\n                  fontSize: '14px',\r\n                  animation: 'matchballPulse 1.5s infinite'\r\n                }}>\r\n                  🏆\r\n                </span>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div style={{ textAlign: 'center' }}>\r\n            <div style={{ color: '#9ca3af', fontSize: '11px', marginBottom: '4px' }}>\r\n              Opponent Rounds\r\n            </div>\r\n            <div style={{\r\n              color: gameState.roundsWon[2] >= 2 ? '#00ff88' : '#fbbf24',\r\n              fontSize: '18px',\r\n              fontWeight: '700',\r\n              textShadow: '0 0 4px currentColor'\r\n            }}>\r\n              {gameState.roundsWon[2]}/3\r\n              {gameState.roundsWon[2] >= 2 && (\r\n                <span style={{\r\n                  marginLeft: '8px',\r\n                  fontSize: '14px',\r\n                  animation: 'matchballPulse 1.5s infinite'\r\n                }}>\r\n                  🏆\r\n                </span>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n\r\n      </div>\r\n\r\n      {/* Resize Handle */}\r\n      <div\r\n        className=\"resize-handle\"\r\n        style={{\r\n          position: 'absolute',\r\n          bottom: 0,\r\n          right: 0,\r\n          width: '16px',\r\n          height: '16px',\r\n          background: 'rgba(255, 255, 255, 0.6)',\r\n          cursor: 'nw-resize',\r\n          borderRadius: '0 0 12px 0',\r\n          clipPath: 'polygon(100% 0, 0 100%, 100% 100%)'\r\n        }}\r\n        onMouseDown={handleResizeStart}\r\n      />\r\n\r\n      <style>{`\r\n        @keyframes matchballPulse {\r\n          0%, 100% {\r\n            transform: scale(1);\r\n            opacity: 0.8;\r\n          }\r\n          50% {\r\n            transform: scale(1.05);\r\n            opacity: 1;\r\n          }\r\n        }\r\n        @keyframes victoryPulse {\r\n          0%, 100% {\r\n            transform: scale(1);\r\n            box-shadow: 0 0 20px rgba(0, 255, 136, 0.6);\r\n          }\r\n          50% {\r\n            transform: scale(1.02);\r\n            box-shadow: 0 0 40px rgba(0, 255, 136, 0.8);\r\n          }\r\n        }\r\n        @keyframes bounce {\r\n          0%, 20%, 50%, 80%, 100% {\r\n            transform: translateY(0);\r\n          }\r\n          40% {\r\n            transform: translateY(-10px);\r\n          }\r\n          60% {\r\n            transform: translateY(-5px);\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}