{"ast":null,"code":"import React,{createContext,useContext,useRef,useMemo,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VisualEffectsContext=/*#__PURE__*/createContext(undefined);export function VisualEffectsProvider(_ref){let{children}=_ref;const particlesRef=useRef([]);const popsRef=useRef([]);const ripplesRef=useRef([]);const apLabelsRef=useRef([]);const gifOverlaysRef=useRef([]);const spawnedGifIdsRef=useRef(new Set());const playAnimsRef=useRef([]);const reducedMotion=typeof window!=='undefined'&&window.matchMedia&&window.matchMedia('(prefers-reduced-motion: reduce)').matches||!!window.__pc_reduced_motion;const spawnParticles=function(cx,cy){let count=arguments.length>2&&arguments[2]!==undefined?arguments[2]:12;if(reducedMotion)return;const now=performance.now();for(let i=0;i<count;i++){particlesRef.current.push({start:now,life:600+Math.random()*500,x:cx+(Math.random()-0.5)*48,y:cy+(Math.random()-0.5)*48,vx:(Math.random()-0.5)*6,vy:-Math.random()*6,size:3+Math.random()*6,color:['#ffd166','#ff6b6b','#4ade80'][Math.floor(Math.random()*3)],gravity:0.12});}};const spawnPop=uid=>{popsRef.current.push({uid,started:performance.now(),duration:420});};const spawnRipple=(cx,cy,opts)=>{var _opts$radius;if(reducedMotion)return;ripplesRef.current.push({cx,cy,started:performance.now(),duration:opts!==null&&opts!==void 0&&opts.radius?700:700,radius:(_opts$radius=opts===null||opts===void 0?void 0:opts.radius)!==null&&_opts$radius!==void 0?_opts$radius:480,showAp:!!(opts!==null&&opts!==void 0&&opts.showAp),apX:opts===null||opts===void 0?void 0:opts.apX,apY:opts===null||opts===void 0?void 0:opts.apY});if(opts!==null&&opts!==void 0&&opts.showAp){var _opts$apX,_opts$apY;apLabelsRef.current.push({x:(_opts$apX=opts.apX)!==null&&_opts$apX!==void 0?_opts$apX:cx,y:(_opts$apY=opts.apY)!==null&&_opts$apY!==void 0?_opts$apY:cy,started:performance.now(),duration:900,text:'+1'});}};const spawnGifOverlay=opts=>{if(reducedMotion)return;try{var _opts$id,_opts$duration,_opts$duration2;const id=(_opts$id=opts.id)!==null&&_opts$id!==void 0?_opts$id:\"\".concat(opts.src,\"_\").concat(Date.now(),\"_\").concat(Math.random());// Dedupe by id to avoid double-spawning the same overlay in quick succession\nif(spawnedGifIdsRef.current.has(id))return;spawnedGifIdsRef.current.add(id);gifOverlaysRef.current.push({id,cx:opts.cx,cy:opts.cy,w:opts.w,h:opts.h,src:opts.src,started:performance.now(),duration:(_opts$duration=opts.duration)!==null&&_opts$duration!==void 0?_opts$duration:700});console.debug('[VisualEffects] spawnGifOverlay queued',{id,cx:opts.cx,cy:opts.cy,w:opts.w,h:opts.h,src:opts.src,duration:opts.duration});// schedule removal after duration\nsetTimeout(()=>{const idx=gifOverlaysRef.current.findIndex(g=>g.id===id);if(idx>=0)gifOverlaysRef.current.splice(idx,1);spawnedGifIdsRef.current.delete(id);console.debug('[VisualEffects] spawnGifOverlay removed',id);},(_opts$duration2=opts.duration)!==null&&_opts$duration2!==void 0?_opts$duration2:700);}catch(e){}};const value=useMemo(()=>({particlesRef,popsRef,ripplesRef,apLabelsRef,reducedMotion,spawnParticles,spawnPop,spawnRipple,gifOverlaysRef,playAnimsRef,spawnGifOverlay}),[]);// Expose value for non-hook callsites (fallback)\nReact.useEffect(()=>{try{window.__pc_visual_effects=value;}catch(e){}return()=>{try{window.__pc_visual_effects=undefined;}catch(e){}};},[value]);return/*#__PURE__*/_jsxs(VisualEffectsContext.Provider,{value:value,children:[children,/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',left:0,top:0,pointerEvents:'none',width:'100%',height:'100%',zIndex:800},children:gifOverlaysRef.current.map(g=>{const age=Math.min(1,Math.max(0,(performance.now()-g.started)/g.duration));const alpha=1-age;// fade out\nconst sizeW=g.w;const sizeH=g.h;const style={position:'absolute',left:g.cx,top:g.cy,width:sizeW,height:sizeH,opacity:alpha,transform:'translate(-50%, -50%) translateZ(0)',transition:'opacity 120ms linear',pointerEvents:'none'};// Render video (WebM) when available by convention: replace .gif -> .webm\nconst OverlayMedia=_ref2=>{let{src,style,alt}=_ref2;const[useVideo,setUseVideo]=useState(true);const webm=String(src).replace(/\\.gif$/i,'.webm');if(useVideo){return/*#__PURE__*/_jsx(\"video\",{src:webm,style:style,autoPlay:true,muted:true,playsInline:true,loop:true,onError:()=>setUseVideo(false)},String(g.id)+'_video');}return/*#__PURE__*/_jsx(\"img\",{src:src,style:style,alt:alt},String(g.id)+'_img');};return/*#__PURE__*/_jsx(OverlayMedia,{src:g.src,style:style,alt:\"effect\"});})})]});}export function useVisualEffects(){const ctx=useContext(VisualEffectsContext);if(!ctx)throw new Error('useVisualEffects must be used within VisualEffectsProvider');return ctx;}// Safe variant that returns null when no provider is present. Use this when a caller\n// cannot guarantee being rendered inside the provider (avoids rules-of-hooks errors\n// when attempting to call hooks conditionally).\nexport function useVisualEffectsSafe(){return useContext(VisualEffectsContext)||null;}export default VisualEffectsContext;","map":{"version":3,"names":["React","createContext","useContext","useRef","useMemo","useState","jsx","_jsx","jsxs","_jsxs","VisualEffectsContext","undefined","VisualEffectsProvider","_ref","children","particlesRef","popsRef","ripplesRef","apLabelsRef","gifOverlaysRef","spawnedGifIdsRef","Set","playAnimsRef","reducedMotion","window","matchMedia","matches","__pc_reduced_motion","spawnParticles","cx","cy","count","arguments","length","now","performance","i","current","push","start","life","Math","random","x","y","vx","vy","size","color","floor","gravity","spawnPop","uid","started","duration","spawnRipple","opts","_opts$radius","radius","showAp","apX","apY","_opts$apX","_opts$apY","text","spawnGifOverlay","_opts$id","_opts$duration","_opts$duration2","id","concat","src","Date","has","add","w","h","console","debug","setTimeout","idx","findIndex","g","splice","delete","e","value","useEffect","__pc_visual_effects","Provider","style","position","left","top","pointerEvents","width","height","zIndex","map","age","min","max","alpha","sizeW","sizeH","opacity","transform","transition","OverlayMedia","_ref2","alt","useVideo","setUseVideo","webm","String","replace","autoPlay","muted","playsInline","loop","onError","useVisualEffects","ctx","Error","useVisualEffectsSafe"],"sources":["C:/Users/skank/Videos/Cards/Milchcards/src/context/VisualEffectsContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useRef, ReactNode, useMemo, useState } from 'react';\n\ntype Particle = { start: number; life: number; x: number; y: number; vx: number; vy: number; size?: number; color?: string; gravity?: number };\ntype Pop = { uid: number | string; started: number; duration: number };\ntype Ripple = { cx: number; cy: number; started: number; duration: number; radius: number; showAp?: boolean; apX?: number; apY?: number; _apSpawned?: boolean };\ntype ApLabel = { x: number; y: number; started: number; duration: number; text: string };\n\ninterface VisualEffectsContextType {\n  particlesRef: React.MutableRefObject<Particle[]>;\n  popsRef: React.MutableRefObject<Pop[]>;\n  ripplesRef: React.MutableRefObject<Ripple[]>;\n  apLabelsRef: React.MutableRefObject<ApLabel[]>;\n  reducedMotion: boolean;\n  spawnParticles: (cx: number, cy: number, count?: number) => void;\n  spawnPop: (uid: number | string) => void;\n  spawnRipple: (cx: number, cy: number, opts?: { radius?: number; showAp?: boolean; apX?: number; apY?: number }) => void;\n  // New: gif overlays and per-card play animations\n  gifOverlaysRef: React.MutableRefObject<Array<{ id: string | number; cx: number; cy: number; w: number; h: number; src: string; started: number; duration: number }>>;\n  playAnimsRef: React.MutableRefObject<Array<{ uid: string | number; started: number; duration: number }>>;\n  spawnGifOverlay: (opts: { id?: string | number; cx: number; cy: number; w: number; h: number; src: string; duration?: number }) => void;\n}\n\nconst VisualEffectsContext = createContext<VisualEffectsContextType | undefined>(undefined);\n\nexport function VisualEffectsProvider({ children }: { children: ReactNode }) {\n  const particlesRef = useRef<Particle[]>([]);\n  const popsRef = useRef<Pop[]>([]);\n  const ripplesRef = useRef<Ripple[]>([]);\n  const apLabelsRef = useRef<ApLabel[]>([]);\n  const gifOverlaysRef = useRef<Array<{ id: string | number; cx: number; cy: number; w: number; h: number; src: string; started: number; duration: number }>>([]);\n  const spawnedGifIdsRef = useRef<Set<string|number>>(new Set());\n  const playAnimsRef = useRef<Array<{ uid: string | number; started: number; duration: number }>>([]);\n\n  const reducedMotion = typeof window !== 'undefined' && (window as any).matchMedia && (window as any).matchMedia('(prefers-reduced-motion: reduce)').matches || !!(window as any).__pc_reduced_motion;\n\n  const spawnParticles = (cx: number, cy: number, count = 12) => {\n    if (reducedMotion) return;\n    const now = performance.now();\n    for (let i = 0; i < count; i++) {\n      particlesRef.current.push({ start: now, life: 600 + Math.random() * 500, x: cx + (Math.random() - 0.5) * 48, y: cy + (Math.random() - 0.5) * 48, vx: (Math.random() - 0.5) * 6, vy: -Math.random() * 6, size: 3 + Math.random() * 6, color: ['#ffd166', '#ff6b6b', '#4ade80'][Math.floor(Math.random() * 3)], gravity: 0.12 });\n    }\n  };\n\n  const spawnPop = (uid: number | string) => {\n    popsRef.current.push({ uid, started: performance.now(), duration: 420 });\n  };\n\n  const spawnRipple = (cx: number, cy: number, opts?: { radius?: number; showAp?: boolean; apX?: number; apY?: number }) => {\n    if (reducedMotion) return;\n    ripplesRef.current.push({ cx, cy, started: performance.now(), duration: opts?.radius ? 700 : 700, radius: opts?.radius ?? 480, showAp: !!opts?.showAp, apX: opts?.apX, apY: opts?.apY });\n    if (opts?.showAp) {\n      apLabelsRef.current.push({ x: opts.apX ?? cx, y: opts.apY ?? cy, started: performance.now(), duration: 900, text: '+1' });\n    }\n  };\n\n  const spawnGifOverlay = (opts: { id?: string | number; cx: number; cy: number; w: number; h: number; src: string; duration?: number }) => {\n    if (reducedMotion) return;\n    try {\n      const id = opts.id ?? `${opts.src}_${Date.now()}_${Math.random()}`;\n      // Dedupe by id to avoid double-spawning the same overlay in quick succession\n      if (spawnedGifIdsRef.current.has(id)) return;\n      spawnedGifIdsRef.current.add(id);\n      gifOverlaysRef.current.push({ id, cx: opts.cx, cy: opts.cy, w: opts.w, h: opts.h, src: opts.src, started: performance.now(), duration: opts.duration ?? 700 });\n      console.debug('[VisualEffects] spawnGifOverlay queued', { id, cx: opts.cx, cy: opts.cy, w: opts.w, h: opts.h, src: opts.src, duration: opts.duration });\n      // schedule removal after duration\n      setTimeout(() => {\n        const idx = gifOverlaysRef.current.findIndex(g => g.id === id);\n        if (idx >= 0) gifOverlaysRef.current.splice(idx, 1);\n        spawnedGifIdsRef.current.delete(id);\n        console.debug('[VisualEffects] spawnGifOverlay removed', id);\n      }, opts.duration ?? 700);\n    } catch (e) {}\n  };\n\n  const value = useMemo(() => ({ particlesRef, popsRef, ripplesRef, apLabelsRef, reducedMotion, spawnParticles, spawnPop, spawnRipple, gifOverlaysRef, playAnimsRef, spawnGifOverlay }), []);\n  // Expose value for non-hook callsites (fallback)\n  React.useEffect(() => {\n    try {\n      (window as any).__pc_visual_effects = value;\n    } catch (e) {}\n    return () => { try { (window as any).__pc_visual_effects = undefined; } catch (e) {} };\n  }, [value]);\n\n  return <VisualEffectsContext.Provider value={value}>\n    {children}\n    {/* Render GIF overlays as absolutely positioned images on top of canvas */}\n    <div style={{ position: 'fixed', left: 0, top: 0, pointerEvents: 'none', width: '100%', height: '100%', zIndex: 800 }}>\n      {gifOverlaysRef.current.map(g => {\n        const age = Math.min(1, Math.max(0, (performance.now() - g.started) / g.duration));\n        const alpha = 1 - age; // fade out\n        const sizeW = g.w;\n        const sizeH = g.h;\n        const style: React.CSSProperties = {\n          position: 'absolute',\n          left: g.cx,\n          top: g.cy,\n          width: sizeW,\n          height: sizeH,\n          opacity: alpha,\n          transform: 'translate(-50%, -50%) translateZ(0)',\n          transition: 'opacity 120ms linear',\n          pointerEvents: 'none',\n        };\n        // Render video (WebM) when available by convention: replace .gif -> .webm\n        const OverlayMedia: React.FC<{ src: string; style: React.CSSProperties; alt?: string }> = ({ src, style, alt }) => {\n          const [useVideo, setUseVideo] = useState(true);\n          const webm = String(src).replace(/\\.gif$/i, '.webm');\n          if (useVideo) {\n            return (\n              <video\n                key={String(g.id) + '_video'}\n                src={webm}\n                style={style}\n                autoPlay\n                muted\n                playsInline\n                loop\n                onError={() => setUseVideo(false)}\n              />\n            );\n          }\n          return <img key={String(g.id) + '_img'} src={src} style={style} alt={alt} />;\n        };\n\n        return <OverlayMedia src={g.src} style={style} alt=\"effect\" />;\n      })}\n    </div>\n  </VisualEffectsContext.Provider>;\n}\n\nexport function useVisualEffects() {\n  const ctx = useContext(VisualEffectsContext);\n  if (!ctx) throw new Error('useVisualEffects must be used within VisualEffectsProvider');\n  return ctx;\n}\n\n// Safe variant that returns null when no provider is present. Use this when a caller\n// cannot guarantee being rendered inside the provider (avoids rules-of-hooks errors\n// when attempting to call hooks conditionally).\nexport function useVisualEffectsSafe() {\n  return useContext(VisualEffectsContext) || null;\n}\n\nexport default VisualEffectsContext;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}