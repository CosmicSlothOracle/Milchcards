{"ast":null,"code":"import _objectSpread from\"C:/Users/skank/Videos/Cards/Milchcards/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useRef,useCallback,useEffect}from'react';import{Icon}from'../ui/Icon';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const GameInfoModal=_ref=>{let{gameState,isVisible,onToggle,onPassTurn,onToggleLog,onCardClick,devMode=false}=_ref;const[position,setPosition]=useState({x:50,y:50});const[size,setSize]=useState({width:320,height:400});const[isDragging,setIsDragging]=useState(false);const[isResizing,setIsResizing]=useState(false);const[dragStart,setDragStart]=useState({x:0,y:0});const[resizeStart,setResizeStart]=useState({pos:{x:0,y:0},size:{width:0,height:0}});const[currentInfluence,setCurrentInfluence]=useState({player:0,opponent:0});const[influenceAnimation,setInfluenceAnimation]=useState({player:'none',opponent:'none'});const[showPassConfirmation,setShowPassConfirmation]=useState(false);const modalRef=useRef(null);// Position modal initially on the right side of the screen\nuseEffect(()=>{try{const rightX=Math.max(16,window.innerWidth-size.width-40);setPosition({x:rightX,y:50});}catch(e){// fallback: keep default position\n}},[]);// Reset pass confirmation after 3 seconds\nuseEffect(()=>{if(showPassConfirmation){const timer=setTimeout(()=>{setShowPassConfirmation(false);},3000);return()=>clearTimeout(timer);}},[showPassConfirmation]);// Calculate current influence\nconst calculateInfluence=useCallback(()=>{// Regelwerk: Alle Karten auf dem Board z√§hlen f√ºr Einfluss\nconst calculatePlayerInfluence=player=>{let totalInfluence=0;// Count influence from cards on board (innen + aussen)\nconst playerBoard=gameState.board[player];[...playerBoard.innen,...playerBoard.aussen].forEach(card=>{if(card.kind==='pol'){const base=card.influence||0;const buffs=card.tempBuffs||0;const debuffs=card.tempDebuffs||0;totalInfluence+=base+buffs-debuffs;}});// Count influence from permanent slots\nconst permanentSlots=gameState.permanentSlots[player];if(permanentSlots.government&&permanentSlots.government.kind==='pol'){const c=permanentSlots.government;totalInfluence+=(c.influence||0)+(c.tempBuffs||0)-(c.tempDebuffs||0);}if(permanentSlots.public&&permanentSlots.public.kind==='pol'){const c=permanentSlots.public;totalInfluence+=(c.influence||0)+(c.tempBuffs||0)-(c.tempDebuffs||0);}return totalInfluence;};const playerInfluence=calculatePlayerInfluence(1);const opponentInfluence=calculatePlayerInfluence(2);return{player:playerInfluence,opponent:opponentInfluence};},[gameState]);// Update influence and trigger animations\nuseEffect(()=>{const newInfluence=calculateInfluence();const prevPlayer=currentInfluence.player;const prevOpponent=currentInfluence.opponent;// Determine animation types\nlet playerAnim='none';let opponentAnim='none';if(newInfluence.player>prevPlayer){playerAnim='success';}else if(newInfluence.player<prevPlayer){playerAnim='loss';}if(newInfluence.opponent>prevOpponent){opponentAnim='success';}else if(newInfluence.opponent<prevOpponent){opponentAnim='loss';}// Check winning/losing status\nif(newInfluence.player>newInfluence.opponent){playerAnim=playerAnim==='none'?'winning':playerAnim;opponentAnim=opponentAnim==='none'?'losing':opponentAnim;}else if(newInfluence.opponent>newInfluence.player){playerAnim=playerAnim==='none'?'losing':playerAnim;opponentAnim=opponentAnim==='none'?'winning':opponentAnim;}// Only update influence state when it actually changes to prevent loops\nif(newInfluence.player!==prevPlayer||newInfluence.opponent!==prevOpponent){setCurrentInfluence(newInfluence);}// Avoid unnecessary animation state churn\nsetInfluenceAnimation(prev=>{const next={player:playerAnim,opponent:opponentAnim};if(prev.player===next.player&&prev.opponent===next.opponent)return prev;return next;});// Reset animations after delay\nconst timer=setTimeout(()=>{setInfluenceAnimation(prev=>prev.player==='none'&&prev.opponent==='none'?prev:{player:'none',opponent:'none'});},1000);return()=>clearTimeout(timer);},[gameState,calculateInfluence]);// Check if a player has matchball (needs only 1 more round to win or leading by 3+ influence)\nconst getMatchballStatus=()=>{// Check rounds won first\nconst player1Wins=gameState.roundsWon[1];const player2Wins=gameState.roundsWon[2];if(player1Wins===1&&player2Wins<1){return{player:1,hasMatchball:true};}else if(player2Wins===1&&player1Wins<1){return{player:2,hasMatchball:true};}// Check current influence lead (3+ points = matchball)\nconst p1Influence=currentInfluence.player;const p2Influence=currentInfluence.opponent;const leadDifference=Math.abs(p1Influence-p2Influence);if(leadDifference>=3){return{hasMatchball:true,player:p1Influence>p2Influence?1:2};}return{player:null,hasMatchball:false};};// Mouse handlers for dragging\nconst handleMouseDown=useCallback(e=>{if(e.target.classList.contains('resize-handle'))return;setIsDragging(true);setDragStart({x:e.clientX-position.x,y:e.clientY-position.y});},[position]);const handleMouseMove=useCallback(e=>{if(isDragging){setPosition({x:e.clientX-dragStart.x,y:e.clientY-dragStart.y});}else if(isResizing){const newWidth=Math.max(250,e.clientX-resizeStart.pos.x+resizeStart.size.width);const newHeight=Math.max(300,e.clientY-resizeStart.pos.y+resizeStart.size.height);setSize({width:newWidth,height:newHeight});}},[isDragging,isResizing,dragStart,resizeStart]);const handleMouseUp=useCallback(()=>{setIsDragging(false);setIsResizing(false);},[]);// Resize handle\nconst handleResizeStart=useCallback(e=>{e.stopPropagation();setIsResizing(true);setResizeStart({pos:{x:e.clientX,y:e.clientY},size:_objectSpread({},size)});},[size]);useEffect(()=>{if(isDragging||isResizing){document.addEventListener('mousemove',handleMouseMove);document.addEventListener('mouseup',handleMouseUp);return()=>{document.removeEventListener('mousemove',handleMouseMove);document.removeEventListener('mouseup',handleMouseUp);};}},[isDragging,isResizing,handleMouseMove,handleMouseUp]);// Get game phase text\nconst getGamePhase=()=>{if(gameState.passed[1]&&gameState.passed[2]){return'Round Evaluation';}return\"Round \".concat(gameState.round);};// Get player turn text with detailed status\nconst getPlayerTurn=()=>{if(gameState.passed[1]&&gameState.passed[2]){return'Round ended - Evaluation running';}const currentPlayer=gameState.current;const remainingAP=gameState.actionPoints[currentPlayer];if(currentPlayer===1){if(remainingAP<=0){return'Your turn ended - Click to continue';}return\"Your turn - \".concat(remainingAP,\" AP\");}else{if(remainingAP<=0){return'Opponent turn ended';}return\"Opponent's turn - \".concat(remainingAP,\" AP\");}};// Influence animation styles\nconst getInfluenceStyle=type=>{const baseStyle={fontSize:'32px',fontWeight:'bold',textAlign:'center',transition:'all 0.3s ease',textShadow:'0 0 8px rgba(0,0,0,0.5)'};switch(type){case'success':return _objectSpread(_objectSpread({},baseStyle),{},{color:'#4ade80',transform:'scale(1.2)',textShadow:'0 0 12px #4ade80'});case'loss':return _objectSpread(_objectSpread({},baseStyle),{},{color:'#ef4444',transform:'scale(0.9)',textShadow:'0 0 12px #ef4444'});case'winning':return _objectSpread(_objectSpread({},baseStyle),{},{color:'#fbbf24',textShadow:'0 0 8px #fbbf24'});case'losing':return _objectSpread(_objectSpread({},baseStyle),{},{color:'#374151',textShadow:'0 0 8px #374151'});default:return _objectSpread(_objectSpread({},baseStyle),{},{color:'#e5e7eb'});}};// Parse recent log entries into compact icon+number summaries\nconst parseActionSummary=entry=>{const list=[];const numMatch=entry.match(/([-+]?\\d+)/);const amount=numMatch?parseInt(numMatch[1],10):undefined;if(/draw|zieht/i.test(entry)){list.push({icon:'draw_cards',amount:amount!==null&&amount!==void 0?amount:1});}if(/shield|Schild|grant shield/i.test(entry)){list.push({icon:'grant_shield',amount:amount!==null&&amount!==void 0?amount:1});}if(/deactivate|deaktiv/i.test(entry)){list.push({icon:'deactivate_card'});}if(/discard|abwerfen|discarded/i.test(entry)){list.push({icon:'discard_cards',amount:amount!==null&&amount!==void 0?amount:1});}if(/buff|buffs|erh√§lt|gains/i.test(entry)){list.push({icon:'buff_strength',amount:amount!==null&&amount!==void 0?amount:undefined});}if(/register trap|register|trap|Falle/i.test(entry)){list.push({icon:'register_trap'});}if(/ap|action point|Action Points|AP/i.test(entry)){// show AP changes as number next to AP icon\nlist.push({icon:'ap',amount:amount});}if(/influence|Einfluss/i.test(entry)){list.push({icon:'influence',amount:amount});}// Fallback: if nothing matched but there's a number, show it with game_log icon\nif(list.length===0&&amount!=null){list.push({icon:'game_log',amount});}return list;};if(!isVisible)return null;return/*#__PURE__*/_jsxs(\"div\",{ref:modalRef,style:{position:'fixed',left:position.x,top:position.y,width:size.width,height:size.height,background:'rgba(13, 22, 33, 0.05)',border:'1px solid rgba(255, 255, 255, 1)',borderRadius:'12px',backdropFilter:'blur(2px)',zIndex:1000,cursor:isDragging?'grabbing':'grab',userSelect:'none',boxShadow:'0 4px 12px rgba(0, 0, 0, 0.15)'},onMouseDown:handleMouseDown,children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'12px 16px',borderBottom:'1px solid rgba(255, 255, 255, 0.3)',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#e5e7eb',fontSize:'14px',fontWeight:'600'},children:\"AP\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'6px',alignItems:'center'},children:[0,1].map(index=>{const currentPlayer=gameState.current;const remainingAP=gameState.actionPoints[currentPlayer];const isUsed=index>=remainingAP;return/*#__PURE__*/_jsx(\"div\",{style:{width:'12px',height:'12px',borderRadius:'50%',background:isUsed?'rgba(239, 68, 68, 0.8)':'rgba(34, 197, 94, 0.9)',boxShadow:isUsed?'0 0 8px rgba(239, 68, 68, 0.6)':'0 0 12px rgba(34, 197, 94, 0.8)',border:isUsed?'1px solid rgba(239, 68, 68, 1)':'1px solid rgba(34, 197, 94, 1)',transition:'all 0.3s ease'}},index);})})]}),(gameState.current===1&&!gameState.passed[1]||devMode&&gameState.current===2&&!gameState.passed[2])&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{console.log(\"\\uD83D\\uDD27 DEBUG: End turn clicked for player \".concat(gameState.current));onCardClick({type:'button_end_turn',player:gameState.current});},style:{background:'linear-gradient(45deg, #3b82f6, #2563eb)',border:'none',borderRadius:'6px',padding:'6px 12px',color:'white',fontSize:'12px',fontWeight:'600',cursor:'pointer',boxShadow:'0 2px 8px rgba(59, 130, 246, 0.4)',transition:'all 0.2s ease'},onMouseEnter:e=>{e.currentTarget.style.transform='scale(1.05)';},onMouseLeave:e=>{e.currentTarget.style.transform='scale(1)';},title:\"Ends only your turn \\u2013 the round continues.\",children:\"End Turn\"}),showPassConfirmation?/*#__PURE__*/_jsx(\"button\",{onClick:()=>{console.log(\"\\uD83D\\uDD27 DEBUG: Pass confirmation clicked for player \".concat(gameState.current));onCardClick({type:'button_pass_turn',player:gameState.current});setShowPassConfirmation(false);},style:{background:'linear-gradient(45deg, #dc2626, #b91c1c)',border:'none',borderRadius:'6px',padding:'6px 12px',color:'white',fontSize:'12px',fontWeight:'600',cursor:'pointer',boxShadow:'0 2px 8px rgba(220, 38, 38, 0.4)',transition:'all 0.2s ease'},onMouseEnter:e=>{e.currentTarget.style.transform='scale(1.05)';},onMouseLeave:e=>{e.currentTarget.style.transform='scale(1)';},children:\"Really Pass\"}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowPassConfirmation(true),style:{background:'linear-gradient(45deg, #ef4444, #dc2626)',border:'none',borderRadius:'6px',padding:'6px 12px',color:'white',fontSize:'12px',fontWeight:'600',cursor:'pointer',boxShadow:'0 2px 8px rgba(239, 68, 68, 0.4)',transition:'all 0.2s ease'},onMouseEnter:e=>{e.currentTarget.style.transform='scale(1.05)';},onMouseLeave:e=>{e.currentTarget.style.transform='scale(1)';},children:\"Pass\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onToggle,style:{background:'none',border:'none',color:'#9ca3af',fontSize:'18px',cursor:'pointer',padding:'4px'},children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onToggleLog,style:{background:'linear-gradient(45deg, #8b5cf6, #7c3aed)',border:'none',borderRadius:'6px',padding:'6px 12px',color:'white',fontSize:'12px',fontWeight:'600',cursor:'pointer',boxShadow:'0 2px 8px rgba(139, 92, 246, 0.4)',transition:'all 0.2s ease',marginRight:'8px'},onMouseEnter:e=>{e.currentTarget.style.transform='scale(1.05)';},onMouseLeave:e=>{e.currentTarget.style.transform='scale(1)';},children:\"\\uD83D\\uDCCB Log\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'16px',height:'calc(100% - 60px)',display:'flex',flexDirection:'column',gap:'16px'},children:[gameState.gameWinner&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',top:0,left:0,right:0,bottom:0,background:'linear-gradient(135deg, rgba(0, 255, 136, 0.95), rgba(34, 197, 94, 0.95))',display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center',zIndex:1000,borderRadius:'12px',backdropFilter:'blur(8px)',animation:'victoryPulse 2s infinite'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'48px',marginBottom:'16px',animation:'bounce 1s infinite'},children:\"\\uD83C\\uDFC6\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:'white',fontSize:'24px',fontWeight:'800',textAlign:'center',marginBottom:'8px',textShadow:'0 2px 8px rgba(0, 0, 0, 0.5)'},children:gameState.gameWinner===1?'YOU WIN!':'OPPONENT WINS!'}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'rgba(255, 255, 255, 0.9)',fontSize:'18px',fontWeight:'600',textAlign:'center',marginBottom:'12px',textShadow:'0 1px 4px rgba(0, 0, 0, 0.3)'},children:[\"Player \",gameState.gameWinner,\" is the winner!\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'rgba(255, 255, 255, 0.8)',fontSize:'16px',fontWeight:'500',textAlign:'center',background:'rgba(255, 255, 255, 0.2)',padding:'8px 16px',borderRadius:'8px',backdropFilter:'blur(4px)'},children:[\"Round Standings: \",gameState.roundsWon[1],\" - \",gameState.roundsWon[2]]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#9ca3af',fontSize:'12px',marginBottom:'4px'},children:\"Game Phase\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'center',gap:'12px',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#e5e7eb',fontSize:'16px',fontWeight:'600'},children:getGamePhase()}),(()=>{const matchball=getMatchballStatus();if(matchball.hasMatchball){const isPlayer=matchball.player===1;return/*#__PURE__*/_jsx(\"div\",{style:{color:isPlayer?'#00ff88':'#ff6b6b',fontSize:'14px',fontWeight:'700',textShadow:\"0 0 8px \".concat(isPlayer?'#00ff88':'#ff6b6b'),animation:'matchballPulse 2s ease-in-out infinite',padding:'4px 8px',border:\"1px solid \".concat(isPlayer?'#00ff88':'#ff6b6b'),borderRadius:'12px',backgroundColor:\"\".concat(isPlayer?'#00ff8820':'#ff6b6b20')},children:isPlayer?'üéØ MATCHBALL':'‚ö†Ô∏è MATCHBALL'});}return null;})()]})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'8px',borderTop:'1px solid rgba(255,255,255,0.06)',paddingTop:'8px',display:'flex',gap:'8px',alignItems:'center',justifyContent:'center',flexWrap:'wrap'},children:(gameState.log.slice(-6).reverse()||[]).map((entry,idx)=>{const summary=parseActionSummary(entry);return/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:6,alignItems:'center',padding:'4px 8px',background:'rgba(255,255,255,0.02)',borderRadius:8},children:summary.map((s,i)=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:4},children:[/*#__PURE__*/_jsx(Icon,{name:s.icon,size:18}),s.amount!=null&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#e5e7eb',fontWeight:700,fontSize:12},children:s.amount})]},i))},idx);})}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#9ca3af',fontSize:'12px',marginBottom:'4px'},children:\"Status\"}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#fbbf24',fontSize:'14px',fontWeight:'500',display:'flex',alignItems:'center',justifyContent:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(Icon,{name:\"start_of_turn\",size:14}),/*#__PURE__*/_jsx(\"span\",{children:\"Your turn \\u2013 \"}),/*#__PURE__*/_jsx(Icon,{name:\"ap\",size:14}),/*#__PURE__*/_jsx(\"strong\",{children:gameState.actionPoints[1]}),/*#__PURE__*/_jsx(\"span\",{children:\" (action points)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'12px',marginBottom:'8px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{color:'#9ca3af',fontSize:'11px',marginBottom:'4px',display:'flex',alignItems:'center',justifyContent:'center',gap:'6px'},children:[/*#__PURE__*/_jsx(Icon,{name:\"ap\",size:12}),\"Your AP\"]}),/*#__PURE__*/_jsx(\"div\",{style:{color:gameState.actionPoints[1]>0?'#00ff88':'#ef4444',fontSize:'18px',fontWeight:'700',textShadow:'0 0 4px currentColor'},children:gameState.actionPoints[1]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{color:'#9ca3af',fontSize:'11px',marginBottom:'4px',display:'flex',alignItems:'center',justifyContent:'center',gap:'6px'},children:[/*#__PURE__*/_jsx(Icon,{name:\"ap\",size:12}),\"Opponent AP\"]}),/*#__PURE__*/_jsx(\"div\",{style:{color:gameState.actionPoints[2]>0?'#00ff88':'#ef4444',fontSize:'18px',fontWeight:'700',textShadow:'0 0 4px currentColor'},children:gameState.actionPoints[2]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'12px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{color:'#9ca3af',fontSize:'11px',marginBottom:'4px',display:'flex',alignItems:'center',justifyContent:'center',gap:'6px'},children:[/*#__PURE__*/_jsx(Icon,{name:\"influence\",size:12}),\"Your Influence\"]}),/*#__PURE__*/_jsx(\"div\",{style:getInfluenceStyle(influenceAnimation.player),children:currentInfluence.player})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#9ca3af',fontSize:'11px',marginBottom:'4px'},children:\"Opponent Influence\"}),/*#__PURE__*/_jsx(\"div\",{style:getInfluenceStyle(influenceAnimation.opponent),children:currentInfluence.opponent})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'12px',marginTop:'8px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#9ca3af',fontSize:'11px',marginBottom:'4px'},children:\"Your Rounds\"}),/*#__PURE__*/_jsxs(\"div\",{style:{color:gameState.roundsWon[1]>=2?'#00ff88':'#fbbf24',fontSize:'18px',fontWeight:'700',textShadow:'0 0 4px currentColor'},children:[gameState.roundsWon[1],\"/3\",gameState.roundsWon[1]>=2&&/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'8px',fontSize:'14px',animation:'matchballPulse 1.5s infinite'},children:\"\\uD83C\\uDFC6\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#9ca3af',fontSize:'11px',marginBottom:'4px'},children:\"Opponent Rounds\"}),/*#__PURE__*/_jsxs(\"div\",{style:{color:gameState.roundsWon[2]>=2?'#00ff88':'#fbbf24',fontSize:'18px',fontWeight:'700',textShadow:'0 0 4px currentColor'},children:[gameState.roundsWon[2],\"/3\",gameState.roundsWon[2]>=2&&/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:'8px',fontSize:'14px',animation:'matchballPulse 1.5s infinite'},children:\"\\uD83C\\uDFC6\"})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"resize-handle\",style:{position:'absolute',bottom:0,right:0,width:'16px',height:'16px',background:'rgba(255, 255, 255, 0.6)',cursor:'nw-resize',borderRadius:'0 0 12px 0',clipPath:'polygon(100% 0, 0 100%, 100% 100%)'},onMouseDown:handleResizeStart}),/*#__PURE__*/_jsx(\"style\",{children:\"\\n        @keyframes matchballPulse {\\n          0%, 100% {\\n            transform: scale(1);\\n            opacity: 0.8;\\n          }\\n          50% {\\n            transform: scale(1.05);\\n            opacity: 1;\\n          }\\n        }\\n        @keyframes victoryPulse {\\n          0%, 100% {\\n            transform: scale(1);\\n            box-shadow: 0 0 20px rgba(0, 255, 136, 0.6);\\n          }\\n          50% {\\n            transform: scale(1.02);\\n            box-shadow: 0 0 40px rgba(0, 255, 136, 0.8);\\n          }\\n        }\\n        @keyframes bounce {\\n          0%, 20%, 50%, 80%, 100% {\\n            transform: translateY(0);\\n          }\\n          40% {\\n            transform: translateY(-10px);\\n          }\\n          60% {\\n            transform: translateY(-5px);\\n          }\\n        }\\n      \"})]});};","map":{"version":3,"names":["React","useState","useRef","useCallback","useEffect","Icon","jsx","_jsx","jsxs","_jsxs","GameInfoModal","_ref","gameState","isVisible","onToggle","onPassTurn","onToggleLog","onCardClick","devMode","position","setPosition","x","y","size","setSize","width","height","isDragging","setIsDragging","isResizing","setIsResizing","dragStart","setDragStart","resizeStart","setResizeStart","pos","currentInfluence","setCurrentInfluence","player","opponent","influenceAnimation","setInfluenceAnimation","showPassConfirmation","setShowPassConfirmation","modalRef","rightX","Math","max","window","innerWidth","e","timer","setTimeout","clearTimeout","calculateInfluence","calculatePlayerInfluence","totalInfluence","playerBoard","board","innen","aussen","forEach","card","kind","base","influence","buffs","tempBuffs","debuffs","tempDebuffs","permanentSlots","government","c","public","playerInfluence","opponentInfluence","newInfluence","prevPlayer","prevOpponent","playerAnim","opponentAnim","prev","next","getMatchballStatus","player1Wins","roundsWon","player2Wins","hasMatchball","p1Influence","p2Influence","leadDifference","abs","handleMouseDown","target","classList","contains","clientX","clientY","handleMouseMove","newWidth","newHeight","handleMouseUp","handleResizeStart","stopPropagation","_objectSpread","document","addEventListener","removeEventListener","getGamePhase","passed","concat","round","getPlayerTurn","currentPlayer","current","remainingAP","actionPoints","getInfluenceStyle","type","baseStyle","fontSize","fontWeight","textAlign","transition","textShadow","color","transform","parseActionSummary","entry","list","numMatch","match","amount","parseInt","undefined","test","push","icon","length","ref","style","left","top","background","border","borderRadius","backdropFilter","zIndex","cursor","userSelect","boxShadow","onMouseDown","children","padding","borderBottom","display","justifyContent","alignItems","gap","map","index","isUsed","onClick","console","log","onMouseEnter","currentTarget","onMouseLeave","title","marginRight","flexDirection","gameWinner","right","bottom","animation","marginBottom","flexWrap","matchball","isPlayer","backgroundColor","marginTop","borderTop","paddingTop","slice","reverse","idx","summary","s","i","name","gridTemplateColumns","marginLeft","className","clipPath"],"sources":["C:/Users/skank/Videos/Cards/Milchcards/src/components/GameInfoModal.tsx"],"sourcesContent":["import React, { useState, useRef, useCallback, useEffect } from 'react';\r\nimport { GameState } from '../types/game';\r\nimport { Icon } from '../ui/Icon';\r\nimport { withIcons } from '../ui/withIcons';\r\n\r\ninterface GameInfoModalProps {\r\n  gameState: GameState;\r\n  isVisible: boolean;\r\n  onToggle: () => void;\r\n  onPassTurn: (player: 1 | 2) => void;\r\n  onToggleLog: () => void;\r\n  onCardClick: (data: any) => void;\r\n  devMode?: boolean;\r\n}\r\n\r\ninterface Position {\r\n  x: number;\r\n  y: number;\r\n}\r\n\r\ninterface Size {\r\n  width: number;\r\n  height: number;\r\n}\r\n\r\nexport const GameInfoModal: React.FC<GameInfoModalProps> = ({\r\n  gameState,\r\n  isVisible,\r\n  onToggle,\r\n  onPassTurn,\r\n  onToggleLog,\r\n  onCardClick,\r\n  devMode = false\r\n}) => {\r\n  const [position, setPosition] = useState<Position>({ x: 50, y: 50 });\r\n  const [size, setSize] = useState<Size>({ width: 320, height: 400 });\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [isResizing, setIsResizing] = useState(false);\r\n  const [dragStart, setDragStart] = useState<Position>({ x: 0, y: 0 });\r\n  const [resizeStart, setResizeStart] = useState<{ pos: Position; size: Size }>({\r\n    pos: { x: 0, y: 0 },\r\n    size: { width: 0, height: 0 }\r\n  });\r\n  const [currentInfluence, setCurrentInfluence] = useState({ player: 0, opponent: 0 });\r\n  const [influenceAnimation, setInfluenceAnimation] = useState<{\r\n    player: 'none' | 'success' | 'loss' | 'losing' | 'winning';\r\n    opponent: 'none' | 'success' | 'loss' | 'losing' | 'winning';\r\n  }>({ player: 'none', opponent: 'none' });\r\n  const [showPassConfirmation, setShowPassConfirmation] = useState(false);\r\n\r\n  const modalRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Position modal initially on the right side of the screen\r\n  useEffect(() => {\r\n    try {\r\n      const rightX = Math.max(16, window.innerWidth - size.width - 40);\r\n      setPosition({ x: rightX, y: 50 });\r\n    } catch (e) {\r\n      // fallback: keep default position\r\n    }\r\n  }, []);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  // Reset pass confirmation after 3 seconds\r\n  useEffect(() => {\r\n    if (showPassConfirmation) {\r\n      const timer = setTimeout(() => {\r\n        setShowPassConfirmation(false);\r\n      }, 3000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [showPassConfirmation]);\r\n\r\n  // Calculate current influence\r\n  const calculateInfluence = useCallback(() => {\r\n    // Regelwerk: Alle Karten auf dem Board z√§hlen f√ºr Einfluss\r\n    const calculatePlayerInfluence = (player: 1 | 2): number => {\r\n      let totalInfluence = 0;\r\n\r\n      // Count influence from cards on board (innen + aussen)\r\n      const playerBoard = gameState.board[player];\r\n      [...playerBoard.innen, ...playerBoard.aussen].forEach(card => {\r\n        if (card.kind === 'pol') {\r\n          const base = (card as any).influence || 0;\r\n          const buffs = (card as any).tempBuffs || 0;\r\n          const debuffs = (card as any).tempDebuffs || 0;\r\n          totalInfluence += base + buffs - debuffs;\r\n        }\r\n      });\r\n\r\n      // Count influence from permanent slots\r\n      const permanentSlots = gameState.permanentSlots[player];\r\n      if (permanentSlots.government && permanentSlots.government.kind === 'pol') {\r\n        const c = permanentSlots.government as any;\r\n        totalInfluence += (c.influence || 0) + (c.tempBuffs||0) - (c.tempDebuffs||0);\r\n      }\r\n      if (permanentSlots.public && permanentSlots.public.kind === 'pol') {\r\n        const c = permanentSlots.public as any;\r\n        totalInfluence += (c.influence || 0) + (c.tempBuffs||0) - (c.tempDebuffs||0);\r\n      }\r\n\r\n      return totalInfluence;\r\n    };\r\n\r\n    const playerInfluence = calculatePlayerInfluence(1);\r\n    const opponentInfluence = calculatePlayerInfluence(2);\r\n\r\n    return { player: playerInfluence, opponent: opponentInfluence };\r\n  }, [gameState]);\r\n\r\n  // Update influence and trigger animations\r\n  useEffect(() => {\r\n    const newInfluence = calculateInfluence();\r\n    const prevPlayer = currentInfluence.player;\r\n    const prevOpponent = currentInfluence.opponent;\r\n\r\n    // Determine animation types\r\n    let playerAnim: typeof influenceAnimation.player = 'none';\r\n    let opponentAnim: typeof influenceAnimation.opponent = 'none';\r\n\r\n    if (newInfluence.player > prevPlayer) {\r\n      playerAnim = 'success';\r\n    } else if (newInfluence.player < prevPlayer) {\r\n      playerAnim = 'loss';\r\n    }\r\n\r\n    if (newInfluence.opponent > prevOpponent) {\r\n      opponentAnim = 'success';\r\n    } else if (newInfluence.opponent < prevOpponent) {\r\n      opponentAnim = 'loss';\r\n    }\r\n\r\n    // Check winning/losing status\r\n    if (newInfluence.player > newInfluence.opponent) {\r\n      playerAnim = playerAnim === 'none' ? 'winning' : playerAnim;\r\n      opponentAnim = opponentAnim === 'none' ? 'losing' : opponentAnim;\r\n    } else if (newInfluence.opponent > newInfluence.player) {\r\n      playerAnim = playerAnim === 'none' ? 'losing' : playerAnim;\r\n      opponentAnim = opponentAnim === 'none' ? 'winning' : opponentAnim;\r\n    }\r\n\r\n    // Only update influence state when it actually changes to prevent loops\r\n    if (newInfluence.player !== prevPlayer || newInfluence.opponent !== prevOpponent) {\r\n      setCurrentInfluence(newInfluence);\r\n    }\r\n\r\n    // Avoid unnecessary animation state churn\r\n    setInfluenceAnimation(prev => {\r\n      const next = { player: playerAnim, opponent: opponentAnim } as typeof prev;\r\n      if (prev.player === next.player && prev.opponent === next.opponent) return prev;\r\n      return next;\r\n    });\r\n\r\n    // Reset animations after delay\r\n    const timer = setTimeout(() => {\r\n      setInfluenceAnimation(prev => (prev.player === 'none' && prev.opponent === 'none' ? prev : { player: 'none', opponent: 'none' }));\r\n    }, 1000);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, [gameState, calculateInfluence]);\r\n\r\n  // Check if a player has matchball (needs only 1 more round to win or leading by 3+ influence)\r\n  const getMatchballStatus = () => {\r\n    // Check rounds won first\r\n    const player1Wins = gameState.roundsWon[1];\r\n    const player2Wins = gameState.roundsWon[2];\r\n\r\n    if (player1Wins === 1 && player2Wins < 1) {\r\n      return { player: 1, hasMatchball: true };\r\n    } else if (player2Wins === 1 && player1Wins < 1) {\r\n      return { player: 2, hasMatchball: true };\r\n    }\r\n\r\n    // Check current influence lead (3+ points = matchball)\r\n    const p1Influence = currentInfluence.player;\r\n    const p2Influence = currentInfluence.opponent;\r\n    const leadDifference = Math.abs(p1Influence - p2Influence);\r\n\r\n    if (leadDifference >= 3) {\r\n      return {\r\n        hasMatchball: true,\r\n        player: p1Influence > p2Influence ? 1 : 2\r\n      };\r\n    }\r\n\r\n    return { player: null, hasMatchball: false };\r\n  };\r\n\r\n  // Mouse handlers for dragging\r\n  const handleMouseDown = useCallback((e: React.MouseEvent) => {\r\n    if ((e.target as HTMLElement).classList.contains('resize-handle')) return;\r\n    setIsDragging(true);\r\n    setDragStart({\r\n      x: e.clientX - position.x,\r\n      y: e.clientY - position.y\r\n    });\r\n  }, [position]);\r\n\r\n  const handleMouseMove = useCallback((e: MouseEvent) => {\r\n    if (isDragging) {\r\n      setPosition({\r\n        x: e.clientX - dragStart.x,\r\n        y: e.clientY - dragStart.y\r\n      });\r\n    } else if (isResizing) {\r\n      const newWidth = Math.max(250, e.clientX - resizeStart.pos.x + resizeStart.size.width);\r\n      const newHeight = Math.max(300, e.clientY - resizeStart.pos.y + resizeStart.size.height);\r\n      setSize({ width: newWidth, height: newHeight });\r\n    }\r\n  }, [isDragging, isResizing, dragStart, resizeStart]);\r\n\r\n  const handleMouseUp = useCallback(() => {\r\n    setIsDragging(false);\r\n    setIsResizing(false);\r\n  }, []);\r\n\r\n  // Resize handle\r\n  const handleResizeStart = useCallback((e: React.MouseEvent) => {\r\n    e.stopPropagation();\r\n    setIsResizing(true);\r\n    setResizeStart({\r\n      pos: { x: e.clientX, y: e.clientY },\r\n      size: { ...size }\r\n    });\r\n  }, [size]);\r\n\r\n  useEffect(() => {\r\n    if (isDragging || isResizing) {\r\n      document.addEventListener('mousemove', handleMouseMove);\r\n      document.addEventListener('mouseup', handleMouseUp);\r\n      return () => {\r\n        document.removeEventListener('mousemove', handleMouseMove);\r\n        document.removeEventListener('mouseup', handleMouseUp);\r\n      };\r\n    }\r\n  }, [isDragging, isResizing, handleMouseMove, handleMouseUp]);\r\n\r\n  // Get game phase text\r\n  const getGamePhase = () => {\r\n    if (gameState.passed[1] && gameState.passed[2]) {\r\n      return 'Round Evaluation';\r\n    }\r\n    return `Round ${gameState.round}`;\r\n  };\r\n\r\n  // Get player turn text with detailed status\r\n  const getPlayerTurn = () => {\r\n    if (gameState.passed[1] && gameState.passed[2]) {\r\n      return 'Round ended - Evaluation running';\r\n    }\r\n\r\n    const currentPlayer = gameState.current;\r\n    const remainingAP = gameState.actionPoints[currentPlayer];\r\n\r\n    if (currentPlayer === 1) {\r\n      if (remainingAP <= 0) {\r\n        return 'Your turn ended - Click to continue';\r\n      }\r\n      return `Your turn - ${remainingAP} AP`;\r\n    } else {\r\n      if (remainingAP <= 0) {\r\n        return 'Opponent turn ended';\r\n      }\r\n      return `Opponent's turn - ${remainingAP} AP`;\r\n    }\r\n  };\r\n\r\n  // Influence animation styles\r\n  const getInfluenceStyle = (type: typeof influenceAnimation.player) => {\r\n    const baseStyle = {\r\n      fontSize: '32px',\r\n      fontWeight: 'bold',\r\n      textAlign: 'center' as const,\r\n      transition: 'all 0.3s ease',\r\n      textShadow: '0 0 8px rgba(0,0,0,0.5)'\r\n    };\r\n\r\n    switch (type) {\r\n      case 'success':\r\n        return { ...baseStyle, color: '#4ade80', transform: 'scale(1.2)', textShadow: '0 0 12px #4ade80' };\r\n      case 'loss':\r\n        return { ...baseStyle, color: '#ef4444', transform: 'scale(0.9)', textShadow: '0 0 12px #ef4444' };\r\n      case 'winning':\r\n        return { ...baseStyle, color: '#fbbf24', textShadow: '0 0 8px #fbbf24' };\r\n      case 'losing':\r\n        return { ...baseStyle, color: '#374151', textShadow: '0 0 8px #374151' };\r\n      default:\r\n        return { ...baseStyle, color: '#e5e7eb' };\r\n    }\r\n  };\r\n\r\n  // Parse recent log entries into compact icon+number summaries\r\n  const parseActionSummary = (entry: string) => {\r\n    const list: Array<{ icon: string; amount?: number }> = [];\r\n    const numMatch = entry.match(/([-+]?\\d+)/);\r\n    const amount = numMatch ? parseInt(numMatch[1], 10) : undefined;\r\n\r\n    if (/draw|zieht/i.test(entry)) {\r\n      list.push({ icon: 'draw_cards', amount: amount ?? 1 });\r\n    }\r\n    if (/shield|Schild|grant shield/i.test(entry)) {\r\n      list.push({ icon: 'grant_shield', amount: amount ?? 1 });\r\n    }\r\n    if (/deactivate|deaktiv/i.test(entry)) {\r\n      list.push({ icon: 'deactivate_card' });\r\n    }\r\n    if (/discard|abwerfen|discarded/i.test(entry)) {\r\n      list.push({ icon: 'discard_cards', amount: amount ?? 1 });\r\n    }\r\n    if (/buff|buffs|erh√§lt|gains/i.test(entry)) {\r\n      list.push({ icon: 'buff_strength', amount: amount ?? undefined });\r\n    }\r\n    if (/register trap|register|trap|Falle/i.test(entry)) {\r\n      list.push({ icon: 'register_trap' });\r\n    }\r\n    if (/ap|action point|Action Points|AP/i.test(entry)) {\r\n      // show AP changes as number next to AP icon\r\n      list.push({ icon: 'ap', amount: amount });\r\n    }\r\n    if (/influence|Einfluss/i.test(entry)) {\r\n      list.push({ icon: 'influence', amount: amount });\r\n    }\r\n\r\n    // Fallback: if nothing matched but there's a number, show it with game_log icon\r\n    if (list.length === 0 && amount != null) {\r\n      list.push({ icon: 'game_log', amount });\r\n    }\r\n    return list;\r\n  };\r\n\r\n  if (!isVisible) return null;\r\n\r\n  return (\r\n    <div\r\n      ref={modalRef}\r\n      style={{\r\n        position: 'fixed',\r\n        left: position.x,\r\n        top: position.y,\r\n        width: size.width,\r\n        height: size.height,\r\n        background: 'rgba(13, 22, 33, 0.05)',\r\n        border: '1px solid rgba(255, 255, 255, 1)',\r\n        borderRadius: '12px',\r\n        backdropFilter: 'blur(2px)',\r\n        zIndex: 1000,\r\n        cursor: isDragging ? 'grabbing' : 'grab',\r\n        userSelect: 'none',\r\n        boxShadow: '0 4px 12px rgba(0, 0, 0, 0.15)',\r\n      }}\r\n      onMouseDown={handleMouseDown}\r\n    >\r\n      {/* Header - AP Counter and Pass Button */}\r\n      <div style={{\r\n        padding: '12px 16px',\r\n        borderBottom: '1px solid rgba(255, 255, 255, 0.3)',\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center'\r\n      }}>\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\r\n          <div style={{ color: '#e5e7eb', fontSize: '14px', fontWeight: '600' }}>\r\n            AP\r\n          </div>\r\n          <div style={{ display: 'flex', gap: '6px', alignItems: 'center' }}>\r\n            {[0, 1].map((index) => {\r\n              const currentPlayer = gameState.current;\r\n              const remainingAP = gameState.actionPoints[currentPlayer];\r\n              const isUsed = index >= remainingAP;\r\n              return (\r\n                <div\r\n                  key={index}\r\n                  style={{\r\n                    width: '12px',\r\n                    height: '12px',\r\n                    borderRadius: '50%',\r\n                    background: isUsed\r\n                      ? 'rgba(239, 68, 68, 0.8)'\r\n                      : 'rgba(34, 197, 94, 0.9)',\r\n                    boxShadow: isUsed\r\n                      ? '0 0 8px rgba(239, 68, 68, 0.6)'\r\n                      : '0 0 12px rgba(34, 197, 94, 0.8)',\r\n                    border: isUsed\r\n                      ? '1px solid rgba(239, 68, 68, 1)'\r\n                      : '1px solid rgba(34, 197, 94, 1)',\r\n                    transition: 'all 0.3s ease'\r\n                  }}\r\n                />\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Action Buttons - Show for current player (P1 always, P2 only in dev mode) */}\r\n        {((gameState.current === 1 && !gameState.passed[1]) || (devMode && gameState.current === 2 && !gameState.passed[2])) && (\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n\r\n            {/* End Turn Button - Blue */}\r\n            <button\r\n              onClick={() => {\r\n                console.log(`üîß DEBUG: End turn clicked for player ${gameState.current}`);\r\n                onCardClick({ type: 'button_end_turn', player: gameState.current });\r\n              }}\r\n              style={{\r\n                background: 'linear-gradient(45deg, #3b82f6, #2563eb)',\r\n                border: 'none',\r\n                borderRadius: '6px',\r\n                padding: '6px 12px',\r\n                color: 'white',\r\n                fontSize: '12px',\r\n                fontWeight: '600',\r\n                cursor: 'pointer',\r\n                boxShadow: '0 2px 8px rgba(59, 130, 246, 0.4)',\r\n                transition: 'all 0.2s ease'\r\n              }}\r\n              onMouseEnter={(e) => {\r\n                e.currentTarget.style.transform = 'scale(1.05)';\r\n              }}\r\n              onMouseLeave={(e) => {\r\n                e.currentTarget.style.transform = 'scale(1)';\r\n              }}\r\n              title=\"Ends only your turn ‚Äì the round continues.\"\r\n            >\r\n              End Turn\r\n            </button>\r\n\r\n            {/* Pass Button - Red */}\r\n            {showPassConfirmation ? (\r\n              <button\r\n                onClick={() => {\r\n                  console.log(`üîß DEBUG: Pass confirmation clicked for player ${gameState.current}`);\r\n                  onCardClick({ type: 'button_pass_turn', player: gameState.current });\r\n                  setShowPassConfirmation(false);\r\n                }}\r\n                style={{\r\n                  background: 'linear-gradient(45deg, #dc2626, #b91c1c)',\r\n                  border: 'none',\r\n                  borderRadius: '6px',\r\n                  padding: '6px 12px',\r\n                  color: 'white',\r\n                  fontSize: '12px',\r\n                  fontWeight: '600',\r\n                  cursor: 'pointer',\r\n                  boxShadow: '0 2px 8px rgba(220, 38, 38, 0.4)',\r\n                  transition: 'all 0.2s ease'\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  e.currentTarget.style.transform = 'scale(1.05)';\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.currentTarget.style.transform = 'scale(1)';\r\n                }}\r\n              >\r\n                Really Pass\r\n              </button>\r\n            ) : (\r\n              <button\r\n                onClick={() => setShowPassConfirmation(true)}\r\n                style={{\r\n                  background: 'linear-gradient(45deg, #ef4444, #dc2626)',\r\n                  border: 'none',\r\n                  borderRadius: '6px',\r\n                  padding: '6px 12px',\r\n                  color: 'white',\r\n                  fontSize: '12px',\r\n                  fontWeight: '600',\r\n                  cursor: 'pointer',\r\n                  boxShadow: '0 2px 8px rgba(239, 68, 68, 0.4)',\r\n                  transition: 'all 0.2s ease'\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  e.currentTarget.style.transform = 'scale(1.05)';\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.currentTarget.style.transform = 'scale(1)';\r\n                }}\r\n              >\r\n                Pass\r\n              </button>\r\n            )}\r\n\r\n\r\n          </div>\r\n        )}\r\n\r\n        <button\r\n          onClick={onToggle}\r\n          style={{\r\n            background: 'none',\r\n            border: 'none',\r\n            color: '#9ca3af',\r\n            fontSize: '18px',\r\n            cursor: 'pointer',\r\n            padding: '4px'\r\n          }}\r\n        >\r\n          √ó\r\n        </button>\r\n\r\n        {/* Log Button */}\r\n        <button\r\n          onClick={onToggleLog}\r\n          style={{\r\n            background: 'linear-gradient(45deg, #8b5cf6, #7c3aed)',\r\n            border: 'none',\r\n            borderRadius: '6px',\r\n            padding: '6px 12px',\r\n            color: 'white',\r\n            fontSize: '12px',\r\n            fontWeight: '600',\r\n            cursor: 'pointer',\r\n            boxShadow: '0 2px 8px rgba(139, 92, 246, 0.4)',\r\n            transition: 'all 0.2s ease',\r\n            marginRight: '8px',\r\n          }}\r\n          onMouseEnter={(e) => {\r\n            e.currentTarget.style.transform = 'scale(1.05)';\r\n          }}\r\n          onMouseLeave={(e) => {\r\n            e.currentTarget.style.transform = 'scale(1)';\r\n          }}\r\n        >\r\n          üìã Log\r\n        </button>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div style={{ padding: '16px', height: 'calc(100% - 60px)', display: 'flex', flexDirection: 'column', gap: '16px' }}>\r\n\r\n        {/* Game End Victory Screen */}\r\n        {gameState.gameWinner && (\r\n          <div style={{\r\n            position: 'absolute',\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            background: 'linear-gradient(135deg, rgba(0, 255, 136, 0.95), rgba(34, 197, 94, 0.95))',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n            zIndex: 1000,\r\n            borderRadius: '12px',\r\n            backdropFilter: 'blur(8px)',\r\n            animation: 'victoryPulse 2s infinite'\r\n          }}>\r\n            <div style={{\r\n              fontSize: '48px',\r\n              marginBottom: '16px',\r\n              animation: 'bounce 1s infinite'\r\n            }}>\r\n              üèÜ\r\n            </div>\r\n            <div style={{\r\n              color: 'white',\r\n              fontSize: '24px',\r\n              fontWeight: '800',\r\n              textAlign: 'center',\r\n              marginBottom: '8px',\r\n              textShadow: '0 2px 8px rgba(0, 0, 0, 0.5)'\r\n            }}>\r\n              {gameState.gameWinner === 1 ? 'YOU WIN!' : 'OPPONENT WINS!'}\r\n            </div>\r\n            <div style={{\r\n              color: 'rgba(255, 255, 255, 0.9)',\r\n              fontSize: '18px',\r\n              fontWeight: '600',\r\n              textAlign: 'center',\r\n              marginBottom: '12px',\r\n              textShadow: '0 1px 4px rgba(0, 0, 0, 0.3)'\r\n            }}>\r\n              Player {gameState.gameWinner} is the winner!\r\n            </div>\r\n            <div style={{\r\n              color: 'rgba(255, 255, 255, 0.8)',\r\n              fontSize: '16px',\r\n              fontWeight: '500',\r\n              textAlign: 'center',\r\n              background: 'rgba(255, 255, 255, 0.2)',\r\n              padding: '8px 16px',\r\n              borderRadius: '8px',\r\n              backdropFilter: 'blur(4px)'\r\n            }}>\r\n              Round Standings: {gameState.roundsWon[1]} - {gameState.roundsWon[2]}\r\n            </div>\r\n          </div>\r\n        )}\r\n        {/* Game Phase with Matchball */}\r\n        <div style={{ textAlign: 'center' }}>\r\n          <div style={{ color: '#9ca3af', fontSize: '12px', marginBottom: '4px' }}>\r\n            Game Phase\r\n          </div>\r\n          <div style={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            gap: '12px',\r\n            flexWrap: 'wrap'\r\n          }}>\r\n            <div style={{ color: '#e5e7eb', fontSize: '16px', fontWeight: '600' }}>\r\n              {getGamePhase()}\r\n            </div>\r\n            {(() => {\r\n              const matchball = getMatchballStatus();\r\n              if (matchball.hasMatchball) {\r\n                const isPlayer = matchball.player === 1;\r\n                return (\r\n                  <div\r\n                    style={{\r\n                      color: isPlayer ? '#00ff88' : '#ff6b6b',\r\n                      fontSize: '14px',\r\n                      fontWeight: '700',\r\n                      textShadow: `0 0 8px ${isPlayer ? '#00ff88' : '#ff6b6b'}`,\r\n                      animation: 'matchballPulse 2s ease-in-out infinite',\r\n                      padding: '4px 8px',\r\n                      border: `1px solid ${isPlayer ? '#00ff88' : '#ff6b6b'}`,\r\n                      borderRadius: '12px',\r\n                      backgroundColor: `${isPlayer ? '#00ff8820' : '#ff6b6b20'}`,\r\n                    }}\r\n                  >\r\n                    {isPlayer ? 'üéØ MATCHBALL' : '‚ö†Ô∏è MATCHBALL'}\r\n                  </div>\r\n                );\r\n              }\r\n              return null;\r\n            })()}\r\n          </div>\r\n        </div>\r\n        {/* Bottom Action Log Summary (icons + numbers only) */}\r\n        <div style={{ marginTop: '8px', borderTop: '1px solid rgba(255,255,255,0.06)', paddingTop: '8px', display: 'flex', gap: '8px', alignItems: 'center', justifyContent: 'center', flexWrap: 'wrap' }}>\r\n          {(gameState.log.slice(-6).reverse() || []).map((entry, idx) => {\r\n            const summary = parseActionSummary(entry);\r\n            return (\r\n              <div key={idx} style={{ display: 'flex', gap: 6, alignItems: 'center', padding: '4px 8px', background: 'rgba(255,255,255,0.02)', borderRadius: 8 }}>\r\n                {summary.map((s, i) => (\r\n                  <div key={i} style={{ display: 'flex', alignItems: 'center', gap: 4 }}>\r\n                    <Icon name={s.icon as any} size={18} />\r\n                    {s.amount != null && <div style={{ color: '#e5e7eb', fontWeight: 700, fontSize: 12 }}>{s.amount}</div>}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        {/* Player Turn */}\r\n        <div style={{ textAlign: 'center' }}>\r\n          <div style={{ color: '#9ca3af', fontSize: '12px', marginBottom: '4px' }}>\r\n            Status\r\n          </div>\r\n          <div style={{\r\n            color: '#fbbf24',\r\n            fontSize: '14px',\r\n            fontWeight: '500',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            gap: '8px'\r\n          }}>\r\n            <Icon name=\"start_of_turn\" size={14} />\r\n            <span>Your turn ‚Äì </span>\r\n            <Icon name=\"ap\" size={14} />\r\n            <strong>{gameState.actionPoints[1]}</strong>\r\n            <span> (action points)</span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Action Points */}\r\n        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '12px', marginBottom: '8px' }}>\r\n          <div style={{ textAlign: 'center' }}>\r\n            <div style={{\r\n              color: '#9ca3af',\r\n              fontSize: '11px',\r\n              marginBottom: '4px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              gap: '6px'\r\n            }}>\r\n              <Icon name=\"ap\" size={12} />\r\n              Your AP\r\n            </div>\r\n            <div style={{\r\n              color: gameState.actionPoints[1] > 0 ? '#00ff88' : '#ef4444',\r\n              fontSize: '18px',\r\n              fontWeight: '700',\r\n              textShadow: '0 0 4px currentColor'\r\n            }}>\r\n              {gameState.actionPoints[1]}\r\n            </div>\r\n          </div>\r\n          <div style={{ textAlign: 'center' }}>\r\n            <div style={{\r\n              color: '#9ca3af',\r\n              fontSize: '11px',\r\n              marginBottom: '4px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              gap: '6px'\r\n            }}>\r\n              <Icon name=\"ap\" size={12} />\r\n              Opponent AP\r\n            </div>\r\n            <div style={{\r\n              color: gameState.actionPoints[2] > 0 ? '#00ff88' : '#ef4444',\r\n              fontSize: '18px',\r\n              fontWeight: '700',\r\n              textShadow: '0 0 4px currentColor'\r\n            }}>\r\n              {gameState.actionPoints[2]}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Influence Points */}\r\n        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '12px' }}>\r\n          <div style={{ textAlign: 'center' }}>\r\n            <div style={{\r\n              color: '#9ca3af',\r\n              fontSize: '11px',\r\n              marginBottom: '4px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              gap: '6px'\r\n            }}>\r\n              <Icon name=\"influence\" size={12} />\r\n              Your Influence\r\n            </div>\r\n            <div style={getInfluenceStyle(influenceAnimation.player)}>\r\n              {currentInfluence.player}\r\n            </div>\r\n          </div>\r\n          <div style={{ textAlign: 'center' }}>\r\n            <div style={{ color: '#9ca3af', fontSize: '11px', marginBottom: '4px' }}>\r\n              Opponent Influence\r\n            </div>\r\n            <div style={getInfluenceStyle(influenceAnimation.opponent)}>\r\n              {currentInfluence.opponent}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Round Wins Counter */}\r\n        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '12px', marginTop: '8px' }}>\r\n          <div style={{ textAlign: 'center' }}>\r\n            <div style={{ color: '#9ca3af', fontSize: '11px', marginBottom: '4px' }}>\r\n              Your Rounds\r\n            </div>\r\n            <div style={{\r\n              color: gameState.roundsWon[1] >= 2 ? '#00ff88' : '#fbbf24',\r\n              fontSize: '18px',\r\n              fontWeight: '700',\r\n              textShadow: '0 0 4px currentColor'\r\n            }}>\r\n              {gameState.roundsWon[1]}/3\r\n              {gameState.roundsWon[1] >= 2 && (\r\n                <span style={{\r\n                  marginLeft: '8px',\r\n                  fontSize: '14px',\r\n                  animation: 'matchballPulse 1.5s infinite'\r\n                }}>\r\n                  üèÜ\r\n                </span>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div style={{ textAlign: 'center' }}>\r\n            <div style={{ color: '#9ca3af', fontSize: '11px', marginBottom: '4px' }}>\r\n              Opponent Rounds\r\n            </div>\r\n            <div style={{\r\n              color: gameState.roundsWon[2] >= 2 ? '#00ff88' : '#fbbf24',\r\n              fontSize: '18px',\r\n              fontWeight: '700',\r\n              textShadow: '0 0 4px currentColor'\r\n            }}>\r\n              {gameState.roundsWon[2]}/3\r\n              {gameState.roundsWon[2] >= 2 && (\r\n                <span style={{\r\n                  marginLeft: '8px',\r\n                  fontSize: '14px',\r\n                  animation: 'matchballPulse 1.5s infinite'\r\n                }}>\r\n                  üèÜ\r\n                </span>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n\r\n      </div>\r\n\r\n      {/* Resize Handle */}\r\n      <div\r\n        className=\"resize-handle\"\r\n        style={{\r\n          position: 'absolute',\r\n          bottom: 0,\r\n          right: 0,\r\n          width: '16px',\r\n          height: '16px',\r\n          background: 'rgba(255, 255, 255, 0.6)',\r\n          cursor: 'nw-resize',\r\n          borderRadius: '0 0 12px 0',\r\n          clipPath: 'polygon(100% 0, 0 100%, 100% 100%)'\r\n        }}\r\n        onMouseDown={handleResizeStart}\r\n      />\r\n\r\n      <style>{`\r\n        @keyframes matchballPulse {\r\n          0%, 100% {\r\n            transform: scale(1);\r\n            opacity: 0.8;\r\n          }\r\n          50% {\r\n            transform: scale(1.05);\r\n            opacity: 1;\r\n          }\r\n        }\r\n        @keyframes victoryPulse {\r\n          0%, 100% {\r\n            transform: scale(1);\r\n            box-shadow: 0 0 20px rgba(0, 255, 136, 0.6);\r\n          }\r\n          50% {\r\n            transform: scale(1.02);\r\n            box-shadow: 0 0 40px rgba(0, 255, 136, 0.8);\r\n          }\r\n        }\r\n        @keyframes bounce {\r\n          0%, 20%, 50%, 80%, 100% {\r\n            transform: translateY(0);\r\n          }\r\n          40% {\r\n            transform: translateY(-10px);\r\n          }\r\n          60% {\r\n            transform: translateY(-5px);\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}