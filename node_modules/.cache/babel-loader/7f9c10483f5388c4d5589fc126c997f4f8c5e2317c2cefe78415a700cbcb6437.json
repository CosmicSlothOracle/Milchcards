{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\skank\\\\Videos\\\\Cards\\\\Milchcards\\\\src\\\\components\\\\GameInfoModal.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useCallback, useEffect } from 'react';\nimport { Icon } from '../ui/Icon';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const GameInfoModal = ({\n  gameState,\n  isVisible,\n  onToggle,\n  onPassTurn,\n  onToggleLog,\n  onCardClick,\n  devMode = false\n}) => {\n  _s();\n  const [position, setPosition] = useState({\n    x: 50,\n    y: 50\n  });\n  const [size, setSize] = useState({\n    width: 320,\n    height: 400\n  });\n  const [isDragging, setIsDragging] = useState(false);\n  const [isResizing, setIsResizing] = useState(false);\n  const [dragStart, setDragStart] = useState({\n    x: 0,\n    y: 0\n  });\n  const [resizeStart, setResizeStart] = useState({\n    pos: {\n      x: 0,\n      y: 0\n    },\n    size: {\n      width: 0,\n      height: 0\n    }\n  });\n  const [currentInfluence, setCurrentInfluence] = useState({\n    player: 0,\n    opponent: 0\n  });\n  const [influenceAnimation, setInfluenceAnimation] = useState({\n    player: 'none',\n    opponent: 'none'\n  });\n  const [showPassConfirmation, setShowPassConfirmation] = useState(false);\n  const modalRef = useRef(null);\n\n  // Position modal initially on the right side of the screen\n  useEffect(() => {\n    try {\n      const rightX = Math.max(16, window.innerWidth - size.width - 40);\n      setPosition({\n        x: rightX,\n        y: 50\n      });\n    } catch (e) {\n      // fallback: keep default position\n    }\n  }, []);\n\n  // Reset pass confirmation after 3 seconds\n  useEffect(() => {\n    if (showPassConfirmation) {\n      const timer = setTimeout(() => {\n        setShowPassConfirmation(false);\n      }, 3000);\n      return () => clearTimeout(timer);\n    }\n  }, [showPassConfirmation]);\n\n  // Calculate current influence\n  const calculateInfluence = useCallback(() => {\n    // Regelwerk: Alle Karten auf dem Board zÃ¤hlen fÃ¼r Einfluss\n    const calculatePlayerInfluence = player => {\n      let totalInfluence = 0;\n\n      // Count influence from cards on board (innen + aussen)\n      const playerBoard = gameState.board[player];\n      [...playerBoard.innen, ...playerBoard.aussen].forEach(card => {\n        if (card.kind === 'pol') {\n          const base = card.influence || 0;\n          const buffs = card.tempBuffs || 0;\n          const debuffs = card.tempDebuffs || 0;\n          totalInfluence += base + buffs - debuffs;\n        }\n      });\n\n      // Count influence from permanent slots\n      const permanentSlots = gameState.permanentSlots[player];\n      if (permanentSlots.government && permanentSlots.government.kind === 'pol') {\n        const c = permanentSlots.government;\n        totalInfluence += (c.influence || 0) + (c.tempBuffs || 0) - (c.tempDebuffs || 0);\n      }\n      if (permanentSlots.public && permanentSlots.public.kind === 'pol') {\n        const c = permanentSlots.public;\n        totalInfluence += (c.influence || 0) + (c.tempBuffs || 0) - (c.tempDebuffs || 0);\n      }\n      return totalInfluence;\n    };\n    const playerInfluence = calculatePlayerInfluence(1);\n    const opponentInfluence = calculatePlayerInfluence(2);\n    return {\n      player: playerInfluence,\n      opponent: opponentInfluence\n    };\n  }, [gameState]);\n\n  // Update influence and trigger animations\n  useEffect(() => {\n    const newInfluence = calculateInfluence();\n    const prevPlayer = currentInfluence.player;\n    const prevOpponent = currentInfluence.opponent;\n\n    // Determine animation types\n    let playerAnim = 'none';\n    let opponentAnim = 'none';\n    if (newInfluence.player > prevPlayer) {\n      playerAnim = 'success';\n    } else if (newInfluence.player < prevPlayer) {\n      playerAnim = 'loss';\n    }\n    if (newInfluence.opponent > prevOpponent) {\n      opponentAnim = 'success';\n    } else if (newInfluence.opponent < prevOpponent) {\n      opponentAnim = 'loss';\n    }\n\n    // Check winning/losing status\n    if (newInfluence.player > newInfluence.opponent) {\n      playerAnim = playerAnim === 'none' ? 'winning' : playerAnim;\n      opponentAnim = opponentAnim === 'none' ? 'losing' : opponentAnim;\n    } else if (newInfluence.opponent > newInfluence.player) {\n      playerAnim = playerAnim === 'none' ? 'losing' : playerAnim;\n      opponentAnim = opponentAnim === 'none' ? 'winning' : opponentAnim;\n    }\n\n    // Only update influence state when it actually changes to prevent loops\n    if (newInfluence.player !== prevPlayer || newInfluence.opponent !== prevOpponent) {\n      setCurrentInfluence(newInfluence);\n    }\n\n    // Avoid unnecessary animation state churn\n    setInfluenceAnimation(prev => {\n      const next = {\n        player: playerAnim,\n        opponent: opponentAnim\n      };\n      if (prev.player === next.player && prev.opponent === next.opponent) return prev;\n      return next;\n    });\n\n    // Reset animations after delay\n    const timer = setTimeout(() => {\n      setInfluenceAnimation(prev => prev.player === 'none' && prev.opponent === 'none' ? prev : {\n        player: 'none',\n        opponent: 'none'\n      });\n    }, 1000);\n    return () => clearTimeout(timer);\n  }, [gameState, calculateInfluence]);\n\n  // Check if a player has matchball (needs only 1 more round to win or leading by 3+ influence)\n  const getMatchballStatus = () => {\n    // Check rounds won first\n    const player1Wins = gameState.roundsWon[1];\n    const player2Wins = gameState.roundsWon[2];\n    if (player1Wins === 1 && player2Wins < 1) {\n      return {\n        player: 1,\n        hasMatchball: true\n      };\n    } else if (player2Wins === 1 && player1Wins < 1) {\n      return {\n        player: 2,\n        hasMatchball: true\n      };\n    }\n\n    // Check current influence lead (3+ points = matchball)\n    const p1Influence = currentInfluence.player;\n    const p2Influence = currentInfluence.opponent;\n    const leadDifference = Math.abs(p1Influence - p2Influence);\n    if (leadDifference >= 3) {\n      return {\n        hasMatchball: true,\n        player: p1Influence > p2Influence ? 1 : 2\n      };\n    }\n    return {\n      player: null,\n      hasMatchball: false\n    };\n  };\n\n  // Mouse handlers for dragging\n  const handleMouseDown = useCallback(e => {\n    if (e.target.classList.contains('resize-handle')) return;\n    setIsDragging(true);\n    setDragStart({\n      x: e.clientX - position.x,\n      y: e.clientY - position.y\n    });\n  }, [position]);\n  const handleMouseMove = useCallback(e => {\n    if (isDragging) {\n      setPosition({\n        x: e.clientX - dragStart.x,\n        y: e.clientY - dragStart.y\n      });\n    } else if (isResizing) {\n      const newWidth = Math.max(250, e.clientX - resizeStart.pos.x + resizeStart.size.width);\n      const newHeight = Math.max(300, e.clientY - resizeStart.pos.y + resizeStart.size.height);\n      setSize({\n        width: newWidth,\n        height: newHeight\n      });\n    }\n  }, [isDragging, isResizing, dragStart, resizeStart]);\n  const handleMouseUp = useCallback(() => {\n    setIsDragging(false);\n    setIsResizing(false);\n  }, []);\n\n  // Resize handle\n  const handleResizeStart = useCallback(e => {\n    e.stopPropagation();\n    setIsResizing(true);\n    setResizeStart({\n      pos: {\n        x: e.clientX,\n        y: e.clientY\n      },\n      size: {\n        ...size\n      }\n    });\n  }, [size]);\n  useEffect(() => {\n    if (isDragging || isResizing) {\n      document.addEventListener('mousemove', handleMouseMove);\n      document.addEventListener('mouseup', handleMouseUp);\n      return () => {\n        document.removeEventListener('mousemove', handleMouseMove);\n        document.removeEventListener('mouseup', handleMouseUp);\n      };\n    }\n  }, [isDragging, isResizing, handleMouseMove, handleMouseUp]);\n\n  // Get game phase text\n  const getGamePhase = () => {\n    if (gameState.passed[1] && gameState.passed[2]) {\n      return 'Round Evaluation';\n    }\n    return `Round ${gameState.round}`;\n  };\n\n  // Get player turn text with detailed status\n  const getPlayerTurn = () => {\n    if (gameState.passed[1] && gameState.passed[2]) {\n      return 'Round ended - Evaluation running';\n    }\n    const currentPlayer = gameState.current;\n    const remainingAP = gameState.actionPoints[currentPlayer];\n    if (currentPlayer === 1) {\n      if (remainingAP <= 0) {\n        return 'Your turn ended - Click to continue';\n      }\n      return `Your turn - ${remainingAP} AP`;\n    } else {\n      if (remainingAP <= 0) {\n        return 'Opponent turn ended';\n      }\n      return `Opponent's turn - ${remainingAP} AP`;\n    }\n  };\n\n  // Influence animation styles\n  const getInfluenceStyle = type => {\n    const baseStyle = {\n      fontSize: '32px',\n      fontWeight: 'bold',\n      textAlign: 'center',\n      transition: 'all 0.3s ease',\n      textShadow: '0 0 8px rgba(0,0,0,0.5)'\n    };\n    switch (type) {\n      case 'success':\n        return {\n          ...baseStyle,\n          color: '#4ade80',\n          transform: 'scale(1.2)',\n          textShadow: '0 0 12px #4ade80'\n        };\n      case 'loss':\n        return {\n          ...baseStyle,\n          color: '#ef4444',\n          transform: 'scale(0.9)',\n          textShadow: '0 0 12px #ef4444'\n        };\n      case 'winning':\n        return {\n          ...baseStyle,\n          color: '#fbbf24',\n          textShadow: '0 0 8px #fbbf24'\n        };\n      case 'losing':\n        return {\n          ...baseStyle,\n          color: '#374151',\n          textShadow: '0 0 8px #374151'\n        };\n      default:\n        return {\n          ...baseStyle,\n          color: '#e5e7eb'\n        };\n    }\n  };\n\n  // Parse recent log entries into compact icon+number summaries\n  const parseActionSummary = entry => {\n    const list = [];\n    const numMatch = entry.match(/([-+]?\\d+)/);\n    const amount = numMatch ? parseInt(numMatch[1], 10) : undefined;\n    if (/draw|zieht/i.test(entry)) {\n      list.push({\n        icon: 'draw_cards',\n        amount: amount !== null && amount !== void 0 ? amount : 1\n      });\n    }\n    if (/shield|Schild|grant shield/i.test(entry)) {\n      list.push({\n        icon: 'grant_shield',\n        amount: amount !== null && amount !== void 0 ? amount : 1\n      });\n    }\n    if (/deactivate|deaktiv/i.test(entry)) {\n      list.push({\n        icon: 'deactivate_card'\n      });\n    }\n    if (/discard|abwerfen|discarded/i.test(entry)) {\n      list.push({\n        icon: 'discard_cards',\n        amount: amount !== null && amount !== void 0 ? amount : 1\n      });\n    }\n    if (/buff|buffs|erhÃ¤lt|gains/i.test(entry)) {\n      list.push({\n        icon: 'buff_strength',\n        amount: amount !== null && amount !== void 0 ? amount : undefined\n      });\n    }\n    if (/register trap|register|trap|Falle/i.test(entry)) {\n      list.push({\n        icon: 'register_trap'\n      });\n    }\n    if (/ap|action point|Action Points|AP/i.test(entry)) {\n      // show AP changes as number next to AP icon\n      list.push({\n        icon: 'ap',\n        amount: amount\n      });\n    }\n    if (/influence|Einfluss/i.test(entry)) {\n      list.push({\n        icon: 'influence',\n        amount: amount\n      });\n    }\n\n    // Fallback: if nothing matched but there's a number, show it with game_log icon\n    if (list.length === 0 && amount != null) {\n      list.push({\n        icon: 'game_log',\n        amount\n      });\n    }\n    return list;\n  };\n  if (!isVisible) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: modalRef,\n    style: {\n      position: 'fixed',\n      left: position.x,\n      top: position.y,\n      width: size.width,\n      height: size.height,\n      background: 'rgba(13, 22, 33, 0.05)',\n      border: '1px solid rgba(255, 255, 255, 1)',\n      borderRadius: '12px',\n      backdropFilter: 'blur(2px)',\n      zIndex: 1000,\n      cursor: isDragging ? 'grabbing' : 'grab',\n      userSelect: 'none',\n      boxShadow: '0 4px 12px rgba(0, 0, 0, 0.15)'\n    },\n    onMouseDown: handleMouseDown,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '12px 16px',\n        borderBottom: '1px solid rgba(255, 255, 255, 0.3)',\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '12px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#e5e7eb',\n            fontSize: '14px',\n            fontWeight: '600'\n          },\n          children: \"AP\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '6px',\n            alignItems: 'center'\n          },\n          children: [0, 1].map(index => {\n            const currentPlayer = gameState.current;\n            const remainingAP = gameState.actionPoints[currentPlayer];\n            const isUsed = index >= remainingAP;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                width: '12px',\n                height: '12px',\n                borderRadius: '50%',\n                background: isUsed ? 'rgba(239, 68, 68, 0.8)' : 'rgba(34, 197, 94, 0.9)',\n                boxShadow: isUsed ? '0 0 8px rgba(239, 68, 68, 0.6)' : '0 0 12px rgba(34, 197, 94, 0.8)',\n                border: isUsed ? '1px solid rgba(239, 68, 68, 1)' : '1px solid rgba(34, 197, 94, 1)',\n                transition: 'all 0.3s ease'\n              }\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 9\n      }, this), (gameState.current === 1 && !gameState.passed[1] || devMode && gameState.current === 2 && !gameState.passed[2]) && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '8px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            console.log(`ðŸ”§ DEBUG: End turn clicked for player ${gameState.current}`);\n            onCardClick({\n              type: 'button_end_turn',\n              player: gameState.current\n            });\n          },\n          style: {\n            background: 'linear-gradient(45deg, #3b82f6, #2563eb)',\n            border: 'none',\n            borderRadius: '6px',\n            padding: '6px 12px',\n            color: 'white',\n            fontSize: '12px',\n            fontWeight: '600',\n            cursor: 'pointer',\n            boxShadow: '0 2px 8px rgba(59, 130, 246, 0.4)',\n            transition: 'all 0.2s ease'\n          },\n          onMouseEnter: e => {\n            e.currentTarget.style.transform = 'scale(1.05)';\n          },\n          onMouseLeave: e => {\n            e.currentTarget.style.transform = 'scale(1)';\n          },\n          title: \"Ends only your turn \\u2013 the round continues.\",\n          children: \"End Turn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 13\n        }, this), showPassConfirmation ? /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            console.log(`ðŸ”§ DEBUG: Pass confirmation clicked for player ${gameState.current}`);\n            onCardClick({\n              type: 'button_pass_turn',\n              player: gameState.current\n            });\n            setShowPassConfirmation(false);\n          },\n          style: {\n            background: 'linear-gradient(45deg, #dc2626, #b91c1c)',\n            border: 'none',\n            borderRadius: '6px',\n            padding: '6px 12px',\n            color: 'white',\n            fontSize: '12px',\n            fontWeight: '600',\n            cursor: 'pointer',\n            boxShadow: '0 2px 8px rgba(220, 38, 38, 0.4)',\n            transition: 'all 0.2s ease'\n          },\n          onMouseEnter: e => {\n            e.currentTarget.style.transform = 'scale(1.05)';\n          },\n          onMouseLeave: e => {\n            e.currentTarget.style.transform = 'scale(1)';\n          },\n          children: \"Really Pass\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowPassConfirmation(true),\n          style: {\n            background: 'linear-gradient(45deg, #ef4444, #dc2626)',\n            border: 'none',\n            borderRadius: '6px',\n            padding: '6px 12px',\n            color: 'white',\n            fontSize: '12px',\n            fontWeight: '600',\n            cursor: 'pointer',\n            boxShadow: '0 2px 8px rgba(239, 68, 68, 0.4)',\n            transition: 'all 0.2s ease'\n          },\n          onMouseEnter: e => {\n            e.currentTarget.style.transform = 'scale(1.05)';\n          },\n          onMouseLeave: e => {\n            e.currentTarget.style.transform = 'scale(1)';\n          },\n          children: \"Pass\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onToggle,\n        style: {\n          background: 'none',\n          border: 'none',\n          color: '#9ca3af',\n          fontSize: '18px',\n          cursor: 'pointer',\n          padding: '4px'\n        },\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onToggleLog,\n        style: {\n          background: 'linear-gradient(45deg, #8b5cf6, #7c3aed)',\n          border: 'none',\n          borderRadius: '6px',\n          padding: '6px 12px',\n          color: 'white',\n          fontSize: '12px',\n          fontWeight: '600',\n          cursor: 'pointer',\n          boxShadow: '0 2px 8px rgba(139, 92, 246, 0.4)',\n          transition: 'all 0.2s ease',\n          marginRight: '8px'\n        },\n        onMouseEnter: e => {\n          e.currentTarget.style.transform = 'scale(1.05)';\n        },\n        onMouseLeave: e => {\n          e.currentTarget.style.transform = 'scale(1)';\n        },\n        children: \"\\uD83D\\uDCCB Log\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '16px',\n        height: 'calc(100% - 60px)',\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '16px'\n      },\n      children: [gameState.gameWinner && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          background: 'linear-gradient(135deg, rgba(0, 255, 136, 0.95), rgba(34, 197, 94, 0.95))',\n          display: 'flex',\n          flexDirection: 'column',\n          justifyContent: 'center',\n          alignItems: 'center',\n          zIndex: 1000,\n          borderRadius: '12px',\n          backdropFilter: 'blur(8px)',\n          animation: 'victoryPulse 2s infinite'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '48px',\n            marginBottom: '16px',\n            animation: 'bounce 1s infinite'\n          },\n          children: \"\\uD83C\\uDFC6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'white',\n            fontSize: '24px',\n            fontWeight: '800',\n            textAlign: 'center',\n            marginBottom: '8px',\n            textShadow: '0 2px 8px rgba(0, 0, 0, 0.5)'\n          },\n          children: gameState.gameWinner === 1 ? 'YOU WIN!' : 'OPPONENT WINS!'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 560,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'rgba(255, 255, 255, 0.9)',\n            fontSize: '18px',\n            fontWeight: '600',\n            textAlign: 'center',\n            marginBottom: '12px',\n            textShadow: '0 1px 4px rgba(0, 0, 0, 0.3)'\n          },\n          children: [\"Player \", gameState.gameWinner, \" is the winner!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'rgba(255, 255, 255, 0.8)',\n            fontSize: '16px',\n            fontWeight: '500',\n            textAlign: 'center',\n            background: 'rgba(255, 255, 255, 0.2)',\n            padding: '8px 16px',\n            borderRadius: '8px',\n            backdropFilter: 'blur(4px)'\n          },\n          children: [\"Round Standings: \", gameState.roundsWon[1], \" - \", gameState.roundsWon[2]]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 580,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#9ca3af',\n            fontSize: '12px',\n            marginBottom: '4px'\n          },\n          children: \"Game Phase\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            gap: '12px',\n            flexWrap: 'wrap'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#e5e7eb',\n              fontSize: '16px',\n              fontWeight: '600'\n            },\n            children: getGamePhase()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 606,\n            columnNumber: 13\n          }, this), (() => {\n            const matchball = getMatchballStatus();\n            if (matchball.hasMatchball) {\n              const isPlayer = matchball.player === 1;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  color: isPlayer ? '#00ff88' : '#ff6b6b',\n                  fontSize: '14px',\n                  fontWeight: '700',\n                  textShadow: `0 0 8px ${isPlayer ? '#00ff88' : '#ff6b6b'}`,\n                  animation: 'matchballPulse 2s ease-in-out infinite',\n                  padding: '4px 8px',\n                  border: `1px solid ${isPlayer ? '#00ff88' : '#ff6b6b'}`,\n                  borderRadius: '12px',\n                  backgroundColor: `${isPlayer ? '#00ff8820' : '#ff6b6b20'}`\n                },\n                children: isPlayer ? 'ðŸŽ¯ MATCHBALL' : 'âš ï¸ MATCHBALL'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 614,\n                columnNumber: 19\n              }, this);\n            }\n            return null;\n          })()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 599,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 595,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '8px',\n          borderTop: '1px solid rgba(255,255,255,0.06)',\n          paddingTop: '8px',\n          display: 'flex',\n          gap: '8px',\n          alignItems: 'center',\n          justifyContent: 'center',\n          flexWrap: 'wrap'\n        },\n        children: (gameState.log.slice(-6).reverse() || []).map((entry, idx) => {\n          const summary = parseActionSummary(entry);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: 6,\n              alignItems: 'center',\n              padding: '4px 8px',\n              background: 'rgba(255,255,255,0.02)',\n              borderRadius: 8\n            },\n            children: summary.map((s, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: 4\n              },\n              children: [/*#__PURE__*/_jsxDEV(Icon, {\n                name: s.icon,\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 643,\n                columnNumber: 21\n              }, this), s.amount != null && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  color: '#e5e7eb',\n                  fontWeight: 700,\n                  fontSize: 12\n                },\n                children: s.amount\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 644,\n                columnNumber: 42\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 642,\n              columnNumber: 19\n            }, this))\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 640,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 636,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#9ca3af',\n            fontSize: '12px',\n            marginBottom: '4px'\n          },\n          children: \"Status\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#fbbf24',\n            fontSize: '14px',\n            fontWeight: '500',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            gap: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Icon, {\n            name: \"start_of_turn\",\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 666,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Your turn \\u2013 \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 667,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Icon, {\n            name: \"ap\",\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 668,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: gameState.actionPoints[1]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 669,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \" (action points)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 670,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 657,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 653,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: '1fr 1fr',\n          gap: '12px',\n          marginBottom: '8px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#9ca3af',\n              fontSize: '11px',\n              marginBottom: '4px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              gap: '6px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Icon, {\n              name: \"ap\",\n              size: 12\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 686,\n              columnNumber: 15\n            }, this), \"Your AP\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 677,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: gameState.actionPoints[1] > 0 ? '#00ff88' : '#ef4444',\n              fontSize: '18px',\n              fontWeight: '700',\n              textShadow: '0 0 4px currentColor'\n            },\n            children: gameState.actionPoints[1]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 689,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 676,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#9ca3af',\n              fontSize: '11px',\n              marginBottom: '4px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              gap: '6px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Icon, {\n              name: \"ap\",\n              size: 12\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 708,\n              columnNumber: 15\n            }, this), \"Opponent AP\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 699,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: gameState.actionPoints[2] > 0 ? '#00ff88' : '#ef4444',\n              fontSize: '18px',\n              fontWeight: '700',\n              textShadow: '0 0 4px currentColor'\n            },\n            children: gameState.actionPoints[2]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 711,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 698,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 675,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: '1fr 1fr',\n          gap: '12px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#9ca3af',\n              fontSize: '11px',\n              marginBottom: '4px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              gap: '6px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Icon, {\n              name: \"influence\",\n              size: 12\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 734,\n              columnNumber: 15\n            }, this), \"Your Influence\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 725,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: getInfluenceStyle(influenceAnimation.player),\n            children: currentInfluence.player\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 737,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 724,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#9ca3af',\n              fontSize: '11px',\n              marginBottom: '4px'\n            },\n            children: \"Opponent Influence\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 742,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: getInfluenceStyle(influenceAnimation.opponent),\n            children: currentInfluence.opponent\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 745,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 741,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 723,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: '1fr 1fr',\n          gap: '12px',\n          marginTop: '8px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#9ca3af',\n              fontSize: '11px',\n              marginBottom: '4px'\n            },\n            children: \"Your Rounds\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 754,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: gameState.roundsWon[1] >= 2 ? '#00ff88' : '#fbbf24',\n              fontSize: '18px',\n              fontWeight: '700',\n              textShadow: '0 0 4px currentColor'\n            },\n            children: [gameState.roundsWon[1], \"/3\", gameState.roundsWon[1] >= 2 && /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                marginLeft: '8px',\n                fontSize: '14px',\n                animation: 'matchballPulse 1.5s infinite'\n              },\n              children: \"\\uD83C\\uDFC6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 765,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 757,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 753,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#9ca3af',\n              fontSize: '11px',\n              marginBottom: '4px'\n            },\n            children: \"Opponent Rounds\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 776,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: gameState.roundsWon[2] >= 2 ? '#00ff88' : '#fbbf24',\n              fontSize: '18px',\n              fontWeight: '700',\n              textShadow: '0 0 4px currentColor'\n            },\n            children: [gameState.roundsWon[2], \"/3\", gameState.roundsWon[2] >= 2 && /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                marginLeft: '8px',\n                fontSize: '14px',\n                animation: 'matchballPulse 1.5s infinite'\n              },\n              children: \"\\uD83C\\uDFC6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 787,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 779,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 775,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 752,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 533,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"resize-handle\",\n      style: {\n        position: 'absolute',\n        bottom: 0,\n        right: 0,\n        width: '16px',\n        height: '16px',\n        background: 'rgba(255, 255, 255, 0.6)',\n        cursor: 'nw-resize',\n        borderRadius: '0 0 12px 0',\n        clipPath: 'polygon(100% 0, 0 100%, 100% 100%)'\n      },\n      onMouseDown: handleResizeStart\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 803,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        @keyframes matchballPulse {\n          0%, 100% {\n            transform: scale(1);\n            opacity: 0.8;\n          }\n          50% {\n            transform: scale(1.05);\n            opacity: 1;\n          }\n        }\n        @keyframes victoryPulse {\n          0%, 100% {\n            transform: scale(1);\n            box-shadow: 0 0 20px rgba(0, 255, 136, 0.6);\n          }\n          50% {\n            transform: scale(1.02);\n            box-shadow: 0 0 40px rgba(0, 255, 136, 0.8);\n          }\n        }\n        @keyframes bounce {\n          0%, 20%, 50%, 80%, 100% {\n            transform: translateY(0);\n          }\n          40% {\n            transform: translateY(-10px);\n          }\n          60% {\n            transform: translateY(-5px);\n          }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 819,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 339,\n    columnNumber: 5\n  }, this);\n};\n_s(GameInfoModal, \"feH7CoREgLeIp4sv06nxSqSnkFs=\");\n_c = GameInfoModal;\nvar _c;\n$RefreshReg$(_c, \"GameInfoModal\");","map":{"version":3,"names":["React","useState","useRef","useCallback","useEffect","Icon","jsxDEV","_jsxDEV","GameInfoModal","gameState","isVisible","onToggle","onPassTurn","onToggleLog","onCardClick","devMode","_s","position","setPosition","x","y","size","setSize","width","height","isDragging","setIsDragging","isResizing","setIsResizing","dragStart","setDragStart","resizeStart","setResizeStart","pos","currentInfluence","setCurrentInfluence","player","opponent","influenceAnimation","setInfluenceAnimation","showPassConfirmation","setShowPassConfirmation","modalRef","rightX","Math","max","window","innerWidth","e","timer","setTimeout","clearTimeout","calculateInfluence","calculatePlayerInfluence","totalInfluence","playerBoard","board","innen","aussen","forEach","card","kind","base","influence","buffs","tempBuffs","debuffs","tempDebuffs","permanentSlots","government","c","public","playerInfluence","opponentInfluence","newInfluence","prevPlayer","prevOpponent","playerAnim","opponentAnim","prev","next","getMatchballStatus","player1Wins","roundsWon","player2Wins","hasMatchball","p1Influence","p2Influence","leadDifference","abs","handleMouseDown","target","classList","contains","clientX","clientY","handleMouseMove","newWidth","newHeight","handleMouseUp","handleResizeStart","stopPropagation","document","addEventListener","removeEventListener","getGamePhase","passed","round","getPlayerTurn","currentPlayer","current","remainingAP","actionPoints","getInfluenceStyle","type","baseStyle","fontSize","fontWeight","textAlign","transition","textShadow","color","transform","parseActionSummary","entry","list","numMatch","match","amount","parseInt","undefined","test","push","icon","length","ref","style","left","top","background","border","borderRadius","backdropFilter","zIndex","cursor","userSelect","boxShadow","onMouseDown","children","padding","borderBottom","display","justifyContent","alignItems","gap","fileName","_jsxFileName","lineNumber","columnNumber","map","index","isUsed","onClick","console","log","onMouseEnter","currentTarget","onMouseLeave","title","marginRight","flexDirection","gameWinner","right","bottom","animation","marginBottom","flexWrap","matchball","isPlayer","backgroundColor","marginTop","borderTop","paddingTop","slice","reverse","idx","summary","s","i","name","gridTemplateColumns","marginLeft","className","clipPath","_c","$RefreshReg$"],"sources":["C:/Users/skank/Videos/Cards/Milchcards/src/components/GameInfoModal.tsx"],"sourcesContent":["import React, { useState, useRef, useCallback, useEffect } from 'react';\r\nimport { GameState } from '../types/game';\r\nimport { Icon } from '../ui/Icon';\r\nimport { withIcons } from '../ui/withIcons';\r\n\r\ninterface GameInfoModalProps {\r\n  gameState: GameState;\r\n  isVisible: boolean;\r\n  onToggle: () => void;\r\n  onPassTurn: (player: 1 | 2) => void;\r\n  onToggleLog: () => void;\r\n  onCardClick: (data: any) => void;\r\n  devMode?: boolean;\r\n}\r\n\r\ninterface Position {\r\n  x: number;\r\n  y: number;\r\n}\r\n\r\ninterface Size {\r\n  width: number;\r\n  height: number;\r\n}\r\n\r\nexport const GameInfoModal: React.FC<GameInfoModalProps> = ({\r\n  gameState,\r\n  isVisible,\r\n  onToggle,\r\n  onPassTurn,\r\n  onToggleLog,\r\n  onCardClick,\r\n  devMode = false\r\n}) => {\r\n  const [position, setPosition] = useState<Position>({ x: 50, y: 50 });\r\n  const [size, setSize] = useState<Size>({ width: 320, height: 400 });\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [isResizing, setIsResizing] = useState(false);\r\n  const [dragStart, setDragStart] = useState<Position>({ x: 0, y: 0 });\r\n  const [resizeStart, setResizeStart] = useState<{ pos: Position; size: Size }>({\r\n    pos: { x: 0, y: 0 },\r\n    size: { width: 0, height: 0 }\r\n  });\r\n  const [currentInfluence, setCurrentInfluence] = useState({ player: 0, opponent: 0 });\r\n  const [influenceAnimation, setInfluenceAnimation] = useState<{\r\n    player: 'none' | 'success' | 'loss' | 'losing' | 'winning';\r\n    opponent: 'none' | 'success' | 'loss' | 'losing' | 'winning';\r\n  }>({ player: 'none', opponent: 'none' });\r\n  const [showPassConfirmation, setShowPassConfirmation] = useState(false);\r\n\r\n  const modalRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Position modal initially on the right side of the screen\r\n  useEffect(() => {\r\n    try {\r\n      const rightX = Math.max(16, window.innerWidth - size.width - 40);\r\n      setPosition({ x: rightX, y: 50 });\r\n    } catch (e) {\r\n      // fallback: keep default position\r\n    }\r\n  }, []);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  // Reset pass confirmation after 3 seconds\r\n  useEffect(() => {\r\n    if (showPassConfirmation) {\r\n      const timer = setTimeout(() => {\r\n        setShowPassConfirmation(false);\r\n      }, 3000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [showPassConfirmation]);\r\n\r\n  // Calculate current influence\r\n  const calculateInfluence = useCallback(() => {\r\n    // Regelwerk: Alle Karten auf dem Board zÃ¤hlen fÃ¼r Einfluss\r\n    const calculatePlayerInfluence = (player: 1 | 2): number => {\r\n      let totalInfluence = 0;\r\n\r\n      // Count influence from cards on board (innen + aussen)\r\n      const playerBoard = gameState.board[player];\r\n      [...playerBoard.innen, ...playerBoard.aussen].forEach(card => {\r\n        if (card.kind === 'pol') {\r\n          const base = (card as any).influence || 0;\r\n          const buffs = (card as any).tempBuffs || 0;\r\n          const debuffs = (card as any).tempDebuffs || 0;\r\n          totalInfluence += base + buffs - debuffs;\r\n        }\r\n      });\r\n\r\n      // Count influence from permanent slots\r\n      const permanentSlots = gameState.permanentSlots[player];\r\n      if (permanentSlots.government && permanentSlots.government.kind === 'pol') {\r\n        const c = permanentSlots.government as any;\r\n        totalInfluence += (c.influence || 0) + (c.tempBuffs||0) - (c.tempDebuffs||0);\r\n      }\r\n      if (permanentSlots.public && permanentSlots.public.kind === 'pol') {\r\n        const c = permanentSlots.public as any;\r\n        totalInfluence += (c.influence || 0) + (c.tempBuffs||0) - (c.tempDebuffs||0);\r\n      }\r\n\r\n      return totalInfluence;\r\n    };\r\n\r\n    const playerInfluence = calculatePlayerInfluence(1);\r\n    const opponentInfluence = calculatePlayerInfluence(2);\r\n\r\n    return { player: playerInfluence, opponent: opponentInfluence };\r\n  }, [gameState]);\r\n\r\n  // Update influence and trigger animations\r\n  useEffect(() => {\r\n    const newInfluence = calculateInfluence();\r\n    const prevPlayer = currentInfluence.player;\r\n    const prevOpponent = currentInfluence.opponent;\r\n\r\n    // Determine animation types\r\n    let playerAnim: typeof influenceAnimation.player = 'none';\r\n    let opponentAnim: typeof influenceAnimation.opponent = 'none';\r\n\r\n    if (newInfluence.player > prevPlayer) {\r\n      playerAnim = 'success';\r\n    } else if (newInfluence.player < prevPlayer) {\r\n      playerAnim = 'loss';\r\n    }\r\n\r\n    if (newInfluence.opponent > prevOpponent) {\r\n      opponentAnim = 'success';\r\n    } else if (newInfluence.opponent < prevOpponent) {\r\n      opponentAnim = 'loss';\r\n    }\r\n\r\n    // Check winning/losing status\r\n    if (newInfluence.player > newInfluence.opponent) {\r\n      playerAnim = playerAnim === 'none' ? 'winning' : playerAnim;\r\n      opponentAnim = opponentAnim === 'none' ? 'losing' : opponentAnim;\r\n    } else if (newInfluence.opponent > newInfluence.player) {\r\n      playerAnim = playerAnim === 'none' ? 'losing' : playerAnim;\r\n      opponentAnim = opponentAnim === 'none' ? 'winning' : opponentAnim;\r\n    }\r\n\r\n    // Only update influence state when it actually changes to prevent loops\r\n    if (newInfluence.player !== prevPlayer || newInfluence.opponent !== prevOpponent) {\r\n      setCurrentInfluence(newInfluence);\r\n    }\r\n\r\n    // Avoid unnecessary animation state churn\r\n    setInfluenceAnimation(prev => {\r\n      const next = { player: playerAnim, opponent: opponentAnim } as typeof prev;\r\n      if (prev.player === next.player && prev.opponent === next.opponent) return prev;\r\n      return next;\r\n    });\r\n\r\n    // Reset animations after delay\r\n    const timer = setTimeout(() => {\r\n      setInfluenceAnimation(prev => (prev.player === 'none' && prev.opponent === 'none' ? prev : { player: 'none', opponent: 'none' }));\r\n    }, 1000);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, [gameState, calculateInfluence]);\r\n\r\n  // Check if a player has matchball (needs only 1 more round to win or leading by 3+ influence)\r\n  const getMatchballStatus = () => {\r\n    // Check rounds won first\r\n    const player1Wins = gameState.roundsWon[1];\r\n    const player2Wins = gameState.roundsWon[2];\r\n\r\n    if (player1Wins === 1 && player2Wins < 1) {\r\n      return { player: 1, hasMatchball: true };\r\n    } else if (player2Wins === 1 && player1Wins < 1) {\r\n      return { player: 2, hasMatchball: true };\r\n    }\r\n\r\n    // Check current influence lead (3+ points = matchball)\r\n    const p1Influence = currentInfluence.player;\r\n    const p2Influence = currentInfluence.opponent;\r\n    const leadDifference = Math.abs(p1Influence - p2Influence);\r\n\r\n    if (leadDifference >= 3) {\r\n      return {\r\n        hasMatchball: true,\r\n        player: p1Influence > p2Influence ? 1 : 2\r\n      };\r\n    }\r\n\r\n    return { player: null, hasMatchball: false };\r\n  };\r\n\r\n  // Mouse handlers for dragging\r\n  const handleMouseDown = useCallback((e: React.MouseEvent) => {\r\n    if ((e.target as HTMLElement).classList.contains('resize-handle')) return;\r\n    setIsDragging(true);\r\n    setDragStart({\r\n      x: e.clientX - position.x,\r\n      y: e.clientY - position.y\r\n    });\r\n  }, [position]);\r\n\r\n  const handleMouseMove = useCallback((e: MouseEvent) => {\r\n    if (isDragging) {\r\n      setPosition({\r\n        x: e.clientX - dragStart.x,\r\n        y: e.clientY - dragStart.y\r\n      });\r\n    } else if (isResizing) {\r\n      const newWidth = Math.max(250, e.clientX - resizeStart.pos.x + resizeStart.size.width);\r\n      const newHeight = Math.max(300, e.clientY - resizeStart.pos.y + resizeStart.size.height);\r\n      setSize({ width: newWidth, height: newHeight });\r\n    }\r\n  }, [isDragging, isResizing, dragStart, resizeStart]);\r\n\r\n  const handleMouseUp = useCallback(() => {\r\n    setIsDragging(false);\r\n    setIsResizing(false);\r\n  }, []);\r\n\r\n  // Resize handle\r\n  const handleResizeStart = useCallback((e: React.MouseEvent) => {\r\n    e.stopPropagation();\r\n    setIsResizing(true);\r\n    setResizeStart({\r\n      pos: { x: e.clientX, y: e.clientY },\r\n      size: { ...size }\r\n    });\r\n  }, [size]);\r\n\r\n  useEffect(() => {\r\n    if (isDragging || isResizing) {\r\n      document.addEventListener('mousemove', handleMouseMove);\r\n      document.addEventListener('mouseup', handleMouseUp);\r\n      return () => {\r\n        document.removeEventListener('mousemove', handleMouseMove);\r\n        document.removeEventListener('mouseup', handleMouseUp);\r\n      };\r\n    }\r\n  }, [isDragging, isResizing, handleMouseMove, handleMouseUp]);\r\n\r\n  // Get game phase text\r\n  const getGamePhase = () => {\r\n    if (gameState.passed[1] && gameState.passed[2]) {\r\n      return 'Round Evaluation';\r\n    }\r\n    return `Round ${gameState.round}`;\r\n  };\r\n\r\n  // Get player turn text with detailed status\r\n  const getPlayerTurn = () => {\r\n    if (gameState.passed[1] && gameState.passed[2]) {\r\n      return 'Round ended - Evaluation running';\r\n    }\r\n\r\n    const currentPlayer = gameState.current;\r\n    const remainingAP = gameState.actionPoints[currentPlayer];\r\n\r\n    if (currentPlayer === 1) {\r\n      if (remainingAP <= 0) {\r\n        return 'Your turn ended - Click to continue';\r\n      }\r\n      return `Your turn - ${remainingAP} AP`;\r\n    } else {\r\n      if (remainingAP <= 0) {\r\n        return 'Opponent turn ended';\r\n      }\r\n      return `Opponent's turn - ${remainingAP} AP`;\r\n    }\r\n  };\r\n\r\n  // Influence animation styles\r\n  const getInfluenceStyle = (type: typeof influenceAnimation.player) => {\r\n    const baseStyle = {\r\n      fontSize: '32px',\r\n      fontWeight: 'bold',\r\n      textAlign: 'center' as const,\r\n      transition: 'all 0.3s ease',\r\n      textShadow: '0 0 8px rgba(0,0,0,0.5)'\r\n    };\r\n\r\n    switch (type) {\r\n      case 'success':\r\n        return { ...baseStyle, color: '#4ade80', transform: 'scale(1.2)', textShadow: '0 0 12px #4ade80' };\r\n      case 'loss':\r\n        return { ...baseStyle, color: '#ef4444', transform: 'scale(0.9)', textShadow: '0 0 12px #ef4444' };\r\n      case 'winning':\r\n        return { ...baseStyle, color: '#fbbf24', textShadow: '0 0 8px #fbbf24' };\r\n      case 'losing':\r\n        return { ...baseStyle, color: '#374151', textShadow: '0 0 8px #374151' };\r\n      default:\r\n        return { ...baseStyle, color: '#e5e7eb' };\r\n    }\r\n  };\r\n\r\n  // Parse recent log entries into compact icon+number summaries\r\n  const parseActionSummary = (entry: string) => {\r\n    const list: Array<{ icon: string; amount?: number }> = [];\r\n    const numMatch = entry.match(/([-+]?\\d+)/);\r\n    const amount = numMatch ? parseInt(numMatch[1], 10) : undefined;\r\n\r\n    if (/draw|zieht/i.test(entry)) {\r\n      list.push({ icon: 'draw_cards', amount: amount ?? 1 });\r\n    }\r\n    if (/shield|Schild|grant shield/i.test(entry)) {\r\n      list.push({ icon: 'grant_shield', amount: amount ?? 1 });\r\n    }\r\n    if (/deactivate|deaktiv/i.test(entry)) {\r\n      list.push({ icon: 'deactivate_card' });\r\n    }\r\n    if (/discard|abwerfen|discarded/i.test(entry)) {\r\n      list.push({ icon: 'discard_cards', amount: amount ?? 1 });\r\n    }\r\n    if (/buff|buffs|erhÃ¤lt|gains/i.test(entry)) {\r\n      list.push({ icon: 'buff_strength', amount: amount ?? undefined });\r\n    }\r\n    if (/register trap|register|trap|Falle/i.test(entry)) {\r\n      list.push({ icon: 'register_trap' });\r\n    }\r\n    if (/ap|action point|Action Points|AP/i.test(entry)) {\r\n      // show AP changes as number next to AP icon\r\n      list.push({ icon: 'ap', amount: amount });\r\n    }\r\n    if (/influence|Einfluss/i.test(entry)) {\r\n      list.push({ icon: 'influence', amount: amount });\r\n    }\r\n\r\n    // Fallback: if nothing matched but there's a number, show it with game_log icon\r\n    if (list.length === 0 && amount != null) {\r\n      list.push({ icon: 'game_log', amount });\r\n    }\r\n    return list;\r\n  };\r\n\r\n  if (!isVisible) return null;\r\n\r\n  return (\r\n    <div\r\n      ref={modalRef}\r\n      style={{\r\n        position: 'fixed',\r\n        left: position.x,\r\n        top: position.y,\r\n        width: size.width,\r\n        height: size.height,\r\n        background: 'rgba(13, 22, 33, 0.05)',\r\n        border: '1px solid rgba(255, 255, 255, 1)',\r\n        borderRadius: '12px',\r\n        backdropFilter: 'blur(2px)',\r\n        zIndex: 1000,\r\n        cursor: isDragging ? 'grabbing' : 'grab',\r\n        userSelect: 'none',\r\n        boxShadow: '0 4px 12px rgba(0, 0, 0, 0.15)',\r\n      }}\r\n      onMouseDown={handleMouseDown}\r\n    >\r\n      {/* Header - AP Counter and Pass Button */}\r\n      <div style={{\r\n        padding: '12px 16px',\r\n        borderBottom: '1px solid rgba(255, 255, 255, 0.3)',\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center'\r\n      }}>\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\r\n          <div style={{ color: '#e5e7eb', fontSize: '14px', fontWeight: '600' }}>\r\n            AP\r\n          </div>\r\n          <div style={{ display: 'flex', gap: '6px', alignItems: 'center' }}>\r\n            {[0, 1].map((index) => {\r\n              const currentPlayer = gameState.current;\r\n              const remainingAP = gameState.actionPoints[currentPlayer];\r\n              const isUsed = index >= remainingAP;\r\n              return (\r\n                <div\r\n                  key={index}\r\n                  style={{\r\n                    width: '12px',\r\n                    height: '12px',\r\n                    borderRadius: '50%',\r\n                    background: isUsed\r\n                      ? 'rgba(239, 68, 68, 0.8)'\r\n                      : 'rgba(34, 197, 94, 0.9)',\r\n                    boxShadow: isUsed\r\n                      ? '0 0 8px rgba(239, 68, 68, 0.6)'\r\n                      : '0 0 12px rgba(34, 197, 94, 0.8)',\r\n                    border: isUsed\r\n                      ? '1px solid rgba(239, 68, 68, 1)'\r\n                      : '1px solid rgba(34, 197, 94, 1)',\r\n                    transition: 'all 0.3s ease'\r\n                  }}\r\n                />\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Action Buttons - Show for current player (P1 always, P2 only in dev mode) */}\r\n        {((gameState.current === 1 && !gameState.passed[1]) || (devMode && gameState.current === 2 && !gameState.passed[2])) && (\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n\r\n            {/* End Turn Button - Blue */}\r\n            <button\r\n              onClick={() => {\r\n                console.log(`ðŸ”§ DEBUG: End turn clicked for player ${gameState.current}`);\r\n                onCardClick({ type: 'button_end_turn', player: gameState.current });\r\n              }}\r\n              style={{\r\n                background: 'linear-gradient(45deg, #3b82f6, #2563eb)',\r\n                border: 'none',\r\n                borderRadius: '6px',\r\n                padding: '6px 12px',\r\n                color: 'white',\r\n                fontSize: '12px',\r\n                fontWeight: '600',\r\n                cursor: 'pointer',\r\n                boxShadow: '0 2px 8px rgba(59, 130, 246, 0.4)',\r\n                transition: 'all 0.2s ease'\r\n              }}\r\n              onMouseEnter={(e) => {\r\n                e.currentTarget.style.transform = 'scale(1.05)';\r\n              }}\r\n              onMouseLeave={(e) => {\r\n                e.currentTarget.style.transform = 'scale(1)';\r\n              }}\r\n              title=\"Ends only your turn â€“ the round continues.\"\r\n            >\r\n              End Turn\r\n            </button>\r\n\r\n            {/* Pass Button - Red */}\r\n            {showPassConfirmation ? (\r\n              <button\r\n                onClick={() => {\r\n                  console.log(`ðŸ”§ DEBUG: Pass confirmation clicked for player ${gameState.current}`);\r\n                  onCardClick({ type: 'button_pass_turn', player: gameState.current });\r\n                  setShowPassConfirmation(false);\r\n                }}\r\n                style={{\r\n                  background: 'linear-gradient(45deg, #dc2626, #b91c1c)',\r\n                  border: 'none',\r\n                  borderRadius: '6px',\r\n                  padding: '6px 12px',\r\n                  color: 'white',\r\n                  fontSize: '12px',\r\n                  fontWeight: '600',\r\n                  cursor: 'pointer',\r\n                  boxShadow: '0 2px 8px rgba(220, 38, 38, 0.4)',\r\n                  transition: 'all 0.2s ease'\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  e.currentTarget.style.transform = 'scale(1.05)';\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.currentTarget.style.transform = 'scale(1)';\r\n                }}\r\n              >\r\n                Really Pass\r\n              </button>\r\n            ) : (\r\n              <button\r\n                onClick={() => setShowPassConfirmation(true)}\r\n                style={{\r\n                  background: 'linear-gradient(45deg, #ef4444, #dc2626)',\r\n                  border: 'none',\r\n                  borderRadius: '6px',\r\n                  padding: '6px 12px',\r\n                  color: 'white',\r\n                  fontSize: '12px',\r\n                  fontWeight: '600',\r\n                  cursor: 'pointer',\r\n                  boxShadow: '0 2px 8px rgba(239, 68, 68, 0.4)',\r\n                  transition: 'all 0.2s ease'\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  e.currentTarget.style.transform = 'scale(1.05)';\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.currentTarget.style.transform = 'scale(1)';\r\n                }}\r\n              >\r\n                Pass\r\n              </button>\r\n            )}\r\n\r\n\r\n          </div>\r\n        )}\r\n\r\n        <button\r\n          onClick={onToggle}\r\n          style={{\r\n            background: 'none',\r\n            border: 'none',\r\n            color: '#9ca3af',\r\n            fontSize: '18px',\r\n            cursor: 'pointer',\r\n            padding: '4px'\r\n          }}\r\n        >\r\n          Ã—\r\n        </button>\r\n\r\n        {/* Log Button */}\r\n        <button\r\n          onClick={onToggleLog}\r\n          style={{\r\n            background: 'linear-gradient(45deg, #8b5cf6, #7c3aed)',\r\n            border: 'none',\r\n            borderRadius: '6px',\r\n            padding: '6px 12px',\r\n            color: 'white',\r\n            fontSize: '12px',\r\n            fontWeight: '600',\r\n            cursor: 'pointer',\r\n            boxShadow: '0 2px 8px rgba(139, 92, 246, 0.4)',\r\n            transition: 'all 0.2s ease',\r\n            marginRight: '8px',\r\n          }}\r\n          onMouseEnter={(e) => {\r\n            e.currentTarget.style.transform = 'scale(1.05)';\r\n          }}\r\n          onMouseLeave={(e) => {\r\n            e.currentTarget.style.transform = 'scale(1)';\r\n          }}\r\n        >\r\n          ðŸ“‹ Log\r\n        </button>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div style={{ padding: '16px', height: 'calc(100% - 60px)', display: 'flex', flexDirection: 'column', gap: '16px' }}>\r\n\r\n        {/* Game End Victory Screen */}\r\n        {gameState.gameWinner && (\r\n          <div style={{\r\n            position: 'absolute',\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            background: 'linear-gradient(135deg, rgba(0, 255, 136, 0.95), rgba(34, 197, 94, 0.95))',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n            zIndex: 1000,\r\n            borderRadius: '12px',\r\n            backdropFilter: 'blur(8px)',\r\n            animation: 'victoryPulse 2s infinite'\r\n          }}>\r\n            <div style={{\r\n              fontSize: '48px',\r\n              marginBottom: '16px',\r\n              animation: 'bounce 1s infinite'\r\n            }}>\r\n              ðŸ†\r\n            </div>\r\n            <div style={{\r\n              color: 'white',\r\n              fontSize: '24px',\r\n              fontWeight: '800',\r\n              textAlign: 'center',\r\n              marginBottom: '8px',\r\n              textShadow: '0 2px 8px rgba(0, 0, 0, 0.5)'\r\n            }}>\r\n              {gameState.gameWinner === 1 ? 'YOU WIN!' : 'OPPONENT WINS!'}\r\n            </div>\r\n            <div style={{\r\n              color: 'rgba(255, 255, 255, 0.9)',\r\n              fontSize: '18px',\r\n              fontWeight: '600',\r\n              textAlign: 'center',\r\n              marginBottom: '12px',\r\n              textShadow: '0 1px 4px rgba(0, 0, 0, 0.3)'\r\n            }}>\r\n              Player {gameState.gameWinner} is the winner!\r\n            </div>\r\n            <div style={{\r\n              color: 'rgba(255, 255, 255, 0.8)',\r\n              fontSize: '16px',\r\n              fontWeight: '500',\r\n              textAlign: 'center',\r\n              background: 'rgba(255, 255, 255, 0.2)',\r\n              padding: '8px 16px',\r\n              borderRadius: '8px',\r\n              backdropFilter: 'blur(4px)'\r\n            }}>\r\n              Round Standings: {gameState.roundsWon[1]} - {gameState.roundsWon[2]}\r\n            </div>\r\n          </div>\r\n        )}\r\n        {/* Game Phase with Matchball */}\r\n        <div style={{ textAlign: 'center' }}>\r\n          <div style={{ color: '#9ca3af', fontSize: '12px', marginBottom: '4px' }}>\r\n            Game Phase\r\n          </div>\r\n          <div style={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            gap: '12px',\r\n            flexWrap: 'wrap'\r\n          }}>\r\n            <div style={{ color: '#e5e7eb', fontSize: '16px', fontWeight: '600' }}>\r\n              {getGamePhase()}\r\n            </div>\r\n            {(() => {\r\n              const matchball = getMatchballStatus();\r\n              if (matchball.hasMatchball) {\r\n                const isPlayer = matchball.player === 1;\r\n                return (\r\n                  <div\r\n                    style={{\r\n                      color: isPlayer ? '#00ff88' : '#ff6b6b',\r\n                      fontSize: '14px',\r\n                      fontWeight: '700',\r\n                      textShadow: `0 0 8px ${isPlayer ? '#00ff88' : '#ff6b6b'}`,\r\n                      animation: 'matchballPulse 2s ease-in-out infinite',\r\n                      padding: '4px 8px',\r\n                      border: `1px solid ${isPlayer ? '#00ff88' : '#ff6b6b'}`,\r\n                      borderRadius: '12px',\r\n                      backgroundColor: `${isPlayer ? '#00ff8820' : '#ff6b6b20'}`,\r\n                    }}\r\n                  >\r\n                    {isPlayer ? 'ðŸŽ¯ MATCHBALL' : 'âš ï¸ MATCHBALL'}\r\n                  </div>\r\n                );\r\n              }\r\n              return null;\r\n            })()}\r\n          </div>\r\n        </div>\r\n        {/* Bottom Action Log Summary (icons + numbers only) */}\r\n        <div style={{ marginTop: '8px', borderTop: '1px solid rgba(255,255,255,0.06)', paddingTop: '8px', display: 'flex', gap: '8px', alignItems: 'center', justifyContent: 'center', flexWrap: 'wrap' }}>\r\n          {(gameState.log.slice(-6).reverse() || []).map((entry, idx) => {\r\n            const summary = parseActionSummary(entry);\r\n            return (\r\n              <div key={idx} style={{ display: 'flex', gap: 6, alignItems: 'center', padding: '4px 8px', background: 'rgba(255,255,255,0.02)', borderRadius: 8 }}>\r\n                {summary.map((s, i) => (\r\n                  <div key={i} style={{ display: 'flex', alignItems: 'center', gap: 4 }}>\r\n                    <Icon name={s.icon as any} size={18} />\r\n                    {s.amount != null && <div style={{ color: '#e5e7eb', fontWeight: 700, fontSize: 12 }}>{s.amount}</div>}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        {/* Player Turn */}\r\n        <div style={{ textAlign: 'center' }}>\r\n          <div style={{ color: '#9ca3af', fontSize: '12px', marginBottom: '4px' }}>\r\n            Status\r\n          </div>\r\n          <div style={{\r\n            color: '#fbbf24',\r\n            fontSize: '14px',\r\n            fontWeight: '500',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            gap: '8px'\r\n          }}>\r\n            <Icon name=\"start_of_turn\" size={14} />\r\n            <span>Your turn â€“ </span>\r\n            <Icon name=\"ap\" size={14} />\r\n            <strong>{gameState.actionPoints[1]}</strong>\r\n            <span> (action points)</span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Action Points */}\r\n        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '12px', marginBottom: '8px' }}>\r\n          <div style={{ textAlign: 'center' }}>\r\n            <div style={{\r\n              color: '#9ca3af',\r\n              fontSize: '11px',\r\n              marginBottom: '4px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              gap: '6px'\r\n            }}>\r\n              <Icon name=\"ap\" size={12} />\r\n              Your AP\r\n            </div>\r\n            <div style={{\r\n              color: gameState.actionPoints[1] > 0 ? '#00ff88' : '#ef4444',\r\n              fontSize: '18px',\r\n              fontWeight: '700',\r\n              textShadow: '0 0 4px currentColor'\r\n            }}>\r\n              {gameState.actionPoints[1]}\r\n            </div>\r\n          </div>\r\n          <div style={{ textAlign: 'center' }}>\r\n            <div style={{\r\n              color: '#9ca3af',\r\n              fontSize: '11px',\r\n              marginBottom: '4px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              gap: '6px'\r\n            }}>\r\n              <Icon name=\"ap\" size={12} />\r\n              Opponent AP\r\n            </div>\r\n            <div style={{\r\n              color: gameState.actionPoints[2] > 0 ? '#00ff88' : '#ef4444',\r\n              fontSize: '18px',\r\n              fontWeight: '700',\r\n              textShadow: '0 0 4px currentColor'\r\n            }}>\r\n              {gameState.actionPoints[2]}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Influence Points */}\r\n        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '12px' }}>\r\n          <div style={{ textAlign: 'center' }}>\r\n            <div style={{\r\n              color: '#9ca3af',\r\n              fontSize: '11px',\r\n              marginBottom: '4px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              gap: '6px'\r\n            }}>\r\n              <Icon name=\"influence\" size={12} />\r\n              Your Influence\r\n            </div>\r\n            <div style={getInfluenceStyle(influenceAnimation.player)}>\r\n              {currentInfluence.player}\r\n            </div>\r\n          </div>\r\n          <div style={{ textAlign: 'center' }}>\r\n            <div style={{ color: '#9ca3af', fontSize: '11px', marginBottom: '4px' }}>\r\n              Opponent Influence\r\n            </div>\r\n            <div style={getInfluenceStyle(influenceAnimation.opponent)}>\r\n              {currentInfluence.opponent}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Round Wins Counter */}\r\n        <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '12px', marginTop: '8px' }}>\r\n          <div style={{ textAlign: 'center' }}>\r\n            <div style={{ color: '#9ca3af', fontSize: '11px', marginBottom: '4px' }}>\r\n              Your Rounds\r\n            </div>\r\n            <div style={{\r\n              color: gameState.roundsWon[1] >= 2 ? '#00ff88' : '#fbbf24',\r\n              fontSize: '18px',\r\n              fontWeight: '700',\r\n              textShadow: '0 0 4px currentColor'\r\n            }}>\r\n              {gameState.roundsWon[1]}/3\r\n              {gameState.roundsWon[1] >= 2 && (\r\n                <span style={{\r\n                  marginLeft: '8px',\r\n                  fontSize: '14px',\r\n                  animation: 'matchballPulse 1.5s infinite'\r\n                }}>\r\n                  ðŸ†\r\n                </span>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div style={{ textAlign: 'center' }}>\r\n            <div style={{ color: '#9ca3af', fontSize: '11px', marginBottom: '4px' }}>\r\n              Opponent Rounds\r\n            </div>\r\n            <div style={{\r\n              color: gameState.roundsWon[2] >= 2 ? '#00ff88' : '#fbbf24',\r\n              fontSize: '18px',\r\n              fontWeight: '700',\r\n              textShadow: '0 0 4px currentColor'\r\n            }}>\r\n              {gameState.roundsWon[2]}/3\r\n              {gameState.roundsWon[2] >= 2 && (\r\n                <span style={{\r\n                  marginLeft: '8px',\r\n                  fontSize: '14px',\r\n                  animation: 'matchballPulse 1.5s infinite'\r\n                }}>\r\n                  ðŸ†\r\n                </span>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n\r\n      </div>\r\n\r\n      {/* Resize Handle */}\r\n      <div\r\n        className=\"resize-handle\"\r\n        style={{\r\n          position: 'absolute',\r\n          bottom: 0,\r\n          right: 0,\r\n          width: '16px',\r\n          height: '16px',\r\n          background: 'rgba(255, 255, 255, 0.6)',\r\n          cursor: 'nw-resize',\r\n          borderRadius: '0 0 12px 0',\r\n          clipPath: 'polygon(100% 0, 0 100%, 100% 100%)'\r\n        }}\r\n        onMouseDown={handleResizeStart}\r\n      />\r\n\r\n      <style>{`\r\n        @keyframes matchballPulse {\r\n          0%, 100% {\r\n            transform: scale(1);\r\n            opacity: 0.8;\r\n          }\r\n          50% {\r\n            transform: scale(1.05);\r\n            opacity: 1;\r\n          }\r\n        }\r\n        @keyframes victoryPulse {\r\n          0%, 100% {\r\n            transform: scale(1);\r\n            box-shadow: 0 0 20px rgba(0, 255, 136, 0.6);\r\n          }\r\n          50% {\r\n            transform: scale(1.02);\r\n            box-shadow: 0 0 40px rgba(0, 255, 136, 0.8);\r\n          }\r\n        }\r\n        @keyframes bounce {\r\n          0%, 20%, 50%, 80%, 100% {\r\n            transform: translateY(0);\r\n          }\r\n          40% {\r\n            transform: translateY(-10px);\r\n          }\r\n          60% {\r\n            transform: translateY(-5px);\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}