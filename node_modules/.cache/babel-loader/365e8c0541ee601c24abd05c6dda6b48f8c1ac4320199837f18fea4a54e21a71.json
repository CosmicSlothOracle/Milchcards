{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\skank\\\\Videos\\\\Cards\\\\Milchcards\\\\src\\\\components\\\\DeckBuilder.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback, useMemo, useEffect } from 'react';\nimport { Pols, Specials, PRESET_DECKS } from '../data/gameData';\nimport { currentBuilderBudget, currentBuilderCount, drawCardImage } from '../utils/gameUtils';\nimport { getCardDetails, formatWealth, formatSources, convertHPToUSD } from '../data/cardDetails';\nimport { Icon } from '../ui/Icon';\nimport { withIcons } from '../ui/withIcons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const DeckBuilder = ({\n  isOpen,\n  onClose,\n  onApplyDeck,\n  onStartMatch\n}) => {\n  _s();\n  const [deck, setDeck] = useState([]);\n  const [selectedDeckName, setSelectedDeckName] = useState('');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [showSources, setShowSources] = useState(false);\n  const budget = currentBuilderBudget(deck);\n  const count = currentBuilderCount(deck);\n  const categorizedCards = useMemo(() => {\n    // Helper: classify a card into an effect category for sorting / grouping.\n    // Priority: 0 = Influence (buffs), 1 = AP gain, 2 = Card draw, 3 = Other\n    const getEffectRank = base => {\n      // Government cards keep default rank to avoid mixing with specials\n      if (base.type === undefined) return 0;\n      const s = base;\n      const tags = (s.tags || []).map(t => t.toLowerCase());\n      const key = s.effectKey;\n      const has = needle => tags.includes(needle) || (key ? key.toLowerCase().includes(needle) : false);\n      if (has('buff') || has('influence')) return 0; // +Influence\n      if (has('ap')) return 1; // +AP\n      if (has('draw')) return 2; // +Card draw\n      return 3; // other / mixed effects\n    };\n    const categories = {\n      government: [],\n      public: [],\n      initiatives: [],\n      interventions: []\n    };\n\n    // Government cards\n    Pols.forEach(p => categories.government.push({\n      kind: 'pol',\n      base: p\n    }));\n\n    // Public cards\n    Specials.filter(s => s.type === 'Öffentlichkeitskarte').forEach(s => categories.public.push({\n      kind: 'spec',\n      base: s\n    }));\n\n    // Initiatives (Instant and Ongoing)\n    Specials.filter(s => s.type === 'Sofort-Initiative' || s.type === 'Dauerhaft-Initiative').forEach(s => categories.initiatives.push({\n      kind: 'spec',\n      base: s\n    }));\n\n    // Interventions\n    Specials.filter(s => s.type === 'Intervention').forEach(s => categories.interventions.push({\n      kind: 'spec',\n      base: s\n    }));\n\n    // Sort public, initiatives and interventions by effect rank (Influence, AP, Draw, Other)\n    const sortByEffect = arr => arr.sort((a, b) => getEffectRank(a.base) - getEffectRank(b.base));\n    sortByEffect(categories.public);\n    sortByEffect(categories.initiatives);\n    sortByEffect(categories.interventions);\n\n    // Filter by search term\n    const matches = (kind, base) => {\n      if (!searchQuery) return true;\n      const hay = `${base.name} ${kind === 'pol' ? base.tag : base.type}`.toLowerCase();\n      return hay.includes(searchQuery.toLowerCase());\n    };\n\n    // Combine all filtered cards for navigation\n    const allFilteredCards = [...categories.government.filter(({\n      kind,\n      base\n    }) => matches(kind, base)), ...categories.public.filter(({\n      kind,\n      base\n    }) => matches(kind, base)), ...categories.initiatives.filter(({\n      kind,\n      base\n    }) => matches(kind, base)), ...categories.interventions.filter(({\n      kind,\n      base\n    }) => matches(kind, base))];\n    return {\n      categories: {\n        government: categories.government.filter(({\n          kind,\n          base\n        }) => matches(kind, base)),\n        public: categories.public.filter(({\n          kind,\n          base\n        }) => matches(kind, base)),\n        initiatives: categories.initiatives.filter(({\n          kind,\n          base\n        }) => matches(kind, base)),\n        interventions: categories.interventions.filter(({\n          kind,\n          base\n        }) => matches(kind, base))\n      },\n      allFilteredCards\n    };\n  }, [searchQuery]);\n  const builderCanAdd = useCallback((base, kind) => {\n    var _BP;\n    const tier = kind === 'spec' ? base.tier : base.T;\n    const limit = tier >= 3 ? 1 : 2;\n    const entry = deck.find(e => e.kind === kind && e.baseId === base.id);\n    const already = entry ? entry.count : 0;\n    const cost = kind === 'pol' ? (_BP = base.BP) !== null && _BP !== void 0 ? _BP : 0 : base.bp;\n    return already < limit && count < 25 && budget + cost <= 300;\n  }, [deck, budget, count]);\n  const builderAdd = useCallback((base, kind) => {\n    if (!builderCanAdd(base, kind)) return;\n    setDeck(prev => {\n      const newDeck = [...prev];\n      let entry = newDeck.find(e => e.kind === kind && e.baseId === base.id);\n      if (!entry) {\n        entry = {\n          kind,\n          baseId: base.id,\n          count: 0\n        };\n        newDeck.push(entry);\n      }\n      entry.count += 1;\n      return newDeck;\n    });\n    // Clear preset name when manually modifying deck\n    setSelectedDeckName('');\n  }, [builderCanAdd]);\n  const builderRemove = useCallback((base, kind) => {\n    setDeck(prev => {\n      const newDeck = [...prev];\n      let entry = newDeck.find(e => e.kind === kind && e.baseId === base.id);\n      if (!entry) return prev;\n      entry.count -= 1;\n      if (entry.count <= 0) {\n        return newDeck.filter(e => e !== entry);\n      }\n      return newDeck;\n    });\n    // Clear preset name when manually modifying deck\n    setSelectedDeckName('');\n  }, []);\n  const loadPresetDeck = useCallback(which => {\n    const preset = PRESET_DECKS[which];\n    if (preset && preset.length > 0) {\n      setDeck([...preset]);\n      // Set deck name for display\n      const deckNames = {\n        'INITIATIVE_TEST_DECK': '⚡ Initiative Test Deck (10 Karten)',\n        'TEST_DECK_WITH_DRAW_EFFECTS': '🧪 Test Deck - Draw Effects (11 Karten)',\n        'TEST_DECK_5_CARDS': '🧪 Test Deck (5 Karten)',\n        'NEOLIBERAL_TECHNOKRAT': '🏛️ Neoliberaler Technokrat',\n        'AUTORITAERER_REALIST': '🦅 Autoritärer Realist',\n        'PROGRESSIVER_AKTIVISMUS': '🌱 Progressiver Aktivismus',\n        'POPULISTISCHER_OPPORTUNIST': '🎭 Populistischer Opportunist'\n      };\n      setSelectedDeckName(deckNames[which] || '');\n    }\n  }, []);\n  const handleApplyDeck = useCallback(() => {\n    if (count === 25 && budget <= 300) {\n      onApplyDeck(deck);\n      onClose();\n    }\n  }, [deck, count, budget, onApplyDeck, onClose]);\n  const handleCardClick = useCallback((kind, base) => {\n    setSelectedCard({\n      kind,\n      base\n    });\n  }, []);\n  const handleCloseCardDetail = useCallback(() => {\n    setSelectedCard(null);\n    setShowSources(false);\n  }, []);\n  const handlePreviousCard = useCallback(() => {\n    if (!selectedCard || !categorizedCards.allFilteredCards.length) return;\n    const currentIndex = categorizedCards.allFilteredCards.findIndex(card => card.kind === selectedCard.kind && card.base.id === selectedCard.base.id);\n    if (currentIndex > 0) {\n      const prevCard = categorizedCards.allFilteredCards[currentIndex - 1];\n      setSelectedCard({\n        kind: prevCard.kind,\n        base: prevCard.base\n      });\n    }\n  }, [selectedCard, categorizedCards.allFilteredCards]);\n  const handleNextCard = useCallback(() => {\n    if (!selectedCard || !categorizedCards.allFilteredCards.length) return;\n    const currentIndex = categorizedCards.allFilteredCards.findIndex(card => card.kind === selectedCard.kind && card.base.id === selectedCard.base.id);\n    if (currentIndex < categorizedCards.allFilteredCards.length - 1) {\n      const nextCard = categorizedCards.allFilteredCards[currentIndex + 1];\n      setSelectedCard({\n        kind: nextCard.kind,\n        base: nextCard.base\n      });\n    }\n  }, [selectedCard, categorizedCards.allFilteredCards]);\n\n  // Keyboard navigation\n  useEffect(() => {\n    const handleKeyDown = event => {\n      if (!selectedCard) return;\n      switch (event.key) {\n        case 'ArrowLeft':\n          event.preventDefault();\n          handlePreviousCard();\n          break;\n        case 'ArrowRight':\n          event.preventDefault();\n          handleNextCard();\n          break;\n        case 'Escape':\n          event.preventDefault();\n          handleCloseCardDetail();\n          break;\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [selectedCard, handlePreviousCard, handleNextCard, handleCloseCardDetail]);\n  const handleStartMatch = useCallback(() => {\n    const p1Deck = deck.length ? deck : [];\n    // 🧪 TEST DECK: P2 bekommt das gleiche Deck wie P1 für isoliertes Testing\n    const p2Deck = deck.length ? [...deck] : []; // Same deck as P1\n\n    console.log('🔧 DEBUG: Starting match with decks:', {\n      p1Cards: p1Deck.length,\n      p2Cards: p2Deck.length\n    });\n    onStartMatch(p1Deck, p2Deck);\n    onClose();\n  }, [deck, onStartMatch, onClose]);\n\n  // Card Tile Component\n  const CardTile = /*#__PURE__*/React.memo(({\n    kind,\n    base,\n    onClick\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: onClick,\n    style: {\n      background: '#0f1822',\n      border: '1px solid #26394c',\n      borderRadius: '8px',\n      padding: '4px',\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '4px',\n      cursor: 'pointer',\n      transition: 'all 0.2s ease',\n      width: '132px',\n      height: '180px'\n    },\n    onMouseEnter: e => {\n      e.currentTarget.style.background = '#1a2a3a';\n      e.currentTarget.style.borderColor = '#3a4c5d';\n    },\n    onMouseLeave: e => {\n      e.currentTarget.style.background = '#0f1822';\n      e.currentTarget.style.borderColor = '#26394c';\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n      width: 120,\n      height: 120,\n      style: {\n        display: 'block',\n        width: '120px',\n        height: '120px',\n        borderRadius: '6px',\n        background: '#0b1118',\n        border: '1px solid #1e2c3b'\n      },\n      ref: canvas => {\n        if (canvas) {\n          const ctx = canvas.getContext('2d');\n          if (ctx) {\n            const mockCard = {\n              kind,\n              baseId: base.id,\n              name: base.name,\n              uid: base.id,\n              id: base.id,\n              key: base.key\n            };\n            drawCardImage(ctx, mockCard, 0, 0, 120, 'ui');\n          }\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      style: {\n        margin: 0,\n        fontSize: '10px',\n        fontWeight: 600,\n        color: '#dbe9f8',\n        textAlign: 'center',\n        lineHeight: '1.2',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        display: '-webkit-box',\n        WebkitLineClamp: 2,\n        WebkitBoxOrient: 'vertical',\n        height: '24px'\n      },\n      children: base.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        gap: '6px',\n        marginTop: 'auto'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: '9px',\n          color: '#a9c1da',\n          fontWeight: 500\n        },\n        children: kind === 'pol' ? `${convertHPToUSD(base.BP || 0)}` : `${convertHPToUSD(base.bp)}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => {\n          e.stopPropagation();\n          builderAdd(base, kind);\n        },\n        disabled: !builderCanAdd(base, kind),\n        style: {\n          background: '#90EE90',\n          color: '#2d572d',\n          border: 'none',\n          borderRadius: '4px',\n          padding: '2px 6px',\n          fontSize: '10px',\n          fontWeight: 'bold',\n          cursor: 'pointer',\n          opacity: builderCanAdd(base, kind) ? 1 : 0.5,\n          minWidth: '24px',\n          height: '20px',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 257,\n    columnNumber: 5\n  }, this));\n  if (!isOpen) return null;\n  const HP_LIMIT = 108; // Regelwerk: 108 HP Budget für 25 Karten\n  const overBudget = budget > HP_LIMIT;\n  const overCount = count > 25;\n  const isValid = !overBudget && !overCount;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'absolute',\n      inset: 0,\n      display: 'flex',\n      background: 'rgba(4,8,12,.8)',\n      backdropFilter: 'blur(2px)',\n      zIndex: 40\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        inset: '12px',\n        background: '#0d1621',\n        border: '1px solid #1f3042',\n        borderRadius: '12px',\n        padding: '12px',\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '10px',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 600,\n            fontSize: '14px',\n            letterSpacing: '.4px'\n          },\n          children: [\"Deckbuilder\", selectedDeckName ? ` - ${selectedDeckName}` : '']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            padding: '4px 8px',\n            borderRadius: '8px',\n            background: '#0f1a26',\n            border: '1px solid #203043',\n            fontSize: '12px'\n          },\n          children: [\"Budget: \", convertHPToUSD(budget), \" / \", convertHPToUSD(HP_LIMIT)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            padding: '4px 8px',\n            borderRadius: '8px',\n            background: '#0f1a26',\n            border: '1px solid #203043',\n            fontSize: '12px'\n          },\n          children: [\"Karten: \", count, \" / 25\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '8px',\n            flex: '0 0 220px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Icon, {\n            name: \"search\",\n            size: 14\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Suche (Name, Tag)\",\n            value: searchQuery,\n            onChange: e => setSearchQuery(e.target.value),\n            style: {\n              flex: 1,\n              outline: 'none',\n              padding: '4px 8px',\n              borderRadius: '8px',\n              background: '#0f1a26',\n              border: '1px solid #203043',\n              fontSize: '12px',\n              color: '#e8f0f8'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => loadPresetDeck('INITIATIVE_TEST_DECK'),\n          style: {\n            background: '#4338ca',\n            color: '#ffffff',\n            border: '1px solid #6366f1',\n            borderRadius: '8px',\n            padding: '6px 10px',\n            fontSize: '11px',\n            cursor: 'pointer',\n            whiteSpace: 'nowrap',\n            fontWeight: 'bold'\n          },\n          children: \"\\u26A1 Initiative Test (10 Karten)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => loadPresetDeck('TEST_DECK_WITH_DRAW_EFFECTS'),\n          style: {\n            background: '#ff6b35',\n            color: '#ffffff',\n            border: '1px solid #ff8c61',\n            borderRadius: '8px',\n            padding: '6px 10px',\n            fontSize: '11px',\n            cursor: 'pointer',\n            whiteSpace: 'nowrap',\n            fontWeight: 'bold'\n          },\n          children: \"\\uD83E\\uDDEA Draw Effects (11 Karten)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => loadPresetDeck('TEST_DECK_5_CARDS'),\n          style: {\n            background: '#df6530',\n            color: '#ffffff',\n            border: '1px solid #e5844c',\n            borderRadius: '8px',\n            padding: '6px 10px',\n            fontSize: '11px',\n            cursor: 'pointer',\n            whiteSpace: 'nowrap',\n            fontWeight: 'bold'\n          },\n          children: \"\\uD83E\\uDDEA Test (5 Karten)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => loadPresetDeck('NEOLIBERAL_TECHNOKRAT'),\n          style: {\n            background: '#162436',\n            color: '#eaf3ff',\n            border: '1px solid #27425b',\n            borderRadius: '8px',\n            padding: '6px 10px',\n            fontSize: '11px',\n            cursor: 'pointer',\n            whiteSpace: 'nowrap'\n          },\n          children: \"\\uD83C\\uDFDB\\uFE0F Neoliberaler Technokrat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => loadPresetDeck('AUTORITAERER_REALIST'),\n          style: {\n            background: '#162436',\n            color: '#eaf3ff',\n            border: '1px solid #27425b',\n            borderRadius: '8px',\n            padding: '6px 10px',\n            fontSize: '11px',\n            cursor: 'pointer',\n            whiteSpace: 'nowrap'\n          },\n          children: \"\\uD83E\\uDD85 Autorit\\xE4rer Realist\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => loadPresetDeck('PROGRESSIVER_AKTIVISMUS'),\n          style: {\n            background: '#162436',\n            color: '#eaf3ff',\n            border: '1px solid #27425b',\n            borderRadius: '8px',\n            padding: '6px 10px',\n            fontSize: '11px',\n            cursor: 'pointer',\n            whiteSpace: 'nowrap'\n          },\n          children: \"\\uD83C\\uDF31 Progressiver Aktivismus\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => loadPresetDeck('POPULISTISCHER_OPPORTUNIST'),\n          style: {\n            background: '#162436',\n            color: '#eaf3ff',\n            border: '1px solid #27425b',\n            borderRadius: '8px',\n            padding: '6px 10px',\n            fontSize: '11px',\n            cursor: 'pointer',\n            whiteSpace: 'nowrap'\n          },\n          children: \"\\uD83C\\uDFAD Populistischer Opportunist\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 543,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          style: {\n            background: '#162436',\n            color: '#eaf3ff',\n            border: '1px solid #27425b',\n            borderRadius: '8px',\n            padding: '6px 10px',\n            fontSize: '12px',\n            cursor: 'pointer'\n          },\n          children: \"Schlie\\xDFen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 558,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: '1fr 360px',\n          gap: '12px',\n          minHeight: 0,\n          flex: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            overflow: 'auto',\n            border: '1px solid #1f2c3a',\n            borderRadius: '10px',\n            padding: '8px',\n            background: '#0a121b',\n            display: 'grid',\n            gridTemplateColumns: 'repeat(4, 1fr)',\n            gap: '12px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: '8px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: 'rgba(173, 216, 230, 0.2)',\n                border: '1px solid #4a90e2',\n                borderRadius: '8px',\n                padding: '8px',\n                textAlign: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                style: {\n                  margin: 0,\n                  fontSize: '14px',\n                  fontWeight: 700,\n                  color: '#add8e6',\n                  marginBottom: '4px',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '8px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Icon, {\n                  name: \"government_row\",\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 616,\n                  columnNumber: 19\n                }, this), \"Government\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 606,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0,\n                  fontSize: '11px',\n                  color: '#8bb5d9',\n                  lineHeight: '1.3'\n                },\n                children: withIcons('Politicians and state leaders who influence the government. Max 5 in the government hierarchy.')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 619,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 599,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'grid',\n                gridTemplateColumns: 'repeat(auto-fill, minmax(132px, 1fr))',\n                gap: '8px',\n                flex: 1,\n                justifyContent: 'start',\n                alignContent: 'start'\n              },\n              children: categorizedCards.categories.government.map(({\n                kind,\n                base\n              }) => /*#__PURE__*/_jsxDEV(CardTile, {\n                kind: kind,\n                base: base,\n                onClick: () => handleCardClick(kind, base)\n              }, `${kind}-${base.id}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 637,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 628,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 594,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: '8px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: 'rgba(245, 245, 220, 0.2)',\n                border: '1px solid #d2b48c',\n                borderRadius: '8px',\n                padding: '8px',\n                textAlign: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                style: {\n                  margin: 0,\n                  fontSize: '14px',\n                  fontWeight: 700,\n                  color: '#f5f5dc',\n                  marginBottom: '4px',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '8px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Icon, {\n                  name: \"public_row\",\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 665,\n                  columnNumber: 19\n                }, this), \"Public\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 655,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0,\n                  fontSize: '11px',\n                  color: '#d2b48c',\n                  lineHeight: '1.3'\n                },\n                children: withIcons('People from media, business, and academia who support your actions.')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 668,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 648,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'grid',\n                gridTemplateColumns: 'repeat(auto-fill, minmax(132px, 1fr))',\n                gap: '8px',\n                flex: 1,\n                justifyContent: 'start',\n                alignContent: 'start'\n              },\n              children: categorizedCards.categories.public.map(({\n                kind,\n                base\n              }) => /*#__PURE__*/_jsxDEV(CardTile, {\n                kind: kind,\n                base: base,\n                onClick: () => handleCardClick(kind, base)\n              }, `${kind}-${base.id}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 686,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 677,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 643,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: '8px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: 'rgba(64, 224, 208, 0.2)',\n                border: '1px solid #40e0d0',\n                borderRadius: '8px',\n                padding: '8px',\n                textAlign: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                style: {\n                  margin: 0,\n                  fontSize: '14px',\n                  fontWeight: 700,\n                  color: '#40e0d0',\n                  marginBottom: '4px',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '8px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Icon, {\n                  name: \"initiative\",\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 714,\n                  columnNumber: 19\n                }, this), \"Initiatives\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 704,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0,\n                  fontSize: '11px',\n                  color: '#40e0d0',\n                  lineHeight: '1.3'\n                },\n                children: withIcons('One-time (Instant) and ongoing political actions for special effects.')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 717,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 697,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'grid',\n                gridTemplateColumns: 'repeat(auto-fill, minmax(132px, 1fr))',\n                gap: '8px',\n                flex: 1,\n                justifyContent: 'start',\n                alignContent: 'start'\n              },\n              children: categorizedCards.categories.initiatives.map(({\n                kind,\n                base\n              }) => /*#__PURE__*/_jsxDEV(CardTile, {\n                kind: kind,\n                base: base,\n                onClick: () => handleCardClick(kind, base)\n              }, `${kind}-${base.id}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 735,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 726,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 692,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: '8px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: 'rgba(200, 160, 255, 0.2)',\n                border: '1px solid #c8a0ff',\n                borderRadius: '8px',\n                padding: '8px',\n                textAlign: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                style: {\n                  margin: 0,\n                  fontSize: '14px',\n                  fontWeight: 700,\n                  color: '#c8a0ff',\n                  marginBottom: '4px',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '8px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(Icon, {\n                  name: \"intervention_trap\",\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 763,\n                  columnNumber: 19\n                }, this), \"Interventions\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 753,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0,\n                  fontSize: '11px',\n                  color: '#c8a0ff',\n                  lineHeight: '1.3'\n                },\n                children: withIcons('Concealed trap cards that trigger automatically and disrupt enemy strategies.')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 766,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 746,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'grid',\n                gridTemplateColumns: 'repeat(auto-fill, minmax(132px, 1fr))',\n                gap: '8px',\n                flex: 1,\n                justifyContent: 'start',\n                alignContent: 'start'\n              },\n              children: categorizedCards.categories.interventions.map(({\n                kind,\n                base\n              }) => /*#__PURE__*/_jsxDEV(CardTile, {\n                kind: kind,\n                base: base,\n                onClick: () => handleCardClick(kind, base)\n              }, `${kind}-${base.id}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 784,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 775,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 741,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            overflow: 'auto',\n            border: '1px solid #1f2c3a',\n            borderRadius: '10px',\n            padding: '8px',\n            background: '#0a121b',\n            display: 'flex',\n            flexDirection: 'column',\n            gap: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexWrap: 'wrap',\n              gap: '6px',\n              alignItems: 'center',\n              fontSize: '12px',\n              color: '#cfe0f2'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: '4px 8px',\n                borderRadius: '8px',\n                background: '#0f1a26',\n                border: '1px solid #203043',\n                fontSize: '12px',\n                color: isValid ? '#4ade80' : '#ef4444'\n              },\n              children: isValid ? 'Deck OK' : `Deck invalid${overBudget ? ' · Budget' : ''}${overCount ? ' · Cards' : ''}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 810,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 802,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              flex: 1,\n              overflow: 'auto'\n            },\n            children: deck.map(entry => {\n              const base = entry.kind === 'pol' ? Pols.find(p => p.id === entry.baseId) : Specials.find(s => s.id === entry.baseId);\n              if (!base) return null;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  padding: '6px 8px',\n                  borderBottom: '1px solid #182433',\n                  fontSize: '12px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    flex: 1\n                  },\n                  children: [entry.count, \"\\xD7 \", base.name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 839,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '8px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: convertHPToUSD(entry.kind === 'pol' ? base.BP || 0 : base.bp)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 841,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'flex',\n                      gap: '4px'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: e => {\n                        e.stopPropagation();\n                        builderRemove(base, entry.kind);\n                      },\n                      style: {\n                        background: '#dc2626',\n                        border: 'none',\n                        borderRadius: '4px',\n                        color: 'white',\n                        width: '20px',\n                        height: '20px',\n                        fontSize: '12px',\n                        cursor: 'pointer',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center'\n                      },\n                      title: \"Remove one\",\n                      children: \"\\u2212\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 843,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: e => {\n                        e.stopPropagation();\n                        builderAdd(base, entry.kind);\n                      },\n                      disabled: !builderCanAdd(base, entry.kind),\n                      style: {\n                        background: builderCanAdd(base, entry.kind) ? '#059669' : '#6b7280',\n                        border: 'none',\n                        borderRadius: '4px',\n                        color: 'white',\n                        width: '20px',\n                        height: '20px',\n                        fontSize: '12px',\n                        cursor: builderCanAdd(base, entry.kind) ? 'pointer' : 'not-allowed',\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'center'\n                      },\n                      title: \"Add one\",\n                      children: \"+\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 865,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 842,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 840,\n                  columnNumber: 21\n                }, this)]\n              }, `${entry.kind}-${entry.baseId}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 831,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 823,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '8px',\n              flexWrap: 'wrap'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleApplyDeck,\n              disabled: !isValid,\n              style: {\n                background: '#162436',\n                color: '#eaf3ff',\n                border: '1px solid #27425b',\n                borderRadius: '8px',\n                padding: '6px 10px',\n                fontSize: '12px',\n                cursor: 'pointer',\n                opacity: isValid ? 1 : 0.6\n              },\n              children: \"Use as P1 Deck\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 901,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleStartMatch,\n              style: {\n                background: '#162436',\n                color: '#eaf3ff',\n                border: '1px solid #27425b',\n                borderRadius: '8px',\n                padding: '6px 10px',\n                fontSize: '12px',\n                cursor: 'pointer'\n              },\n              children: \"Start Match\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 917,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 896,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 791,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 575,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 7\n    }, this), selectedCard && (() => {\n      const cardDetails = getCardDetails(selectedCard.base.name);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          background: 'rgba(0,0,0,0.8)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'flex-start',\n          paddingLeft: '20px',\n          zIndex: 50\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#0d1621',\n            border: '3px solid #ffffff',\n            borderRadius: '16px',\n            padding: '24px',\n            display: 'flex',\n            gap: '24px',\n            width: 'calc(70vw)',\n            height: 'calc(90vh)',\n            overflow: 'hidden',\n            position: 'relative'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              flex: '0 0 1024px',\n              height: '1024px',\n              background: '#0b1118',\n              border: '2px solid #ffffff',\n              borderRadius: '12px',\n              overflow: 'hidden',\n              position: 'relative'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handlePreviousCard,\n              style: {\n                position: 'absolute',\n                left: '16px',\n                top: '50%',\n                transform: 'translateY(-50%)',\n                background: 'rgba(13, 22, 33, 0.9)',\n                border: '2px solid #1f3042',\n                borderRadius: '50%',\n                width: '48px',\n                height: '48px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                cursor: 'pointer',\n                color: '#eaf3ff',\n                fontSize: '20px',\n                fontWeight: 'bold',\n                zIndex: 10,\n                transition: 'all 0.2s ease'\n              },\n              onMouseEnter: e => {\n                e.currentTarget.style.background = 'rgba(22, 36, 54, 0.95)';\n                e.currentTarget.style.borderColor = '#27425b';\n              },\n              onMouseLeave: e => {\n                e.currentTarget.style.background = 'rgba(13, 22, 33, 0.9)';\n                e.currentTarget.style.borderColor = '#1f3042';\n              },\n              children: \"\\u2039\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 976,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleNextCard,\n              style: {\n                position: 'absolute',\n                right: '16px',\n                top: '50%',\n                transform: 'translateY(-50%)',\n                background: 'rgba(13, 22, 33, 0.9)',\n                border: '2px solid #1f3042',\n                borderRadius: '50%',\n                width: '48px',\n                height: '48px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                cursor: 'pointer',\n                color: '#eaf3ff',\n                fontSize: '20px',\n                fontWeight: 'bold',\n                zIndex: 10,\n                transition: 'all 0.2s ease'\n              },\n              onMouseEnter: e => {\n                e.currentTarget.style.background = 'rgba(22, 36, 54, 0.95)';\n                e.currentTarget.style.borderColor = '#27425b';\n              },\n              onMouseLeave: e => {\n                e.currentTarget.style.background = 'rgba(13, 22, 33, 0.9)';\n                e.currentTarget.style.borderColor = '#1f3042';\n              },\n              children: \"\\u203A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1010,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n              width: 1024,\n              height: 1024,\n              style: {\n                display: 'block',\n                width: '1024px',\n                height: '1024px'\n              },\n              ref: canvas => {\n                if (canvas) {\n                  const ctx = canvas.getContext('2d');\n                  if (ctx) {\n                    // Create a mock card object for drawing\n                    const mockCard = {\n                      kind: selectedCard.kind,\n                      baseId: selectedCard.base.id,\n                      name: selectedCard.base.name,\n                      uid: selectedCard.base.id,\n                      id: selectedCard.base.id,\n                      key: selectedCard.base.key\n                    };\n                    drawCardImage(ctx, mockCard, 0, 0, 1024, 'modal');\n                  }\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1044,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 966,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              flex: '1',\n              minWidth: '400px',\n              display: 'flex',\n              flexDirection: 'column',\n              gap: '20px',\n              position: 'relative'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'flex-start'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  flex: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  style: {\n                    margin: '0 0 8px 0',\n                    fontSize: '28px',\n                    fontWeight: 700,\n                    color: '#eaf3ff',\n                    lineHeight: '1.2'\n                  },\n                  children: selectedCard.base.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1088,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '16px',\n                    fontWeight: 600,\n                    color: '#dbe9f8',\n                    marginBottom: '4px'\n                  },\n                  children: (cardDetails === null || cardDetails === void 0 ? void 0 : cardDetails.category) || (selectedCard.kind === 'pol' ? 'Government' : 'Public')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1099,\n                  columnNumber: 19\n                }, this), (cardDetails === null || cardDetails === void 0 ? void 0 : cardDetails.subcategories) && cardDetails.subcategories.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '14px',\n                    color: '#a9c1da',\n                    marginBottom: '4px'\n                  },\n                  children: cardDetails.subcategories.join(', ')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1110,\n                  columnNumber: 23\n                }, this), (cardDetails === null || cardDetails === void 0 ? void 0 : cardDetails.highestPosition) && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '14px',\n                    color: '#8faecc',\n                    marginBottom: '8px'\n                  },\n                  children: cardDetails.highestPosition\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1121,\n                  columnNumber: 23\n                }, this), selectedCard.kind === 'spec' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '14px',\n                    color: '#8faecc',\n                    marginBottom: '4px'\n                  },\n                  children: [(cardDetails === null || cardDetails === void 0 ? void 0 : cardDetails.cardType) || (selectedCard.kind === 'spec' ? selectedCard.base.type : ''), (cardDetails === null || cardDetails === void 0 ? void 0 : cardDetails.tier) && ` • ${cardDetails.tier}`, (cardDetails === null || cardDetails === void 0 ? void 0 : cardDetails.speed) && ` • ${cardDetails.speed}`, (cardDetails === null || cardDetails === void 0 ? void 0 : cardDetails.slot) && ` • Slot: ${cardDetails.slot}`]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1132,\n                  columnNumber: 23\n                }, this), selectedCard.kind === 'pol' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    gap: '10px',\n                    flexWrap: 'wrap',\n                    marginTop: '4px',\n                    marginBottom: '4px',\n                    color: '#a9c1da',\n                    fontSize: '14px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"Influence: \", selectedCard.base.influence]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1155,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"Tier: \", selectedCard.base.T]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1156,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"Keyword: \", selectedCard.base.tag]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1157,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1146,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '12px',\n                    color: '#6b7280',\n                    fontWeight: 500\n                  },\n                  children: [\"Card \", categorizedCards.allFilteredCards.findIndex(card => card.kind === selectedCard.kind && card.base.id === selectedCard.base.id) + 1, \" of \", categorizedCards.allFilteredCards.length]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1161,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1087,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  flexDirection: 'column',\n                  alignItems: 'flex-end',\n                  gap: '8px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    background: '#1f2937',\n                    border: '1px solid #374151',\n                    borderRadius: '8px',\n                    padding: '8px 12px',\n                    fontSize: '14px',\n                    color: '#e5e7eb'\n                  },\n                  children: [\"Cost: \", convertHPToUSD((cardDetails === null || cardDetails === void 0 ? void 0 : cardDetails.deckCost) || (selectedCard.kind === 'pol' ? selectedCard.base.BP || 0 : selectedCard.base.bp))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1179,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleCloseCardDetail,\n                  style: {\n                    background: 'none',\n                    border: 'none',\n                    color: '#8faecc',\n                    fontSize: '24px',\n                    cursor: 'pointer',\n                    padding: '4px',\n                    borderRadius: '4px'\n                  },\n                  onMouseEnter: e => {\n                    e.currentTarget.style.background = '#1a2a3a';\n                  },\n                  onMouseLeave: e => {\n                    e.currentTarget.style.background = 'none';\n                  },\n                  children: \"\\xD7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1190,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1173,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1082,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: '#111827',\n                border: '1px solid #ffffff',\n                borderRadius: '12px',\n                padding: '20px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                style: {\n                  margin: '0 0 12px 0',\n                  fontSize: '16px',\n                  fontWeight: 600,\n                  color: '#e5e7eb'\n                },\n                children: \"Game Effect\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1220,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0,\n                  color: '#d1d5db',\n                  lineHeight: '1.5',\n                  fontSize: '15px'\n                },\n                children: (cardDetails === null || cardDetails === void 0 ? void 0 : cardDetails.gameEffect) || (selectedCard.kind === 'spec' ? selectedCard.base.effect : 'Passive Politician abilities based on Tag')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1229,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1214,\n              columnNumber: 15\n            }, this), (cardDetails === null || cardDetails === void 0 ? void 0 : cardDetails.synergy) && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: '#111827',\n                border: '1px solid #ffffff',\n                borderRadius: '12px',\n                padding: '20px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                style: {\n                  margin: '0 0 12px 0',\n                  fontSize: '16px',\n                  fontWeight: 600,\n                  color: '#e5e7eb'\n                },\n                children: \"Synergy\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1249,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0,\n                  color: '#d1d5db',\n                  lineHeight: '1.5',\n                  fontSize: '15px'\n                },\n                children: cardDetails.synergy\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1257,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1243,\n              columnNumber: 19\n            }, this), (cardDetails === null || cardDetails === void 0 ? void 0 : cardDetails.trigger) && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: '#111827',\n                border: '1px solid #ffffff',\n                borderRadius: '12px',\n                padding: '20px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                style: {\n                  margin: '0 0 12px 0',\n                  fontSize: '16px',\n                  fontWeight: 600,\n                  color: '#e5e7eb'\n                },\n                children: \"Trigger\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1276,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: 0,\n                  color: '#d1d5db',\n                  lineHeight: '1.5',\n                  fontSize: '15px'\n                },\n                children: cardDetails.trigger\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1284,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1270,\n              columnNumber: 15\n            }, this), ((cardDetails === null || cardDetails === void 0 ? void 0 : cardDetails.usage) || (cardDetails === null || cardDetails === void 0 ? void 0 : cardDetails.example)) && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: '#111827',\n                border: '1px solid #ffffff',\n                borderRadius: '12px',\n                padding: '20px'\n              },\n              children: [cardDetails.usage && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginBottom: '10px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '12px',\n                    color: '#9ca3af',\n                    marginBottom: '4px'\n                  },\n                  children: \"When to play?\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1305,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    color: '#d1d5db',\n                    fontSize: '15px',\n                    lineHeight: '1.5'\n                  },\n                  children: cardDetails.usage\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1306,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1304,\n                columnNumber: 23\n              }, this), cardDetails.example && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '12px',\n                    color: '#9ca3af',\n                    marginBottom: '4px'\n                  },\n                  children: \"Example\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1311,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    color: '#d1d5db',\n                    fontSize: '15px',\n                    lineHeight: '1.5'\n                  },\n                  children: cardDetails.example\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1312,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1310,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1297,\n              columnNumber: 19\n            }, this), cardDetails && (cardDetails.nationality || cardDetails.birthDate || cardDetails.estimatedWealth || cardDetails.controversialQuote) && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: '#111827',\n                border: '1px solid #ffffff',\n                borderRadius: '12px',\n                padding: '20px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                style: {\n                  margin: '0 0 16px 0',\n                  fontSize: '16px',\n                  fontWeight: 600,\n                  color: '#e5e7eb'\n                },\n                children: \"Personal Information\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1326,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'grid',\n                  gridTemplateColumns: '1fr 1fr',\n                  gap: '12px'\n                },\n                children: [cardDetails.nationality && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: '12px',\n                      color: '#9ca3af',\n                      marginBottom: '4px'\n                    },\n                    children: \"Nationality\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1338,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      color: '#e5e7eb',\n                      fontWeight: 500\n                    },\n                    children: cardDetails.nationality\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1339,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1337,\n                  columnNumber: 25\n                }, this), cardDetails.birthDate && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      fontSize: '12px',\n                      color: '#9ca3af',\n                      marginBottom: '4px'\n                    },\n                    children: \"Birth Date\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1345,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      color: '#e5e7eb',\n                      fontWeight: 500\n                    },\n                    children: cardDetails.birthDate\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1346,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1344,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1335,\n                columnNumber: 21\n              }, this), cardDetails.estimatedWealth && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: '12px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '12px',\n                    color: '#9ca3af',\n                    marginBottom: '4px'\n                  },\n                  children: \"Estimated Wealth\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1353,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    color: '#e5e7eb',\n                    fontWeight: 500\n                  },\n                  children: formatWealth(cardDetails.estimatedWealth)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1354,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1352,\n                columnNumber: 23\n              }, this), cardDetails.controversialQuote && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: '16px',\n                  background: '#1f2937',\n                  border: '1px solid #ffffff',\n                  borderRadius: '8px',\n                  padding: '12px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '12px',\n                    color: '#9ca3af',\n                    marginBottom: '6px'\n                  },\n                  children: \"Quote\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1366,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    color: '#d1d5db',\n                    fontStyle: 'italic',\n                    lineHeight: '1.4',\n                    fontSize: '14px'\n                  },\n                  children: cardDetails.controversialQuote\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1367,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1359,\n                columnNumber: 23\n              }, this), (cardDetails === null || cardDetails === void 0 ? void 0 : cardDetails.sources) && cardDetails.sources.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: '16px'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => setShowSources(!showSources),\n                  style: {\n                    background: 'none',\n                    border: 'none',\n                    color: '#9ca3af',\n                    fontSize: '12px',\n                    cursor: 'pointer',\n                    textDecoration: 'underline',\n                    padding: 0\n                  },\n                  children: \"Show Sources\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1381,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1380,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1320,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: '12px',\n                marginTop: 'auto'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  builderAdd(selectedCard.base, selectedCard.kind);\n                  handleCloseCardDetail();\n                },\n                disabled: !builderCanAdd(selectedCard.base, selectedCard.kind),\n                style: {\n                  flex: 1,\n                  background: builderCanAdd(selectedCard.base, selectedCard.kind) ? '#374151' : '#1f2937',\n                  color: '#e5e7eb',\n                  border: '1px solid #4b5563',\n                  borderRadius: '8px',\n                  padding: '12px',\n                  fontSize: '14px',\n                  fontWeight: 600,\n                  cursor: builderCanAdd(selectedCard.base, selectedCard.kind) ? 'pointer' : 'not-allowed',\n                  opacity: builderCanAdd(selectedCard.base, selectedCard.kind) ? 1 : 0.6\n                },\n                children: \"Add to Deck\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1406,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1401,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1073,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 953,\n          columnNumber: 11\n        }, this), showSources && (cardDetails === null || cardDetails === void 0 ? void 0 : cardDetails.sources) && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'fixed',\n            top: 'calc(50% + 5px)',\n            left: 'calc(50% + 5px)',\n            transform: 'translate(-50%, -50%)',\n            background: '#0d1621',\n            border: '2px solid #ffffff',\n            borderRadius: '12px',\n            padding: '20px',\n            minWidth: '400px',\n            maxWidth: '600px',\n            boxShadow: '0 20px 60px rgba(0, 0, 0, 0.8)',\n            zIndex: 60\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n              marginBottom: '16px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              style: {\n                margin: 0,\n                fontSize: '16px',\n                fontWeight: 600,\n                color: '#e5e7eb'\n              },\n              children: \"Sources & Calculation Basis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1455,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowSources(false),\n              style: {\n                background: 'none',\n                border: 'none',\n                color: '#9ca3af',\n                fontSize: '20px',\n                cursor: 'pointer',\n                padding: '4px'\n              },\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1463,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1449,\n            columnNumber: 17\n          }, this), cardDetails.calculation && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '16px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '12px',\n                color: '#9ca3af',\n                marginBottom: '6px'\n              },\n              children: \"Calculation:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1480,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: '#d1d5db',\n                fontSize: '13px',\n                lineHeight: '1.4',\n                background: '#1f2937',\n                padding: '10px',\n                borderRadius: '6px'\n              },\n              children: cardDetails.calculation\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1481,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1479,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '12px',\n              color: '#9ca3af',\n              marginBottom: '6px'\n            },\n            children: \"Sources:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1494,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: '#d1d5db',\n              fontSize: '13px',\n              lineHeight: '1.4'\n            },\n            children: formatSources(cardDetails.sources)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1495,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1435,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 940,\n        columnNumber: 9\n      }, this);\n    })()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 379,\n    columnNumber: 5\n  }, this);\n};\n_s(DeckBuilder, \"kZGnYdksTNC/ntqcEpkd3tP1uVI=\");\n_c = DeckBuilder;\nvar _c;\n$RefreshReg$(_c, \"DeckBuilder\");","map":{"version":3,"names":["React","useState","useCallback","useMemo","useEffect","Pols","Specials","PRESET_DECKS","currentBuilderBudget","currentBuilderCount","drawCardImage","getCardDetails","formatWealth","formatSources","convertHPToUSD","Icon","withIcons","jsxDEV","_jsxDEV","DeckBuilder","isOpen","onClose","onApplyDeck","onStartMatch","_s","deck","setDeck","selectedDeckName","setSelectedDeckName","searchQuery","setSearchQuery","selectedCard","setSelectedCard","showSources","setShowSources","budget","count","categorizedCards","getEffectRank","base","type","undefined","s","tags","map","t","toLowerCase","key","effectKey","has","needle","includes","categories","government","public","initiatives","interventions","forEach","p","push","kind","filter","sortByEffect","arr","sort","a","b","matches","hay","name","tag","allFilteredCards","builderCanAdd","_BP","tier","T","limit","entry","find","e","baseId","id","already","cost","BP","bp","builderAdd","prev","newDeck","builderRemove","loadPresetDeck","which","preset","length","deckNames","handleApplyDeck","handleCardClick","handleCloseCardDetail","handlePreviousCard","currentIndex","findIndex","card","prevCard","handleNextCard","nextCard","handleKeyDown","event","preventDefault","window","addEventListener","removeEventListener","handleStartMatch","p1Deck","p2Deck","console","log","p1Cards","p2Cards","CardTile","memo","onClick","style","background","border","borderRadius","padding","display","flexDirection","gap","cursor","transition","width","height","onMouseEnter","currentTarget","borderColor","onMouseLeave","children","ref","canvas","ctx","getContext","mockCard","uid","fileName","_jsxFileName","lineNumber","columnNumber","margin","fontSize","fontWeight","color","textAlign","lineHeight","overflow","textOverflow","WebkitLineClamp","WebkitBoxOrient","alignItems","justifyContent","marginTop","stopPropagation","disabled","opacity","minWidth","HP_LIMIT","overBudget","overCount","isValid","position","inset","backdropFilter","zIndex","letterSpacing","flex","size","placeholder","value","onChange","target","outline","whiteSpace","gridTemplateColumns","minHeight","marginBottom","alignContent","flexWrap","borderBottom","title","cardDetails","top","left","right","bottom","paddingLeft","transform","category","subcategories","join","highestPosition","cardType","speed","slot","influence","deckCost","gameEffect","effect","synergy","trigger","usage","example","nationality","birthDate","estimatedWealth","controversialQuote","fontStyle","sources","textDecoration","maxWidth","boxShadow","calculation","_c","$RefreshReg$"],"sources":["C:/Users/skank/Videos/Cards/Milchcards/src/components/DeckBuilder.tsx"],"sourcesContent":["import React, { useState, useCallback, useMemo, useEffect } from 'react';\r\nimport { BuilderEntry, BasePolitician, BaseSpecial } from '../types/game';\r\nimport { Pols, Specials, PRESET_DECKS } from '../data/gameData';\r\nimport { currentBuilderBudget, currentBuilderCount, drawCardImage } from '../utils/gameUtils';\r\nimport { getCardDetails, formatWealth, formatSources, convertHPToUSD } from '../data/cardDetails';\r\nimport { Icon } from '../ui/Icon';\r\nimport { withIcons } from '../ui/withIcons';\r\n\r\ninterface DeckBuilderProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onApplyDeck: (deck: BuilderEntry[]) => void;\r\n  onStartMatch: (p1Deck: BuilderEntry[], p2Deck: BuilderEntry[]) => void;\r\n  images?: never;\r\n}\r\n\r\nexport const DeckBuilder: React.FC<DeckBuilderProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  onApplyDeck,\r\n  onStartMatch\r\n}) => {\r\n  const [deck, setDeck] = useState<BuilderEntry[]>([]);\r\n  const [selectedDeckName, setSelectedDeckName] = useState<string>('');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n\r\n\r\n  const [selectedCard, setSelectedCard] = useState<{ kind: 'pol' | 'spec'; base: BasePolitician | BaseSpecial } | null>(null);\r\n  const [showSources, setShowSources] = useState(false);\r\n\r\n  const budget = currentBuilderBudget(deck);\r\n  const count = currentBuilderCount(deck);\r\n\r\n  const categorizedCards = useMemo(() => {\r\n    // Helper: classify a card into an effect category for sorting / grouping.\r\n    // Priority: 0 = Influence (buffs), 1 = AP gain, 2 = Card draw, 3 = Other\r\n    const getEffectRank = (base: BasePolitician | BaseSpecial): number => {\r\n      // Government cards keep default rank to avoid mixing with specials\r\n      if ((base as any).type === undefined) return 0;\r\n\r\n      const s = base as BaseSpecial;\r\n      const tags = (s.tags || []).map(t => t.toLowerCase());\r\n      const key = (s as any).effectKey as string | undefined;\r\n\r\n      const has = (needle: string) => tags.includes(needle) || (key ? key.toLowerCase().includes(needle) : false);\r\n\r\n      if (has('buff') || has('influence')) return 0;     // +Influence\r\n      if (has('ap')) return 1;                            // +AP\r\n      if (has('draw')) return 2;                          // +Card draw\r\n      return 3;                                           // other / mixed effects\r\n    };\r\n\r\n    const categories = {\r\n      government: [] as Array<{ kind: 'pol' | 'spec'; base: BasePolitician | BaseSpecial }>,\r\n      public: [] as Array<{ kind: 'pol' | 'spec'; base: BasePolitician | BaseSpecial }>,\r\n      initiatives: [] as Array<{ kind: 'pol' | 'spec'; base: BasePolitician | BaseSpecial }>,\r\n      interventions: [] as Array<{ kind: 'pol' | 'spec'; base: BasePolitician | BaseSpecial }>\r\n    };\r\n\r\n    // Government cards\r\n    Pols.forEach((p: BasePolitician) => categories.government.push({ kind: 'pol', base: p }));\r\n\r\n    // Public cards\r\n    Specials.filter((s: BaseSpecial) => s.type === 'Öffentlichkeitskarte')\r\n      .forEach((s: BaseSpecial) => categories.public.push({ kind: 'spec', base: s }));\r\n\r\n    // Initiatives (Instant and Ongoing)\r\n    Specials.filter((s: BaseSpecial) => s.type === 'Sofort-Initiative' || s.type === 'Dauerhaft-Initiative')\r\n      .forEach((s: BaseSpecial) => categories.initiatives.push({ kind: 'spec', base: s }));\r\n\r\n    // Interventions\r\n    Specials.filter((s: BaseSpecial) => s.type === 'Intervention')\r\n      .forEach((s: BaseSpecial) => categories.interventions.push({ kind: 'spec', base: s }));\r\n\r\n    // Sort public, initiatives and interventions by effect rank (Influence, AP, Draw, Other)\r\n    const sortByEffect = (arr: Array<{ kind: 'pol' | 'spec'; base: BasePolitician | BaseSpecial }>) =>\r\n      arr.sort((a, b) => getEffectRank(a.base) - getEffectRank(b.base));\r\n\r\n    sortByEffect(categories.public);\r\n    sortByEffect(categories.initiatives);\r\n    sortByEffect(categories.interventions);\r\n\r\n    // Filter by search term\r\n    const matches = (kind: 'pol' | 'spec', base: BasePolitician | BaseSpecial) => {\r\n      if (!searchQuery) return true;\r\n      const hay = `${base.name} ${kind === 'pol' ? (base as BasePolitician).tag : (base as BaseSpecial).type}`.toLowerCase();\r\n      return hay.includes(searchQuery.toLowerCase());\r\n    };\r\n\r\n    // Combine all filtered cards for navigation\r\n    const allFilteredCards = [\r\n      ...categories.government.filter(({ kind, base }) => matches(kind, base)),\r\n      ...categories.public.filter(({ kind, base }) => matches(kind, base)),\r\n      ...categories.initiatives.filter(({ kind, base }) => matches(kind, base)),\r\n      ...categories.interventions.filter(({ kind, base }) => matches(kind, base))\r\n    ];\r\n\r\n    return {\r\n      categories: {\r\n        government: categories.government.filter(({ kind, base }) => matches(kind, base)),\r\n        public: categories.public.filter(({ kind, base }) => matches(kind, base)),\r\n        initiatives: categories.initiatives.filter(({ kind, base }) => matches(kind, base)),\r\n        interventions: categories.interventions.filter(({ kind, base }) => matches(kind, base))\r\n      },\r\n      allFilteredCards\r\n    };\r\n  }, [searchQuery]);\r\n\r\n\r\n\r\n  const builderCanAdd = useCallback((base: BasePolitician | BaseSpecial, kind: 'pol' | 'spec'): boolean => {\r\n    const tier = kind === 'spec' ? (base as BaseSpecial).tier : (base as BasePolitician).T;\r\n    const limit = tier >= 3 ? 1 : 2;\r\n    const entry = deck.find(e => e.kind === kind && e.baseId === base.id);\r\n    const already = entry ? entry.count : 0;\r\n    const cost = kind === 'pol' ? ((base as BasePolitician).BP ?? 0) : (base as BaseSpecial).bp;\r\n\r\n    return already < limit && count < 25 && (budget + cost) <= 300;\r\n  }, [deck, budget, count]);\r\n\r\n  const builderAdd = useCallback((base: BasePolitician | BaseSpecial, kind: 'pol' | 'spec') => {\r\n    if (!builderCanAdd(base, kind)) return;\r\n\r\n    setDeck(prev => {\r\n      const newDeck = [...prev];\r\n      let entry = newDeck.find(e => e.kind === kind && e.baseId === base.id);\r\n      if (!entry) {\r\n        entry = { kind, baseId: base.id, count: 0 };\r\n        newDeck.push(entry);\r\n      }\r\n      entry.count += 1;\r\n      return newDeck;\r\n    });\r\n    // Clear preset name when manually modifying deck\r\n    setSelectedDeckName('');\r\n  }, [builderCanAdd]);\r\n\r\n  const builderRemove = useCallback((base: BasePolitician | BaseSpecial, kind: 'pol' | 'spec') => {\r\n    setDeck(prev => {\r\n      const newDeck = [...prev];\r\n      let entry = newDeck.find(e => e.kind === kind && e.baseId === base.id);\r\n      if (!entry) return prev;\r\n\r\n      entry.count -= 1;\r\n      if (entry.count <= 0) {\r\n        return newDeck.filter(e => e !== entry);\r\n      }\r\n      return newDeck;\r\n    });\r\n    // Clear preset name when manually modifying deck\r\n    setSelectedDeckName('');\r\n  }, []);\r\n\r\n  const loadPresetDeck = useCallback((which: keyof typeof PRESET_DECKS) => {\r\n    const preset = PRESET_DECKS[which] as BuilderEntry[];\r\n    if (preset && preset.length > 0) {\r\n      setDeck([...preset]);\r\n      // Set deck name for display\r\n      const deckNames = {\r\n        'INITIATIVE_TEST_DECK': '⚡ Initiative Test Deck (10 Karten)',\r\n        'TEST_DECK_WITH_DRAW_EFFECTS': '🧪 Test Deck - Draw Effects (11 Karten)',\r\n        'TEST_DECK_5_CARDS': '🧪 Test Deck (5 Karten)',\r\n        'NEOLIBERAL_TECHNOKRAT': '🏛️ Neoliberaler Technokrat',\r\n        'AUTORITAERER_REALIST': '🦅 Autoritärer Realist',\r\n        'PROGRESSIVER_AKTIVISMUS': '🌱 Progressiver Aktivismus',\r\n        'POPULISTISCHER_OPPORTUNIST': '🎭 Populistischer Opportunist'\r\n      };\r\n      setSelectedDeckName(deckNames[which] || '');\r\n    }\r\n  }, []);\r\n\r\n\r\n\r\n  const handleApplyDeck = useCallback(() => {\r\n    if (count === 25 && budget <= 300) {\r\n      onApplyDeck(deck);\r\n      onClose();\r\n    }\r\n  }, [deck, count, budget, onApplyDeck, onClose]);\r\n\r\n  const handleCardClick = useCallback((kind: 'pol' | 'spec', base: BasePolitician | BaseSpecial) => {\r\n    setSelectedCard({ kind, base });\r\n  }, []);\r\n\r\n  const handleCloseCardDetail = useCallback(() => {\r\n    setSelectedCard(null);\r\n    setShowSources(false);\r\n  }, []);\r\n\r\n  const handlePreviousCard = useCallback(() => {\r\n    if (!selectedCard || !categorizedCards.allFilteredCards.length) return;\r\n\r\n    const currentIndex = categorizedCards.allFilteredCards.findIndex(\r\n      card => card.kind === selectedCard.kind && card.base.id === selectedCard.base.id\r\n    );\r\n\r\n    if (currentIndex > 0) {\r\n      const prevCard = categorizedCards.allFilteredCards[currentIndex - 1];\r\n      setSelectedCard({ kind: prevCard.kind, base: prevCard.base });\r\n    }\r\n  }, [selectedCard, categorizedCards.allFilteredCards]);\r\n\r\n  const handleNextCard = useCallback(() => {\r\n    if (!selectedCard || !categorizedCards.allFilteredCards.length) return;\r\n\r\n    const currentIndex = categorizedCards.allFilteredCards.findIndex(\r\n      card => card.kind === selectedCard.kind && card.base.id === selectedCard.base.id\r\n    );\r\n\r\n    if (currentIndex < categorizedCards.allFilteredCards.length - 1) {\r\n      const nextCard = categorizedCards.allFilteredCards[currentIndex + 1];\r\n      setSelectedCard({ kind: nextCard.kind, base: nextCard.base });\r\n    }\r\n  }, [selectedCard, categorizedCards.allFilteredCards]);\r\n\r\n  // Keyboard navigation\r\n  useEffect(() => {\r\n    const handleKeyDown = (event: KeyboardEvent) => {\r\n      if (!selectedCard) return;\r\n\r\n      switch (event.key) {\r\n        case 'ArrowLeft':\r\n          event.preventDefault();\r\n          handlePreviousCard();\r\n          break;\r\n        case 'ArrowRight':\r\n          event.preventDefault();\r\n          handleNextCard();\r\n          break;\r\n        case 'Escape':\r\n          event.preventDefault();\r\n          handleCloseCardDetail();\r\n          break;\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  }, [selectedCard, handlePreviousCard, handleNextCard, handleCloseCardDetail]);\r\n\r\n  const handleStartMatch = useCallback(() => {\r\n    const p1Deck: BuilderEntry[] = deck.length ? deck : [];\r\n    // 🧪 TEST DECK: P2 bekommt das gleiche Deck wie P1 für isoliertes Testing\r\n    const p2Deck: BuilderEntry[] = deck.length ? [...deck] : []; // Same deck as P1\r\n\r\n    console.log('🔧 DEBUG: Starting match with decks:', { p1Cards: p1Deck.length, p2Cards: p2Deck.length });\r\n    onStartMatch(p1Deck, p2Deck);\r\n    onClose();\r\n  }, [deck, onStartMatch, onClose]);\r\n\r\n  // Card Tile Component\r\n  const CardTile = React.memo(({ kind, base, onClick }: {\r\n    kind: 'pol' | 'spec';\r\n    base: BasePolitician | BaseSpecial;\r\n    onClick: () => void;\r\n  }) => (\r\n    <div\r\n      onClick={onClick}\r\n      style={{\r\n        background: '#0f1822',\r\n        border: '1px solid #26394c',\r\n        borderRadius: '8px',\r\n        padding: '4px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '4px',\r\n        cursor: 'pointer',\r\n        transition: 'all 0.2s ease',\r\n        width: '132px',\r\n        height: '180px',\r\n      }}\r\n      onMouseEnter={(e) => {\r\n        e.currentTarget.style.background = '#1a2a3a';\r\n        e.currentTarget.style.borderColor = '#3a4c5d';\r\n      }}\r\n      onMouseLeave={(e) => {\r\n        e.currentTarget.style.background = '#0f1822';\r\n        e.currentTarget.style.borderColor = '#26394c';\r\n      }}\r\n    >\r\n      <canvas\r\n        width={120}\r\n        height={120}\r\n        style={{\r\n          display: 'block',\r\n          width: '120px',\r\n          height: '120px',\r\n          borderRadius: '6px',\r\n          background: '#0b1118',\r\n          border: '1px solid #1e2c3b',\r\n        }}\r\n        ref={(canvas) => {\r\n          if (canvas) {\r\n            const ctx = canvas.getContext('2d');\r\n            if (ctx) {\r\n              const mockCard = {\r\n                kind,\r\n                baseId: base.id,\r\n                name: base.name,\r\n                uid: base.id,\r\n                id: base.id,\r\n                key: base.key,\r\n              } as any;\r\n              drawCardImage(ctx, mockCard, 0, 0, 120, 'ui');\r\n            }\r\n          }\r\n        }}\r\n      />\r\n      <h4 style={{\r\n        margin: 0,\r\n        fontSize: '10px',\r\n        fontWeight: 600,\r\n        color: '#dbe9f8',\r\n        textAlign: 'center',\r\n        lineHeight: '1.2',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n        display: '-webkit-box',\r\n        WebkitLineClamp: 2,\r\n        WebkitBoxOrient: 'vertical',\r\n        height: '24px',\r\n      }}>\r\n        {base.name}\r\n      </h4>\r\n      <div style={{\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        gap: '6px',\r\n        marginTop: 'auto',\r\n      }}>\r\n        <span style={{\r\n          fontSize: '9px',\r\n          color: '#a9c1da',\r\n          fontWeight: 500,\r\n        }}>\r\n          {kind === 'pol'\r\n            ? `${convertHPToUSD((base as BasePolitician).BP || 0)}`\r\n            : `${convertHPToUSD((base as BaseSpecial).bp)}`\r\n          }\r\n        </span>\r\n        <button\r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n            builderAdd(base, kind);\r\n          }}\r\n          disabled={!builderCanAdd(base, kind)}\r\n          style={{\r\n            background: '#90EE90',\r\n            color: '#2d572d',\r\n            border: 'none',\r\n            borderRadius: '4px',\r\n            padding: '2px 6px',\r\n            fontSize: '10px',\r\n            fontWeight: 'bold',\r\n            cursor: 'pointer',\r\n            opacity: builderCanAdd(base, kind) ? 1 : 0.5,\r\n            minWidth: '24px',\r\n            height: '20px',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n          }}\r\n        >\r\n          +\r\n        </button>\r\n      </div>\r\n    </div>\r\n  ));\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const HP_LIMIT = 108; // Regelwerk: 108 HP Budget für 25 Karten\r\n  const overBudget = budget > HP_LIMIT;\r\n  const overCount = count > 25;\r\n  const isValid = !overBudget && !overCount;\r\n\r\n  return (\r\n    <div style={{\r\n      position: 'absolute',\r\n      inset: 0,\r\n      display: 'flex',\r\n      background: 'rgba(4,8,12,.8)',\r\n      backdropFilter: 'blur(2px)',\r\n      zIndex: 40,\r\n    }}>\r\n      <div style={{\r\n        position: 'absolute',\r\n        inset: '12px',\r\n        background: '#0d1621',\r\n        border: '1px solid #1f3042',\r\n        borderRadius: '12px',\r\n        padding: '12px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '10px',\r\n      }}>\r\n        {/* Header */}\r\n        <div style={{\r\n          display: 'flex',\r\n          gap: '10px',\r\n          alignItems: 'center',\r\n        }}>\r\n          <div style={{ fontWeight: 600, fontSize: '14px', letterSpacing: '.4px' }}>\r\n            Deckbuilder{selectedDeckName ? ` - ${selectedDeckName}` : ''}\r\n          </div>\r\n          <span style={{\r\n            padding: '4px 8px',\r\n            borderRadius: '8px',\r\n            background: '#0f1a26',\r\n            border: '1px solid #203043',\r\n            fontSize: '12px',\r\n          }}>\r\n            Budget: {convertHPToUSD(budget)} / {convertHPToUSD(HP_LIMIT)}\r\n          </span>\r\n          <span style={{\r\n            padding: '4px 8px',\r\n            borderRadius: '8px',\r\n            background: '#0f1a26',\r\n            border: '1px solid #203043',\r\n            fontSize: '12px',\r\n          }}>\r\n            Karten: {count} / 25\r\n          </span>\r\n          <div style={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '8px',\r\n            flex: '0 0 220px',\r\n          }}>\r\n            <Icon name=\"search\" size={14} />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Suche (Name, Tag)\"\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              style={{\r\n                flex: 1,\r\n                outline: 'none',\r\n                padding: '4px 8px',\r\n                borderRadius: '8px',\r\n                background: '#0f1a26',\r\n                border: '1px solid #203043',\r\n                fontSize: '12px',\r\n                color: '#e8f0f8',\r\n              }}\r\n            />\r\n          </div>\r\n          <div style={{ flex: 1 }}></div>\r\n          <button\r\n            onClick={() => loadPresetDeck('INITIATIVE_TEST_DECK')}\r\n            style={{\r\n              background: '#4338ca',\r\n              color: '#ffffff',\r\n              border: '1px solid #6366f1',\r\n              borderRadius: '8px',\r\n              padding: '6px 10px',\r\n              fontSize: '11px',\r\n              cursor: 'pointer',\r\n              whiteSpace: 'nowrap',\r\n              fontWeight: 'bold',\r\n            }}\r\n          >\r\n            ⚡ Initiative Test (10 Karten)\r\n          </button>\r\n          <button\r\n            onClick={() => loadPresetDeck('TEST_DECK_WITH_DRAW_EFFECTS')}\r\n            style={{\r\n              background: '#ff6b35',\r\n              color: '#ffffff',\r\n              border: '1px solid #ff8c61',\r\n              borderRadius: '8px',\r\n              padding: '6px 10px',\r\n              fontSize: '11px',\r\n              cursor: 'pointer',\r\n              whiteSpace: 'nowrap',\r\n              fontWeight: 'bold',\r\n            }}\r\n          >\r\n            🧪 Draw Effects (11 Karten)\r\n          </button>\r\n          <button\r\n            onClick={() => loadPresetDeck('TEST_DECK_5_CARDS')}\r\n            style={{\r\n              background: '#df6530',\r\n              color: '#ffffff',\r\n              border: '1px solid #e5844c',\r\n              borderRadius: '8px',\r\n              padding: '6px 10px',\r\n              fontSize: '11px',\r\n              cursor: 'pointer',\r\n              whiteSpace: 'nowrap',\r\n              fontWeight: 'bold',\r\n            }}\r\n          >\r\n            🧪 Test (5 Karten)\r\n          </button>\r\n          <button\r\n            onClick={() => loadPresetDeck('NEOLIBERAL_TECHNOKRAT')}\r\n            style={{\r\n              background: '#162436',\r\n              color: '#eaf3ff',\r\n              border: '1px solid #27425b',\r\n              borderRadius: '8px',\r\n              padding: '6px 10px',\r\n              fontSize: '11px',\r\n              cursor: 'pointer',\r\n              whiteSpace: 'nowrap',\r\n            }}\r\n          >\r\n            🏛️ Neoliberaler Technokrat\r\n          </button>\r\n          <button\r\n            onClick={() => loadPresetDeck('AUTORITAERER_REALIST')}\r\n            style={{\r\n              background: '#162436',\r\n              color: '#eaf3ff',\r\n              border: '1px solid #27425b',\r\n              borderRadius: '8px',\r\n              padding: '6px 10px',\r\n              fontSize: '11px',\r\n              cursor: 'pointer',\r\n              whiteSpace: 'nowrap',\r\n            }}\r\n          >\r\n            🦅 Autoritärer Realist\r\n          </button>\r\n          <button\r\n            onClick={() => loadPresetDeck('PROGRESSIVER_AKTIVISMUS')}\r\n            style={{\r\n              background: '#162436',\r\n              color: '#eaf3ff',\r\n              border: '1px solid #27425b',\r\n              borderRadius: '8px',\r\n              padding: '6px 10px',\r\n              fontSize: '11px',\r\n              cursor: 'pointer',\r\n              whiteSpace: 'nowrap',\r\n            }}\r\n          >\r\n            🌱 Progressiver Aktivismus\r\n          </button>\r\n          <button\r\n            onClick={() => loadPresetDeck('POPULISTISCHER_OPPORTUNIST')}\r\n            style={{\r\n              background: '#162436',\r\n              color: '#eaf3ff',\r\n              border: '1px solid #27425b',\r\n              borderRadius: '8px',\r\n              padding: '6px 10px',\r\n              fontSize: '11px',\r\n              cursor: 'pointer',\r\n              whiteSpace: 'nowrap',\r\n            }}\r\n          >\r\n            🎭 Populistischer Opportunist\r\n          </button>\r\n          <button\r\n            onClick={onClose}\r\n            style={{\r\n              background: '#162436',\r\n              color: '#eaf3ff',\r\n              border: '1px solid #27425b',\r\n              borderRadius: '8px',\r\n              padding: '6px 10px',\r\n              fontSize: '12px',\r\n              cursor: 'pointer',\r\n            }}\r\n          >\r\n            Schließen\r\n          </button>\r\n        </div>\r\n\r\n        {/* Body */}\r\n        <div style={{\r\n          display: 'grid',\r\n          gridTemplateColumns: '1fr 360px',\r\n          gap: '12px',\r\n          minHeight: 0,\r\n          flex: 1,\r\n        }}>\r\n          {/* Categorized Card Columns */}\r\n          <div style={{\r\n            overflow: 'auto',\r\n            border: '1px solid #1f2c3a',\r\n            borderRadius: '10px',\r\n            padding: '8px',\r\n            background: '#0a121b',\r\n            display: 'grid',\r\n            gridTemplateColumns: 'repeat(4, 1fr)',\r\n            gap: '12px',\r\n          }}>\r\n            {/* Government Column */}\r\n            <div style={{\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              gap: '8px',\r\n            }}>\r\n              <div style={{\r\n                background: 'rgba(173, 216, 230, 0.2)',\r\n                border: '1px solid #4a90e2',\r\n                borderRadius: '8px',\r\n                padding: '8px',\r\n                textAlign: 'center',\r\n              }}>\r\n                <h3 style={{\r\n                  margin: 0,\r\n                  fontSize: '14px',\r\n                  fontWeight: 700,\r\n                  color: '#add8e6',\r\n                  marginBottom: '4px',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  gap: '8px',\r\n                }}>\r\n                  <Icon name=\"government_row\" size={16} />\r\n                  Government\r\n                </h3>\r\n                <p style={{\r\n                  margin: 0,\r\n                  fontSize: '11px',\r\n                  color: '#8bb5d9',\r\n                  lineHeight: '1.3',\r\n                }}>\r\n                  {withIcons('Politicians and state leaders who influence the government. Max 5 in the government hierarchy.')}\r\n                </p>\r\n              </div>\r\n              <div style={{\r\n                display: 'grid',\r\n                gridTemplateColumns: 'repeat(auto-fill, minmax(132px, 1fr))',\r\n                gap: '8px',\r\n                flex: 1,\r\n                justifyContent: 'start',\r\n                alignContent: 'start',\r\n              }}>\r\n                {categorizedCards.categories.government.map(({ kind, base }) => (\r\n                  <CardTile key={`${kind}-${base.id}`} kind={kind} base={base} onClick={() => handleCardClick(kind, base)} />\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Public Column */}\r\n            <div style={{\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              gap: '8px',\r\n            }}>\r\n              <div style={{\r\n                background: 'rgba(245, 245, 220, 0.2)',\r\n                border: '1px solid #d2b48c',\r\n                borderRadius: '8px',\r\n                padding: '8px',\r\n                textAlign: 'center',\r\n              }}>\r\n                <h3 style={{\r\n                  margin: 0,\r\n                  fontSize: '14px',\r\n                  fontWeight: 700,\r\n                  color: '#f5f5dc',\r\n                  marginBottom: '4px',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  gap: '8px',\r\n                }}>\r\n                  <Icon name=\"public_row\" size={16} />\r\n                  Public\r\n                </h3>\r\n                <p style={{\r\n                  margin: 0,\r\n                  fontSize: '11px',\r\n                  color: '#d2b48c',\r\n                  lineHeight: '1.3',\r\n                }}>\r\n                  {withIcons('People from media, business, and academia who support your actions.')}\r\n                </p>\r\n              </div>\r\n              <div style={{\r\n                display: 'grid',\r\n                gridTemplateColumns: 'repeat(auto-fill, minmax(132px, 1fr))',\r\n                gap: '8px',\r\n                flex: 1,\r\n                justifyContent: 'start',\r\n                alignContent: 'start',\r\n              }}>\r\n                {categorizedCards.categories.public.map(({ kind, base }) => (\r\n                  <CardTile key={`${kind}-${base.id}`} kind={kind} base={base} onClick={() => handleCardClick(kind, base)} />\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Initiatives Column */}\r\n            <div style={{\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              gap: '8px',\r\n            }}>\r\n              <div style={{\r\n                background: 'rgba(64, 224, 208, 0.2)',\r\n                border: '1px solid #40e0d0',\r\n                borderRadius: '8px',\r\n                padding: '8px',\r\n                textAlign: 'center',\r\n              }}>\r\n                <h3 style={{\r\n                  margin: 0,\r\n                  fontSize: '14px',\r\n                  fontWeight: 700,\r\n                  color: '#40e0d0',\r\n                  marginBottom: '4px',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  gap: '8px',\r\n                }}>\r\n                  <Icon name=\"initiative\" size={16} />\r\n                  Initiatives\r\n                </h3>\r\n                <p style={{\r\n                  margin: 0,\r\n                  fontSize: '11px',\r\n                  color: '#40e0d0',\r\n                  lineHeight: '1.3',\r\n                }}>\r\n                  {withIcons('One-time (Instant) and ongoing political actions for special effects.')}\r\n                </p>\r\n              </div>\r\n              <div style={{\r\n                display: 'grid',\r\n                gridTemplateColumns: 'repeat(auto-fill, minmax(132px, 1fr))',\r\n                gap: '8px',\r\n                flex: 1,\r\n                justifyContent: 'start',\r\n                alignContent: 'start',\r\n              }}>\r\n                {categorizedCards.categories.initiatives.map(({ kind, base }) => (\r\n                  <CardTile key={`${kind}-${base.id}`} kind={kind} base={base} onClick={() => handleCardClick(kind, base)} />\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Interventions Column */}\r\n            <div style={{\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              gap: '8px',\r\n            }}>\r\n              <div style={{\r\n                background: 'rgba(200, 160, 255, 0.2)',\r\n                border: '1px solid #c8a0ff',\r\n                borderRadius: '8px',\r\n                padding: '8px',\r\n                textAlign: 'center',\r\n              }}>\r\n                <h3 style={{\r\n                  margin: 0,\r\n                  fontSize: '14px',\r\n                  fontWeight: 700,\r\n                  color: '#c8a0ff',\r\n                  marginBottom: '4px',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  gap: '8px',\r\n                }}>\r\n                  <Icon name=\"intervention_trap\" size={16} />\r\n                  Interventions\r\n                </h3>\r\n                <p style={{\r\n                  margin: 0,\r\n                  fontSize: '11px',\r\n                  color: '#c8a0ff',\r\n                  lineHeight: '1.3',\r\n                }}>\r\n                  {withIcons('Concealed trap cards that trigger automatically and disrupt enemy strategies.')}\r\n                </p>\r\n              </div>\r\n              <div style={{\r\n                display: 'grid',\r\n                gridTemplateColumns: 'repeat(auto-fill, minmax(132px, 1fr))',\r\n                gap: '8px',\r\n                flex: 1,\r\n                justifyContent: 'start',\r\n                alignContent: 'start',\r\n              }}>\r\n                {categorizedCards.categories.interventions.map(({ kind, base }) => (\r\n                  <CardTile key={`${kind}-${base.id}`} kind={kind} base={base} onClick={() => handleCardClick(kind, base)} />\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Sidebar */}\r\n          <div style={{\r\n            overflow: 'auto',\r\n            border: '1px solid #1f2c3a',\r\n            borderRadius: '10px',\r\n            padding: '8px',\r\n            background: '#0a121b',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            gap: '10px',\r\n          }}>\r\n            {/* Stats */}\r\n            <div style={{\r\n              display: 'flex',\r\n              flexWrap: 'wrap',\r\n              gap: '6px',\r\n              alignItems: 'center',\r\n              fontSize: '12px',\r\n              color: '#cfe0f2',\r\n            }}>\r\n              <div style={{\r\n                padding: '4px 8px',\r\n                borderRadius: '8px',\r\n                background: '#0f1a26',\r\n                border: '1px solid #203043',\r\n                fontSize: '12px',\r\n                color: isValid ? '#4ade80' : '#ef4444',\r\n              }}>\r\n                {isValid ? 'Deck OK' : `Deck invalid${overBudget ? ' · Budget' : ''}${overCount ? ' · Cards' : ''}`}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Deck List */}\r\n            <div style={{ flex: 1, overflow: 'auto' }}>\r\n              {deck.map(entry => {\r\n                const base = entry.kind === 'pol'\r\n                  ? Pols.find((p: BasePolitician) => p.id === entry.baseId)\r\n                  : Specials.find((s: BaseSpecial) => s.id === entry.baseId);\r\n                if (!base) return null;\r\n\r\n                return (\r\n                  <div key={`${entry.kind}-${entry.baseId}`} style={{\r\n                    display: 'flex',\r\n                    justifyContent: 'space-between',\r\n                    alignItems: 'center',\r\n                    padding: '6px 8px',\r\n                    borderBottom: '1px solid #182433',\r\n                    fontSize: '12px',\r\n                  }}>\r\n                    <div style={{ flex: 1 }}>{entry.count}× {base.name}</div>\r\n                    <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n                      <div>{convertHPToUSD(entry.kind === 'pol' ? (base as BasePolitician).BP || 0 : (base as BaseSpecial).bp)}</div>\r\n                      <div style={{ display: 'flex', gap: '4px' }}>\r\n                        <button\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            builderRemove(base, entry.kind);\r\n                          }}\r\n                          style={{\r\n                            background: '#dc2626',\r\n                            border: 'none',\r\n                            borderRadius: '4px',\r\n                            color: 'white',\r\n                            width: '20px',\r\n                            height: '20px',\r\n                            fontSize: '12px',\r\n                            cursor: 'pointer',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                          }}\r\n                          title=\"Remove one\"\r\n                        >\r\n                          −\r\n                        </button>\r\n                        <button\r\n                          onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            builderAdd(base, entry.kind);\r\n                          }}\r\n                          disabled={!builderCanAdd(base, entry.kind)}\r\n                          style={{\r\n                            background: builderCanAdd(base, entry.kind) ? '#059669' : '#6b7280',\r\n                            border: 'none',\r\n                            borderRadius: '4px',\r\n                            color: 'white',\r\n                            width: '20px',\r\n                            height: '20px',\r\n                            fontSize: '12px',\r\n                            cursor: builderCanAdd(base, entry.kind) ? 'pointer' : 'not-allowed',\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                          }}\r\n                          title=\"Add one\"\r\n                        >\r\n                          +\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n\r\n            {/* Actions */}\r\n            <div style={{\r\n              display: 'flex',\r\n              gap: '8px',\r\n              flexWrap: 'wrap',\r\n            }}>\r\n              <button\r\n                onClick={handleApplyDeck}\r\n                disabled={!isValid}\r\n                style={{\r\n                  background: '#162436',\r\n                  color: '#eaf3ff',\r\n                  border: '1px solid #27425b',\r\n                  borderRadius: '8px',\r\n                  padding: '6px 10px',\r\n                  fontSize: '12px',\r\n                  cursor: 'pointer',\r\n                  opacity: isValid ? 1 : 0.6,\r\n                }}\r\n              >\r\n                Use as P1 Deck\r\n              </button>\r\n              <button\r\n                onClick={handleStartMatch}\r\n                style={{\r\n                  background: '#162436',\r\n                  color: '#eaf3ff',\r\n                  border: '1px solid #27425b',\r\n                  borderRadius: '8px',\r\n                  padding: '6px 10px',\r\n                  fontSize: '12px',\r\n                  cursor: 'pointer',\r\n                }}\r\n              >\r\n                Start Match\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Card Detail Modal */}\r\n      {selectedCard && (() => {\r\n        const cardDetails = getCardDetails(selectedCard.base.name);\r\n        return (\r\n        <div style={{\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          right: 0,\r\n          bottom: 0,\r\n          background: 'rgba(0,0,0,0.8)',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'flex-start',\r\n          paddingLeft: '20px',\r\n          zIndex: 50,\r\n        }}>\r\n          <div style={{\r\n            background: '#0d1621',\r\n            border: '3px solid #ffffff',\r\n            borderRadius: '16px',\r\n            padding: '24px',\r\n            display: 'flex',\r\n              gap: '24px',\r\n              width: 'calc(70vw)',\r\n              height: 'calc(90vh)',\r\n            overflow: 'hidden',\r\n              position: 'relative',\r\n          }}>\r\n              {/* Card Image - Full 1024x1024 size with custom corners */}\r\n            <div style={{\r\n              flex: '0 0 1024px',\r\n              height: '1024px',\r\n              background: '#0b1118',\r\n              border: '2px solid #ffffff',\r\n              borderRadius: '12px',\r\n              overflow: 'hidden',\r\n              position: 'relative',\r\n            }}>\r\n              {/* Navigation Arrows */}\r\n              <button\r\n                onClick={handlePreviousCard}\r\n                style={{\r\n                  position: 'absolute',\r\n                  left: '16px',\r\n                  top: '50%',\r\n                  transform: 'translateY(-50%)',\r\n                  background: 'rgba(13, 22, 33, 0.9)',\r\n                  border: '2px solid #1f3042',\r\n                  borderRadius: '50%',\r\n                  width: '48px',\r\n                  height: '48px',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  cursor: 'pointer',\r\n                  color: '#eaf3ff',\r\n                  fontSize: '20px',\r\n                  fontWeight: 'bold',\r\n                  zIndex: 10,\r\n                  transition: 'all 0.2s ease',\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  e.currentTarget.style.background = 'rgba(22, 36, 54, 0.95)';\r\n                  e.currentTarget.style.borderColor = '#27425b';\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.currentTarget.style.background = 'rgba(13, 22, 33, 0.9)';\r\n                  e.currentTarget.style.borderColor = '#1f3042';\r\n                }}\r\n              >\r\n                ‹\r\n              </button>\r\n\r\n              <button\r\n                onClick={handleNextCard}\r\n                style={{\r\n                  position: 'absolute',\r\n                  right: '16px',\r\n                  top: '50%',\r\n                  transform: 'translateY(-50%)',\r\n                  background: 'rgba(13, 22, 33, 0.9)',\r\n                  border: '2px solid #1f3042',\r\n                  borderRadius: '50%',\r\n                  width: '48px',\r\n                  height: '48px',\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  cursor: 'pointer',\r\n                  color: '#eaf3ff',\r\n                  fontSize: '20px',\r\n                  fontWeight: 'bold',\r\n                  zIndex: 10,\r\n                  transition: 'all 0.2s ease',\r\n                }}\r\n                onMouseEnter={(e) => {\r\n                  e.currentTarget.style.background = 'rgba(22, 36, 54, 0.95)';\r\n                  e.currentTarget.style.borderColor = '#27425b';\r\n                }}\r\n                onMouseLeave={(e) => {\r\n                  e.currentTarget.style.background = 'rgba(13, 22, 33, 0.9)';\r\n                  e.currentTarget.style.borderColor = '#1f3042';\r\n                }}\r\n              >\r\n                ›\r\n              </button>\r\n\r\n              <canvas\r\n                width={1024}\r\n                height={1024}\r\n                style={{\r\n                  display: 'block',\r\n                    width: '1024px',\r\n                    height: '1024px',\r\n                }}\r\n                ref={(canvas) => {\r\n                  if (canvas) {\r\n                    const ctx = canvas.getContext('2d');\r\n                    if (ctx) {\r\n                      // Create a mock card object for drawing\r\n                      const mockCard = {\r\n                        kind: selectedCard.kind,\r\n                        baseId: selectedCard.base.id,\r\n                        name: selectedCard.base.name,\r\n                        uid: selectedCard.base.id,\r\n                        id: selectedCard.base.id,\r\n                        key: selectedCard.base.key,\r\n                      } as any;\r\n                      drawCardImage(ctx, mockCard, 0, 0, 1024, 'modal');\r\n                    }\r\n                  }\r\n                }}\r\n              />\r\n            </div>\r\n\r\n              {/* Card Information Panel */}\r\n            <div style={{\r\n              flex: '1',\r\n                minWidth: '400px',\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n                gap: '20px',\r\n                position: 'relative',\r\n            }}>\r\n                {/* Header with Cost in Top Right */}\r\n              <div style={{\r\n                display: 'flex',\r\n                justifyContent: 'space-between',\r\n                alignItems: 'flex-start',\r\n              }}>\r\n                  <div style={{ flex: 1 }}>\r\n                  <h2 style={{\r\n                      margin: '0 0 8px 0',\r\n                      fontSize: '28px',\r\n                    fontWeight: 700,\r\n                    color: '#eaf3ff',\r\n                      lineHeight: '1.2',\r\n                  }}>\r\n                    {selectedCard.base.name}\r\n                  </h2>\r\n\r\n                    {/* Category */}\r\n                  <div style={{\r\n                      fontSize: '16px',\r\n                      fontWeight: 600,\r\n                      color: '#dbe9f8',\r\n                      marginBottom: '4px',\r\n                    }}>\r\n                      {cardDetails?.category || (selectedCard.kind === 'pol' ? 'Government' : 'Public')}\r\n                    </div>\r\n\r\n                    {/* Subcategories */}\r\n                    {cardDetails?.subcategories && cardDetails.subcategories.length > 0 && (\r\n                      <div style={{\r\n                        fontSize: '14px',\r\n                        color: '#a9c1da',\r\n                        marginBottom: '4px',\r\n                      }}>\r\n                        {cardDetails.subcategories.join(', ')}\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Position (without label) */}\r\n                    {cardDetails?.highestPosition && (\r\n                      <div style={{\r\n                        fontSize: '14px',\r\n                    color: '#8faecc',\r\n                        marginBottom: '8px',\r\n                      }}>\r\n                        {cardDetails.highestPosition}\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* For specials: show type, tier, speed, slot */}\r\n                    {selectedCard.kind === 'spec' && (\r\n                      <div style={{\r\n                        fontSize: '14px',\r\n                        color: '#8faecc',\r\n                        marginBottom: '4px',\r\n                      }}>\r\n                        {cardDetails?.cardType || (selectedCard.kind === 'spec' ? (selectedCard.base as any).type : '')}\r\n                        {cardDetails?.tier && ` • ${cardDetails.tier}`}\r\n                        {cardDetails?.speed && ` • ${cardDetails.speed}`}\r\n                        {cardDetails?.slot && ` • Slot: ${cardDetails.slot}`}\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* For government: show base stats */}\r\n                    {selectedCard.kind === 'pol' && (\r\n                      <div style={{\r\n                        display: 'flex',\r\n                        gap: '10px',\r\n                        flexWrap: 'wrap',\r\n                        marginTop: '4px',\r\n                        marginBottom: '4px',\r\n                        color: '#a9c1da',\r\n                        fontSize: '14px',\r\n                      }}>\r\n                        <span>Influence: {(selectedCard.base as any).influence}</span>\r\n                        <span>Tier: {(selectedCard.base as any).T}</span>\r\n                        <span>Keyword: {(selectedCard.base as any).tag}</span>\r\n                      </div>\r\n                    )}\r\n\r\n                    <div style={{\r\n                      fontSize: '12px',\r\n                      color: '#6b7280',\r\n                    fontWeight: 500,\r\n                  }}>\r\n                    Card {categorizedCards.allFilteredCards.findIndex(\r\n                      card => card.kind === selectedCard.kind && card.base.id === selectedCard.base.id\r\n                    ) + 1} of {categorizedCards.allFilteredCards.length}\r\n                  </div>\r\n                </div>\r\n\r\n                  {/* Cost in Top Right Corner */}\r\n                  <div style={{\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    alignItems: 'flex-end',\r\n                    gap: '8px',\r\n                  }}>\r\n                    <div style={{\r\n                      background: '#1f2937',\r\n                      border: '1px solid #374151',\r\n                      borderRadius: '8px',\r\n                      padding: '8px 12px',\r\n                      fontSize: '14px',\r\n                      color: '#e5e7eb',\r\n                    }}>\r\n                      Cost: {convertHPToUSD(cardDetails?.deckCost || (selectedCard.kind === 'pol' ? (selectedCard.base as BasePolitician).BP || 0 : (selectedCard.base as BaseSpecial).bp))}\r\n                    </div>\r\n\r\n                <button\r\n                  onClick={handleCloseCardDetail}\r\n                  style={{\r\n                    background: 'none',\r\n                    border: 'none',\r\n                    color: '#8faecc',\r\n                    fontSize: '24px',\r\n                    cursor: 'pointer',\r\n                    padding: '4px',\r\n                    borderRadius: '4px',\r\n                  }}\r\n                  onMouseEnter={(e) => {\r\n                    e.currentTarget.style.background = '#1a2a3a';\r\n                  }}\r\n                  onMouseLeave={(e) => {\r\n                    e.currentTarget.style.background = 'none';\r\n                  }}\r\n                >\r\n                  ×\r\n                </button>\r\n                  </div>\r\n              </div>\r\n\r\n                {/* Game Effect */}\r\n              <div style={{\r\n                  background: '#111827',\r\n                  border: '1px solid #ffffff',\r\n                  borderRadius: '12px',\r\n                  padding: '20px',\r\n              }}>\r\n                <h3 style={{\r\n                  margin: '0 0 12px 0',\r\n                  fontSize: '16px',\r\n                  fontWeight: 600,\r\n                    color: '#e5e7eb',\r\n                }}>\r\n                    Game Effect\r\n                </h3>\r\n\r\n                  <p style={{\r\n                    margin: 0,\r\n                    color: '#d1d5db',\r\n                    lineHeight: '1.5',\r\n                    fontSize: '15px',\r\n                  }}>\r\n                    {cardDetails?.gameEffect || (selectedCard.kind === 'spec'\r\n                      ? (selectedCard.base as BaseSpecial).effect\r\n                      : 'Passive Politician abilities based on Tag')}\r\n                  </p>\r\n              </div>\r\n\r\n                {/* Synergy for Public */}\r\n                {cardDetails?.synergy && (\r\n                  <div style={{\r\n                    background: '#111827',\r\n                    border: '1px solid #ffffff',\r\n                    borderRadius: '12px',\r\n                    padding: '20px',\r\n                  }}>\r\n                    <h3 style={{\r\n                      margin: '0 0 12px 0',\r\n                      fontSize: '16px',\r\n                      fontWeight: 600,\r\n                      color: '#e5e7eb',\r\n                    }}>\r\n                      Synergy\r\n                    </h3>\r\n                    <p style={{\r\n                      margin: 0,\r\n                      color: '#d1d5db',\r\n                      lineHeight: '1.5',\r\n                      fontSize: '15px',\r\n                    }}>\r\n                      {cardDetails.synergy}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Trigger Information for Interventions */}\r\n                {cardDetails?.trigger && (\r\n              <div style={{\r\n                    background: '#111827',\r\n                    border: '1px solid #ffffff',\r\n                    borderRadius: '12px',\r\n                    padding: '20px',\r\n              }}>\r\n                <h3 style={{\r\n                  margin: '0 0 12px 0',\r\n                  fontSize: '16px',\r\n                  fontWeight: 600,\r\n                      color: '#e5e7eb',\r\n                }}>\r\n                      Trigger\r\n                </h3>\r\n                <p style={{\r\n                  margin: 0,\r\n                      color: '#d1d5db',\r\n                  lineHeight: '1.5',\r\n                      fontSize: '15px',\r\n                }}>\r\n                      {cardDetails.trigger}\r\n                </p>\r\n              </div>\r\n                )}\r\n\r\n                {/* Usage and Example for Initiatives/Interventions */}\r\n                {(cardDetails?.usage || cardDetails?.example) && (\r\n                  <div style={{\r\n                    background: '#111827',\r\n                    border: '1px solid #ffffff',\r\n                    borderRadius: '12px',\r\n                    padding: '20px',\r\n                  }}>\r\n                    {cardDetails.usage && (\r\n                      <div style={{ marginBottom: '10px' }}>\r\n                        <div style={{ fontSize: '12px', color: '#9ca3af', marginBottom: '4px' }}>When to play?</div>\r\n                        <div style={{ color: '#d1d5db', fontSize: '15px', lineHeight: '1.5' }}>{cardDetails.usage}</div>\r\n                      </div>\r\n                    )}\r\n                    {cardDetails.example && (\r\n                      <div>\r\n                        <div style={{ fontSize: '12px', color: '#9ca3af', marginBottom: '4px' }}>Example</div>\r\n                        <div style={{ color: '#d1d5db', fontSize: '15px', lineHeight: '1.5' }}>{cardDetails.example}</div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n\r\n                {/* Personal Information */}\r\n                {cardDetails && (cardDetails.nationality || cardDetails.birthDate || cardDetails.estimatedWealth || cardDetails.controversialQuote) && (\r\n                  <div style={{\r\n                    background: '#111827',\r\n                    border: '1px solid #ffffff',\r\n                    borderRadius: '12px',\r\n                    padding: '20px',\r\n                  }}>\r\n                    <h3 style={{\r\n                      margin: '0 0 16px 0',\r\n                      fontSize: '16px',\r\n                      fontWeight: 600,\r\n                      color: '#e5e7eb',\r\n                    }}>\r\n                      Personal Information\r\n                    </h3>\r\n\r\n                    <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '12px' }}>\r\n                      {cardDetails.nationality && (\r\n                        <div>\r\n                          <div style={{ fontSize: '12px', color: '#9ca3af', marginBottom: '4px' }}>Nationality</div>\r\n                          <div style={{ color: '#e5e7eb', fontWeight: 500 }}>{cardDetails.nationality}</div>\r\n                        </div>\r\n                      )}\r\n\r\n                      {cardDetails.birthDate && (\r\n                        <div>\r\n                          <div style={{ fontSize: '12px', color: '#9ca3af', marginBottom: '4px' }}>Birth Date</div>\r\n                          <div style={{ color: '#e5e7eb', fontWeight: 500 }}>{cardDetails.birthDate}</div>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n\r\n                    {cardDetails.estimatedWealth && (\r\n                      <div style={{ marginTop: '12px' }}>\r\n                        <div style={{ fontSize: '12px', color: '#9ca3af', marginBottom: '4px' }}>Estimated Wealth</div>\r\n                        <div style={{ color: '#e5e7eb', fontWeight: 500 }}>{formatWealth(cardDetails.estimatedWealth)}</div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {cardDetails.controversialQuote && (\r\n                      <div style={{\r\n                        marginTop: '16px',\r\n                        background: '#1f2937',\r\n                        border: '1px solid #ffffff',\r\n                        borderRadius: '8px',\r\n                        padding: '12px',\r\n                      }}>\r\n                        <div style={{ fontSize: '12px', color: '#9ca3af', marginBottom: '6px' }}>Quote</div>\r\n                        <div style={{\r\n                          color: '#d1d5db',\r\n                          fontStyle: 'italic',\r\n                          lineHeight: '1.4',\r\n                          fontSize: '14px',\r\n                        }}>\r\n                          {cardDetails.controversialQuote}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Sources integrated into modal */}\r\n                    {cardDetails?.sources && cardDetails.sources.length > 0 && (\r\n                      <div style={{ marginTop: '16px' }}>\r\n                        <button\r\n                          onClick={() => setShowSources(!showSources)}\r\n                          style={{\r\n                            background: 'none',\r\n                            border: 'none',\r\n                            color: '#9ca3af',\r\n                            fontSize: '12px',\r\n                            cursor: 'pointer',\r\n                            textDecoration: 'underline',\r\n                            padding: 0,\r\n                          }}\r\n                        >\r\n                          Show Sources\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n\r\n                {/* Action Button */}\r\n              <div style={{\r\n                display: 'flex',\r\n                gap: '12px',\r\n                marginTop: 'auto',\r\n              }}>\r\n                <button\r\n                  onClick={() => {\r\n                    builderAdd(selectedCard.base, selectedCard.kind);\r\n                    handleCloseCardDetail();\r\n                  }}\r\n                  disabled={!builderCanAdd(selectedCard.base, selectedCard.kind)}\r\n                  style={{\r\n                    flex: 1,\r\n                      background: builderCanAdd(selectedCard.base, selectedCard.kind)\r\n                        ? '#374151'\r\n                        : '#1f2937',\r\n                      color: '#e5e7eb',\r\n                      border: '1px solid #4b5563',\r\n                    borderRadius: '8px',\r\n                    padding: '12px',\r\n                    fontSize: '14px',\r\n                    fontWeight: 600,\r\n                      cursor: builderCanAdd(selectedCard.base, selectedCard.kind) ? 'pointer' : 'not-allowed',\r\n                      opacity: builderCanAdd(selectedCard.base, selectedCard.kind) ? 1 : 0.6,\r\n                  }}\r\n                >\r\n                  Add to Deck\r\n                </button>\r\n              </div>\r\n            </div>\r\n            </div>\r\n\r\n            {/* Mini Modal for Sources */}\r\n            {showSources && cardDetails?.sources && (\r\n              <div style={{\r\n                position: 'fixed',\r\n                top: 'calc(50% + 5px)',\r\n                left: 'calc(50% + 5px)',\r\n                transform: 'translate(-50%, -50%)',\r\n                background: '#0d1621',\r\n                border: '2px solid #ffffff',\r\n                borderRadius: '12px',\r\n                padding: '20px',\r\n                minWidth: '400px',\r\n                maxWidth: '600px',\r\n                boxShadow: '0 20px 60px rgba(0, 0, 0, 0.8)',\r\n                zIndex: 60,\r\n              }}>\r\n                <div style={{\r\n                  display: 'flex',\r\n                  justifyContent: 'space-between',\r\n                  alignItems: 'center',\r\n                  marginBottom: '16px',\r\n                }}>\r\n                  <h4 style={{\r\n                    margin: 0,\r\n                    fontSize: '16px',\r\n                    fontWeight: 600,\r\n                    color: '#e5e7eb',\r\n                  }}>\r\n                    Sources & Calculation Basis\r\n                  </h4>\r\n                  <button\r\n                    onClick={() => setShowSources(false)}\r\n                    style={{\r\n                      background: 'none',\r\n                      border: 'none',\r\n                      color: '#9ca3af',\r\n                      fontSize: '20px',\r\n                      cursor: 'pointer',\r\n                      padding: '4px',\r\n                    }}\r\n                  >\r\n                    ×\r\n                  </button>\r\n                </div>\r\n\r\n                {cardDetails.calculation && (\r\n                  <div style={{ marginBottom: '16px' }}>\r\n                    <div style={{ fontSize: '12px', color: '#9ca3af', marginBottom: '6px' }}>Calculation:</div>\r\n                    <div style={{\r\n                      color: '#d1d5db',\r\n                      fontSize: '13px',\r\n                      lineHeight: '1.4',\r\n                      background: '#1f2937',\r\n                      padding: '10px',\r\n                      borderRadius: '6px',\r\n                    }}>\r\n                      {cardDetails.calculation}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n                <div style={{ fontSize: '12px', color: '#9ca3af', marginBottom: '6px' }}>Sources:</div>\r\n                <div style={{\r\n                  color: '#d1d5db',\r\n                  fontSize: '13px',\r\n                  lineHeight: '1.4',\r\n                }}>\r\n                  {formatSources(cardDetails.sources)}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n      })()}\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}