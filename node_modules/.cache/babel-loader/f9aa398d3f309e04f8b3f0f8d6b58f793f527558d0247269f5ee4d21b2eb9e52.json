{"ast":null,"code":"function other(p) {\n  return p === 1 ? 2 : 1;\n}\nexport function startOfTurn(state, p) {\n  var _state$board$p$aussen, _state$board$p;\n  // AP reset\n  state.actionPoints[p] = 2;\n\n  // Flags reset\n  const f = state.effectFlags[p];\n  f.zuckOnceAp = false;\n  f.zuckSpent = false;\n  f.aiWeiweiOnActivate = false;\n  f.auraScience = 0;\n  f.auraHealth = 0;\n  f.auraMilitaryPenalty = 0;\n\n  // Auren/Boardscan\n  const pubNames = ((_state$board$p$aussen = (_state$board$p = state.board[p]) === null || _state$board$p === void 0 ? void 0 : _state$board$p.aussen) !== null && _state$board$p$aussen !== void 0 ? _state$board$p$aussen : []).map(c => c.name);\n  if (pubNames.includes('Jennifer Doudna')) f.auraScience += 1;\n  if (pubNames.includes('Anthony Fauci')) f.auraHealth += 1;\n  if (pubNames.includes('Noam Chomsky')) f.auraMilitaryPenalty += 1;\n\n  // einmalige Aktivierungsboni\n  if (pubNames.includes('Mark Zuckerberg')) f.zuckOnceAp = true;\n  if (pubNames.includes('Ai Weiwei')) f.aiWeiweiOnActivate = true;\n}\n\n// Legacy compatibility\nexport function applyStartOfTurnFlags(state, player, log) {\n  startOfTurn(state, player);\n}\nexport function applyStartOfTurnHooks(state, player, log) {\n  applyStartOfTurnFlags(state, player, log);\n}","map":{"version":3,"names":["other","p","startOfTurn","state","_state$board$p$aussen","_state$board$p","actionPoints","f","effectFlags","zuckOnceAp","zuckSpent","aiWeiweiOnActivate","auraScience","auraHealth","auraMilitaryPenalty","pubNames","board","aussen","map","c","name","includes","applyStartOfTurnFlags","player","log","applyStartOfTurnHooks"],"sources":["C:/Users/skank/Videos/Cards/Milchcards/src/utils/startOfTurnHooks.ts"],"sourcesContent":["import { GameState, Player } from '../types/game';\r\n\r\nfunction other(p: Player): Player { return p === 1 ? 2 : 1; }\r\n\r\nexport function startOfTurn(state: GameState, p: Player) {\r\n  // AP reset\r\n  state.actionPoints[p] = 2;\r\n\r\n  // Flags reset\r\n  const f = state.effectFlags[p];\r\n  f.zuckOnceAp = false;\r\n  f.zuckSpent = false;\r\n  f.aiWeiweiOnActivate = false;\r\n  f.auraScience = 0;\r\n  f.auraHealth = 0;\r\n  f.auraMilitaryPenalty = 0;\r\n\r\n  // Auren/Boardscan\r\n  const pubNames = (state.board[p]?.aussen ?? []).map(c => c.name);\r\n  if (pubNames.includes('Jennifer Doudna')) f.auraScience! += 1;\r\n  if (pubNames.includes('Anthony Fauci')) f.auraHealth! += 1;\r\n  if (pubNames.includes('Noam Chomsky')) f.auraMilitaryPenalty! += 1;\r\n\r\n  // einmalige Aktivierungsboni\r\n  if (pubNames.includes('Mark Zuckerberg')) f.zuckOnceAp = true;\r\n  if (pubNames.includes('Ai Weiwei')) f.aiWeiweiOnActivate = true;\r\n}\r\n\r\n// Legacy compatibility\r\nexport function applyStartOfTurnFlags(state: GameState, player: Player, log: (m: string) => void) {\r\n  startOfTurn(state, player);\r\n}\r\n\r\nexport function applyStartOfTurnHooks(state: GameState, player: Player, log: (m: string) => void) {\r\n  applyStartOfTurnFlags(state, player, log);\r\n}"],"mappings":"AAEA,SAASA,KAAKA,CAACC,CAAS,EAAU;EAAE,OAAOA,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC;AAAE;AAE5D,OAAO,SAASC,WAAWA,CAACC,KAAgB,EAAEF,CAAS,EAAE;EAAA,IAAAG,qBAAA,EAAAC,cAAA;EACvD;EACAF,KAAK,CAACG,YAAY,CAACL,CAAC,CAAC,GAAG,CAAC;;EAEzB;EACA,MAAMM,CAAC,GAAGJ,KAAK,CAACK,WAAW,CAACP,CAAC,CAAC;EAC9BM,CAAC,CAACE,UAAU,GAAG,KAAK;EACpBF,CAAC,CAACG,SAAS,GAAG,KAAK;EACnBH,CAAC,CAACI,kBAAkB,GAAG,KAAK;EAC5BJ,CAAC,CAACK,WAAW,GAAG,CAAC;EACjBL,CAAC,CAACM,UAAU,GAAG,CAAC;EAChBN,CAAC,CAACO,mBAAmB,GAAG,CAAC;;EAEzB;EACA,MAAMC,QAAQ,GAAG,EAAAX,qBAAA,IAAAC,cAAA,GAACF,KAAK,CAACa,KAAK,CAACf,CAAC,CAAC,cAAAI,cAAA,uBAAdA,cAAA,CAAgBY,MAAM,cAAAb,qBAAA,cAAAA,qBAAA,GAAI,EAAE,EAAEc,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,CAAC;EAChE,IAAIL,QAAQ,CAACM,QAAQ,CAAC,iBAAiB,CAAC,EAAEd,CAAC,CAACK,WAAW,IAAK,CAAC;EAC7D,IAAIG,QAAQ,CAACM,QAAQ,CAAC,eAAe,CAAC,EAAEd,CAAC,CAACM,UAAU,IAAK,CAAC;EAC1D,IAAIE,QAAQ,CAACM,QAAQ,CAAC,cAAc,CAAC,EAAEd,CAAC,CAACO,mBAAmB,IAAK,CAAC;;EAElE;EACA,IAAIC,QAAQ,CAACM,QAAQ,CAAC,iBAAiB,CAAC,EAAEd,CAAC,CAACE,UAAU,GAAG,IAAI;EAC7D,IAAIM,QAAQ,CAACM,QAAQ,CAAC,WAAW,CAAC,EAAEd,CAAC,CAACI,kBAAkB,GAAG,IAAI;AACjE;;AAEA;AACA,OAAO,SAASW,qBAAqBA,CAACnB,KAAgB,EAAEoB,MAAc,EAAEC,GAAwB,EAAE;EAChGtB,WAAW,CAACC,KAAK,EAAEoB,MAAM,CAAC;AAC5B;AAEA,OAAO,SAASE,qBAAqBA,CAACtB,KAAgB,EAAEoB,MAAc,EAAEC,GAAwB,EAAE;EAChGF,qBAAqB,CAACnB,KAAK,EAAEoB,MAAM,EAAEC,GAAG,CAAC;AAC3C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}